fix_git_mess.py
Python
import os
import shutil
import subprocess

def run_cmd(cmd):
    """ëª…ë ¹ì–´ ì‹¤í–‰ í•¨ìˆ˜"""
    try:
        subprocess.run(cmd, shell=True, check=True)
    except subprocess.CalledProcessError:
        pass # ì—ëŸ¬ë‚˜ë„ ì¼ë‹¨ ë¬´ì‹œí•˜ê³  ì§„í–‰ (ê°•ì œ ì²­ì†Œ)

def fix_git_mess():
    root_dir = os.getcwd()
    print(f"ğŸ”¥ [Git ì²­ì†Œê¸°] ì‹œì‘: {root_dir}")
    print("------------------------------------------------")

    # 1. ì¤‘ë³µëœ .git í´ë” ì°¾ê¸°
    nested_gits = []
    for dirpath, dirnames, filenames in os.walk(root_dir):
        if '.git' in dirnames:
            git_path = os.path.join(dirpath, '.git')
            # ìµœìƒìœ„(ë£¨íŠ¸) .gitì€ ê±´ë“œë¦¬ë©´ ì•ˆë¨!
            if os.path.abspath(git_path) == os.path.abspath(os.path.join(root_dir, '.git')):
                continue
            nested_gits.append(git_path)

    if not nested_gits:
        print("âœ… ì¤‘ë³µëœ .git í´ë”ê°€ ì—†ìŠµë‹ˆë‹¤. ê¹¨ë—í•©ë‹ˆë‹¤!")
    else:
        # 2. ì¤‘ë³µ .git ì‚­ì œ ë° ìºì‹œ ì •ë¦¬
        for git_folder in nested_gits:
            parent_folder = os.path.dirname(git_folder)
            rel_path = os.path.relpath(parent_folder, root_dir)
            
            print(f"ğŸš« ë°œê²¬ëœ ìƒˆë¼ ê¹ƒ ì‚­ì œ ì¤‘: {rel_path}/.git")
            
            # í´ë” ì‚­ì œ (ê¶Œí•œ ë¬¸ì œ ë°©ì§€ ìœ„í•´ ë¬´ì‹œ ì˜µì…˜)
            try:
                shutil.rmtree(git_folder, ignore_errors=True)
            except Exception as e:
                print(f"   ã„´ ì‚­ì œ ì‹¤íŒ¨ (ê¶Œí•œë¬¸ì œ?): {e}")
                run_cmd(f"rm -rf '{git_folder}'") # ì‰˜ ëª…ë ¹ìœ¼ë¡œ ê°•ì œ ì‚­ì œ ì‹œë„

            # ê¹ƒ ì¸ë±ìŠ¤ì—ì„œ ê¼¬ì¸ ê¸°ë¡ ì‚­ì œ
            print(f"ğŸ§¹ ê¹ƒ ì¸ë±ìŠ¤ ì •ë¦¬ ì¤‘: {rel_path}")
            run_cmd(f"git rm --cached -r '{rel_path}'")

    print("------------------------------------------------")
    print("âœ¨ ë§ˆë¬´ë¦¬ ì‘ì—…: git add .")
    run_cmd("git add .")
    print("âœ… ì²­ì†Œ ì™„ë£Œ! ì´ì œ 'git commit -m \"msg\"' í•˜ì‹œë©´ ë©ë‹ˆë‹¤.")

if __name__ == "__main__":
    fix_git_mess()
ì‹¤í–‰ í›„ í•  ì¼
ìŠ¤í¬ë¦½íŠ¸ê°€ "ì²­ì†Œ ì™„ë£Œ!"ë¼ê³  ëœ¨ë©´, ë°”ë¡œ ì»¤ë°‹í•˜ì„¸ìš”.

Bash
git commit -m "fixed git error"
ì´ì œ ì—ëŸ¬ ì•ˆ ë‚  ê²ë‹ˆë‹¤.