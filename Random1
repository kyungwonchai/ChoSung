컬럼명에 상관없이 * 문자를 사용하여 모든 컬럼을 대상으로 백업 작업을 수행하는 코드를 제공합니다.

    INSERT 작업에 대한 트리거:

sql

CREATE TRIGGER InsertTrigger
ON Products
AFTER INSERT
AS
BEGIN
    INSERT INTO ProductsBackup
    SELECT *, 'Added'
    FROM inserted;
END

    UPDATE 작업에 대한 트리거:

sql

CREATE TRIGGER UpdateTrigger
ON Products
AFTER UPDATE
AS
BEGIN
    INSERT INTO ProductsBackup
    SELECT *, 'Updated'
    FROM inserted;
END

    DELETE 작업에 대한 트리거:

sql

CREATE TRIGGER DeleteTrigger
ON Products
AFTER DELETE
AS
BEGIN
    INSERT INTO ProductsBackup
    SELECT *, 'Deleted'
    FROM deleted;
END

위의 코드에서 각 트리거는 SELECT *, 'Added' (INSERT 작업), SELECT *, 'Updated' (UPDATE 작업), SELECT *, 'Deleted' (DELETE 작업)와 같이 *를 사용하여 모든 컬럼을 대상으로 백업 작업을 수행합니다. 이렇게 함으로써 컬럼명에 상관없이 모든 컬럼이 백업 테이블에 복사됩니다.

이제 컬럼명에 상관없이 모든 컬럼을 대상으로 백업 작업이 수행되는 3개의 트리거를 사용할 수 있습니다.