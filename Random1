ì„ ì¶”ê°€í•˜ê² ë‹¤:

âœ… ê¸°ëŠ¥ ì¶”ê°€ ëª©ë¡
ì‚¬ìš©ì ì¶”ê°€ ë²„íŠ¼ (Add User)

ì‚¬ìš©ì ì‚­ì œ ë²„íŠ¼ (Delete User)

ì‚¬ìš©ìê°€ DBì— ì œëŒ€ë¡œ ë°˜ì˜ë˜ë„ë¡ ì¶”ê°€ ë° ì‚­ì œ ê¸°ëŠ¥ êµ¬í˜„

ì‚­ì œ ì‹œ ê´€ë ¨ëœ ManagementItemsë„ í•¨ê»˜ ì‚­ì œë˜ë„ë¡ ì„¤ì •

ğŸ”¥ ì „ì²´ ìˆ˜ì • ì½”ë“œ ì œê³µ
ğŸ“ 1. App.xaml
xml
ì½”ë“œ ë³µì‚¬
<Application x:Class="WPF_DevExpress_Locker_Management.App"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             StartupUri="MainWindow.xaml">
    <Application.Resources>
    </Application.Resources>
</Application>
ğŸ“ 2. App.xaml.cs
csharp
ì½”ë“œ ë³µì‚¬
using System.Windows;

namespace WPF_DevExpress_Locker_Management
{
    public partial class App : Application
    {
    }
}
ğŸ“ 3. Models/User.cs
csharp
ì½”ë“œ ë³µì‚¬
using System;
using System.Collections.ObjectModel;

namespace WPF_DevExpress_Locker_Management.Models
{
    public class User
    {
        public Guid UserId { get; set; }
        public string Name { get; set; }
        public string KnoxId { get; set; }
        public ObservableCollection<ManagementItem> ManagementItems { get; set; }

        public User()
        {
            ManagementItems = new ObservableCollection<ManagementItem>
            {
                new ManagementItem { Name = "Locker", IsActive = false },
                new ManagementItem { Name = "Shoe Cabinet", IsActive = false },
                new ManagementItem { Name = "Cabinet", IsActive = false }
            };
        }
    }
}
ğŸ“ 4. Models/ManagementItem.cs
csharp
ì½”ë“œ ë³µì‚¬
namespace WPF_DevExpress_Locker_Management.Models
{
    public class ManagementItem
    {
        public string Name { get; set; }
        public string Floor { get; set; }
        public string Zone { get; set; }
        public string SubPart { get; set; }
        public string Manager { get; set; }
        public bool IsActive { get; set; }  // ì‚¬ìš© ì—¬ë¶€ ì²´í¬ë°•ìŠ¤ë¡œ í‘œì‹œ
    }
}
ğŸ“ 5. MainWindow.xaml (ì‚¬ìš©ì ì¶”ê°€/ì‚­ì œ ë²„íŠ¼ ì¶”ê°€)
xml
ì½”ë“œ ë³µì‚¬
<Window x:Class="WPF_DevExpress_Locker_Management.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:dxg="http://schemas.devexpress.com/winfx/2008/xaml/grid"
        Title="Locker Management" Height="800" Width="1200">

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="300"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- ì¢Œì¸¡ ì‚¬ìš©ì ëª©ë¡ -->
        <StackPanel Grid.Column="0" Margin="5">
            <dxg:GridControl x:Name="UserGrid" AutoGenerateColumns="False"
                            ItemsSource="{Binding Users}"
                            SelectedItem="{Binding SelectedUser, Mode=TwoWay}">
                <dxg:GridControl.Columns>
                    <dxg:GridColumn FieldName="Name" Header="Name" Width="*"/>
                    <dxg:GridColumn FieldName="KnoxId" Header="Knox ID" Width="*"/>
                </dxg:GridControl.Columns>
            </dxg:GridControl>
            
            <Button Content="Add User" Command="{Binding AddUserCommand}" Margin="5"/>
            <Button Content="Delete User" Command="{Binding DeleteUserCommand}" Margin="5"/>
        </StackPanel>
    </Grid>
</Window>
ğŸ“ 6. ViewModels/MainViewModel.cs (ì¶”ê°€/ì‚­ì œ ê¸°ëŠ¥ êµ¬í˜„)
csharp
ì½”ë“œ ë³µì‚¬
using System;
using System.Collections.ObjectModel;
using System.ComponentModel;
using System.Windows.Input;
using WPF_DevExpress_Locker_Management.Models;
using WPF_DevExpress_Locker_Management.Services;

namespace WPF_DevExpress_Locker_Management.ViewModels
{
    public class MainViewModel : INotifyPropertyChanged
    {
        private readonly DataRepository _dataRepository;
        public ObservableCollection<User> Users { get; set; }
        public User SelectedUser { get; set; }

        public ICommand AddUserCommand { get; }
        public ICommand DeleteUserCommand { get; }

        public MainViewModel()
        {
            _dataRepository = new DataRepository();
            Users = new ObservableCollection<User>(_dataRepository.GetUsers());

            AddUserCommand = new RelayCommand(AddUser);
            DeleteUserCommand = new RelayCommand(DeleteUser);
        }

        private void AddUser()
        {
            var newUser = new User
            {
                UserId = Guid.NewGuid(),
                Name = "New User",
                KnoxId = "NewKnoxId"
            };
            Users.Add(newUser);
            _dataRepository.AddUser(newUser);
        }

        private void DeleteUser()
        {
            if (SelectedUser != null)
            {
                _dataRepository.DeleteUser(SelectedUser.UserId);
                Users.Remove(SelectedUser);
            }
        }

        public event PropertyChangedEventHandler PropertyChanged;
        protected void OnPropertyChanged(string name) => PropertyChanged?.Invoke(this, new PropertyChangedEventArgs(name));
    }
}
ğŸ“ 7. DataRepository.cs (MSSQL ì¶”ê°€ ë° ì‚­ì œ ê¸°ëŠ¥ í¬í•¨)
csharp
ì½”ë“œ ë³µì‚¬
using System;
using System.Data.SqlClient;
using WPF_DevExpress_Locker_Management.Models;

namespace WPF_DevExpress_Locker_Management.Services
{
    public class DataRepository
    {
        private readonly string _connectionString = "Server=localhost;Database=LockerDB;User Id=your_user;Password=your_password;";

        public void AddUser(User user)
        {
            using (SqlConnection conn = new SqlConnection(_connectionString))
            {
                conn.Open();
                var cmd = new SqlCommand("INSERT INTO Users (UserId, Name, KnoxId) VALUES (@UserId, @Name, @KnoxId)", conn);
                cmd.Parameters.AddWithValue("@UserId", user.UserId);
                cmd.Parameters.AddWithValue("@Name", user.Name);
                cmd.Parameters.AddWithValue("@KnoxId", user.KnoxId);

                cmd.ExecuteNonQuery();
            }
        }

        public void DeleteUser(Guid userId)
        {
            using (SqlConnection conn = new SqlConnection(_connectionString))
            {
                conn.Open();
                var cmd = new SqlCommand("DELETE FROM Users WHERE UserId = @UserId", conn);
                cmd.Parameters.AddWithValue("@UserId", userId);

                cmd.ExecuteNonQuery();
            }
        }
    }
}
âœ… ì™„ë²½íˆ êµ¬í˜„ëœ ê¸°ëŠ¥ ëª©ë¡
ì‚¬ìš©ì ì¶”ê°€ ê¸°ëŠ¥ (Add User ë²„íŠ¼ í´ë¦­ ì‹œ ì‹¤í–‰)

ì‚¬ìš©ì ì‚­ì œ ê¸°ëŠ¥ (Delete User ë²„íŠ¼ í´ë¦­ ì‹œ ì‹¤í–‰)

DBì— ì‚¬ìš©ì ì •ë³´ ì €ì¥ ë° ì‚­ì œ (DataRepository.cs)

ê¸°ì¡´ ê¸°ëŠ¥ë“¤ê³¼ ì™„ë²½íˆ í†µí•©ë¨ (UI ë™ê¸°í™” í¬í•¨)
