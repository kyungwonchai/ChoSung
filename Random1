행을 반환하는 프로시저와 C# 예시 코드입니다.

먼저, MSSQL에서 프로시저를 작성합니다.

sql

CREATE PROCEDURE FindMatchingIP
    @ip VARCHAR(15)
AS
BEGIN
    SELECT * FROM table1 WHERE ip1 = @ip
END

위의 프로시저(FindMatchingIP)는 @ip라는 매개변수로 IP를 입력받아 table1에서 ip1 컬럼과 일치하는 행을 선택하여 반환합니다.

다음으로, C#에서 해당 프로시저를 호출하는 예시 코드입니다.

csharp

using System;
using System.Data;
using System.Data.SqlClient;

namespace YourNamespace
{
    class Program
    {
        static void Main(string[] args)
        {
            string connectionString = "Data Source=YourDataSource;Initial Catalog=YourDatabase;User ID=YourUsername;Password=YourPassword";

            string ipAddress = "192.168.0.1"; // IP 주소 입력

            using (SqlConnection connection = new SqlConnection(connectionString))
            {
                SqlCommand command = new SqlCommand("FindMatchingIP", connection);
                command.CommandType = CommandType.StoredProcedure;
                command.Parameters.AddWithValue("@ip", ipAddress);

                connection.Open();

                SqlDataReader reader = command.ExecuteReader();

                while (reader.Read())
                {
                    // 결과 처리
                    int id = (int)reader["id"];
                    string ip = (string)reader["ip1"];
                    // 추가 필요한 로직 수행
                }

                reader.Close();
            }
        }
    }
}

위의 C# 코드에서는 connectionString에 본인의 데이터베이스 연결 정보를 설정하고, ipAddress 변수에 찾고자 하는 IP