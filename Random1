아래는 MainViewModel과 ABC 클래스만으로 동작하는 Main 함수 없는 코드 예제입니다. 두 클래스가 협력하여 ForceEjectNumbers를 관리하고 값을 변경합니다.

MainViewModel 클래스
csharp
코드 복사
using System;
using System.Collections.ObjectModel;

public class MainViewModel
{
    // 숫자 데이터를 저장하는 ObservableCollection
    public ObservableCollection<int> ForceEjectNumbers { get; set; }

    // ABC 클래스 인스턴스
    private ABC _abc;

    public MainViewModel()
    {
        // 초기 값 설정
        ForceEjectNumbers = new ObservableCollection<int> { 10, 20, 30 };

        // ForceEjectNumbers를 ABC 클래스에 주입
        _abc = new ABC(ForceEjectNumbers);

        // 테스트: MainViewModel에서 값 변경
        UpdateValueFromMain(0, 100);

        // 테스트: ABC 클래스에서 값 변경
        UpdateValueFromABC(1, 200);

        // 결과 출력
        PrintForceEjectNumbers();
    }

    // MainViewModel에서 ForceEjectNumbers 값을 변경하는 메서드
    public void UpdateValueFromMain(int index, int newValue)
    {
        if (index >= 0 && index < ForceEjectNumbers.Count)
        {
            ForceEjectNumbers[index] = newValue;
            Console.WriteLine($"[MainViewModel] Index {index} updated to {newValue}");
        }
    }

    // ABC 클래스에서 값을 변경하도록 요청하는 메서드
    public void UpdateValueFromABC(int index, int newValue)
    {
        _abc.UpdateValue(index, newValue);
    }

    // ForceEjectNumbers 상태 출력
    public void PrintForceEjectNumbers()
    {
        Console.WriteLine("Final ForceEjectNumbers:");
        foreach (var number in ForceEjectNumbers)
        {
            Console.WriteLine(number);
        }
    }
}
ABC 클래스
csharp
코드 복사
using System;
using System.Collections.ObjectModel;

public class ABC
{
    private ObservableCollection<int> _forceEjectNumbers;

    // 생성자에서 ObservableCollection 주입
    public ABC(ObservableCollection<int> forceEjectNumbers)
    {
        _forceEjectNumbers = forceEjectNumbers;
    }

    // ForceEjectNumbers 값을 변경하는 메서드
    public void UpdateValue(int index, int newValue)
    {
        if (index >= 0 && index < _forceEjectNumbers.Count)
        {
            _forceEjectNumbers[index] = newValue;
            Console.WriteLine($"[ABC] Index {index} updated to {newValue}");
        }
    }
}
코드 동작
MainViewModel만 실행하여 동작 확인:
MainViewModel 생성자에서 직접 초기화 및 값 변경을 수행.
ForceEjectNumbers의 값을 MainViewModel 및 ABC 클래스에서 수정.
최종 결과는 콘솔에 출력.
출력 결과
plaintext
코드 복사
[MainViewModel] Index 0 updated to 100
[ABC] Index 1 updated to 200
Final ForceEjectNumbers:
100
200
30
코드 설명
Main 함수 없음:

모든 로직은 MainViewModel 생성자 내부에서 처리됩니다.