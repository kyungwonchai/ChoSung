에서 Bitmap 이미지를 URI를 통해 로드하고, 나중에 해당 파일을 삭제하려고 할 때 문제가 발생하는 것 같습니다. 이 문제는 WPF가 이미지를 로드할 때 파일을 잠그기 때문에 발생합니다. 파일을 삭제하기 위해서는 다음 방법을 시도해볼 수 있습니다:

    BitmapImage를 사용할 때 CacheOption 설정하기: BitmapImage를 로드할 때 BitmapCacheOption.OnLoad를 설정하면 이미지가 메모리에 캐시되고, 파일은 잠기지 않습니다. 예를 들어, 다음과 같이 사용할 수 있습니다:

    csharp

BitmapImage bitmap = new BitmapImage();
bitmap.BeginInit();
bitmap.CacheOption = BitmapCacheOption.OnLoad;
bitmap.UriSource = new Uri(filePath);
bitmap.EndInit();

yourImageControl.Source = bitmap;

이렇게 하면 이미지가 로드된 후 파일이 잠기지 않아 삭제할 수 있습니다.

FileStream을 사용하여 이미지 로드하기: FileStream을 사용하여 이미지를 메모리로 로드하고, 그 후 FileStream을 닫으면 파일이 잠기지 않습니다. 예를 들어:

csharp

    using (FileStream stream = new FileStream(filePath, FileMode.Open, FileAccess.Read))
    {
        BitmapImage bitmap = new BitmapImage();
        bitmap.BeginInit();
        bitmap.StreamSource = stream;
        bitmap.CacheOption = BitmapCacheOption.OnLoad;
        bitmap.EndInit();
        bitmap.Freeze(); // WPF의 다른 스레드에서 사용하기 위해

        yourImageControl.Source = bitmap;
    }

    FileStream을 사용하면 파일이 직접 열리고 닫히기 때문에, 이후에 파일을 삭제할 수 있습니다.

이 두 방법 중 하나를 