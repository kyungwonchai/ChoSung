C#에서 SQL 쿼리를 실행하기 전에 실제로 실행될 쿼리와 매개변수 값을 디버그 로그에 출력하도록 SqlCommand를 확장하여 처리할 수 있습니다.

수정 방법
1. 실제 실행될 쿼리 출력 함수
다음 함수는 SqlCommand의 CommandText와 모든 매개변수를 디버그 출력으로 보여줍니다.

csharp
코드 복사
private void LogSqlCommand(SqlCommand command)
{
    var query = command.CommandText;
    foreach (SqlParameter param in command.Parameters)
    {
        var value = param.Value == null ? "NULL" : param.Value.ToString();
        query = query.Replace(param.ParameterName, value);
    }

    Debug.WriteLine($"Executing SQL Query: {query}");
}
2. 쿼리 실행 시 디버그 로그 출력
SqlCommand를 실행하기 전에 위 함수로 로그를 출력합니다.

csharp
코드 복사
using (var command = new SqlCommand(
    @"INSERT INTO YourTable (ipname, InspectionTime, ModelName, AlignResult, MP1DATA, MP1RESULT, MP2DATA, MP2RESULT, MP3DATA, MP3RESULT, MP4DATA, MP4RESULT, MP5DATA, MP5RESULT)
      VALUES (@ipname, @InspectionTime, @ModelName, @AlignResult, @MP1DATA, @MP1RESULT, @MP2DATA, @MP2RESULT, @MP3DATA, @MP3RESULT, @MP4DATA, @MP4RESULT, @MP5DATA, @MP5RESULT)", connection))
{
    command.Parameters.AddWithValue("@ipname", row["ipname"]);
    command.Parameters.AddWithValue("@InspectionTime", row["InspectionTime"]);
    command.Parameters.AddWithValue("@ModelName", row["ModelName"]);
    command.Parameters.AddWithValue("@AlignResult", row["AlignResult"]);
    command.Parameters.AddWithValue("@MP1DATA", row["MP1DATA"]);
    command.Parameters.AddWithValue("@MP1RESULT", row["MP1RESULT"]);
    command.Parameters.AddWithValue("@MP2DATA", row["MP2DATA"]);
    command.Parameters.AddWithValue("@MP2RESULT", row["MP2RESULT"]);
    command.Parameters.AddWithValue("@MP3DATA", row["MP3DATA"]);
    command.Parameters.AddWithValue("@MP3RESULT", row["MP3RESULT"]);
    command.Parameters.AddWithValue("@MP4DATA", row["MP4DATA"]);
    command.Parameters.AddWithValue("@MP4RESULT", row["MP4RESULT"]);
    command.Parameters.AddWithValue("@MP5DATA", row["MP5DATA"]);
    command.Parameters.AddWithValue("@MP5RESULT", row["MP5RESULT"]);

    // 쿼리와 매개변수 값을 디버그 출력
    LogSqlCommand(command);

    await command.ExecuteNonQueryAsync();
}
결과 예시
쿼리
sql
코드 복사
INSERT INTO YourTable (ipname, InspectionTime, ModelName, AlignResult, MP1DATA, MP1RESULT, MP2DATA, MP2RESULT, MP3DATA, MP3RESULT, MP4DATA, MP4RESULT, MP5DATA, MP5RESULT)
VALUES ('192.168.1.1', '2025-01-10 10:00:00', 'ModelA', 'Good', 123.45, 'Result1', 67.89, 'Result2', 45.67, 'Result3', 89.01, 'Result4', 78.56, 'Result5')
디버그 출력
plaintext
코드 복사
Executing SQL Query: 
INSERT INTO YourTable (ipname, InspectionTime, ModelName, AlignResult, MP1DATA, MP1RESULT, MP2DATA, MP2RESULT, MP3DATA, MP3RESULT, MP4DATA, MP4RESULT, MP5DATA, MP5RESULT)
VALUES ('192.168.1.1', '2025-01-10 10:00:00', 'ModelA', 'Good', 123.45, 'Result1', 67.89, 'Result2', 45.67, 'Result3', 89.01, 'Result4', 78.56, 'Result5')
주의 사항
보안 경고: 위 방식은 개발 및 디버깅 환경에서만 사용하세요.
데이터베이스 연결 문자열이나 민감한 정보가 노출될 수 있습니다.