using DevExpress.Xpf.Core; // ThemedWindow, ApplicationThemeHelper 등 사용
using LockerManagementApp.ViewModels; // MainViewModel 참조
using System; // ArgumentNullException 사용
using System.Windows;

namespace LockerManagementApp.Views
{
    /// <summary>
    /// MainWindow.xaml에 대한 상호 작용 논리
    /// </summary>
    public partial class MainWindow : ThemedWindow // partial 키워드가 중요합니다.
    {
        /// <summary>
        /// 생성자에서 MainViewModel을 의존성 주입으로 받습니다.
        /// </summary>
        /// <param name="viewModel">주입된 MainViewModel 인스턴스</param>
        public MainWindow(MainViewModel viewModel) // 생성자 주입
        {
            // InitializeComponent()는 XAML 파싱 및 코드 생성이 성공해야 존재합니다.
            // XAML 오류가 해결되면 이 부분의 오류도 사라져야 합니다.
            InitializeComponent();

            // 주입받은 ViewModel을 DataContext로 설정
            DataContext = viewModel ?? throw new ArgumentNullException(nameof(viewModel));

            // 옵션: DevExpress 테마 설정 (v22.2에서 사용 가능한 테마 이름 확인 필요)
            // 테마 관련 오류 발생 시 이 부분을 주석 처리하고 테스트해볼 수 있습니다.
            ApplicationThemeHelper.ApplicationThemeName = Theme.Office2019ColorfulName;

            // Loaded, Closing 이벤트 핸들러는 필요 시 여기에 추가
        }
    }