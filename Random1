âœ… Streamlit Tabs êµ¬í˜„í•˜ê¸°
ê¸°ì¡´ì˜ ìŠ¬ë¼ì´ë”ë°” ê¸°ëŠ¥ê³¼ ë‹¤ë¥¸ ìš”ì†Œë“¤ì„ íƒ­ìœ¼ë¡œ ë¶„ë¦¬í•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì•„ë˜ëŠ” ìŠ¬ë¼ì´ë”ë°”ë¥¼ íƒ­ìœ¼ë¡œ ë„£ê³ , ë³€ìˆ˜ëª…ì´ ê²¹ì¹˜ì§€ ì•Šë„ë¡ ì²˜ë¦¬í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤.

Streamlit ì½”ë“œ (ì „ì²´ ì½”ë“œ)
python
ì½”ë“œ ë³µì‚¬
import streamlit as st
import pandas as pd
import pymssql

# MSSQL ì„œë²„ ì—°ê²° ì„¤ì • í•¨ìˆ˜
def get_connection():
    return pymssql.connect(
        server="YOUR_SERVER",
        user="YOUR_USER",
        password="YOUR_PASSWORD",
        database="YOUR_DATABASE"
    )

# Get_min_bestdifferent í”„ë¡œì‹œì € í˜¸ì¶œ í•¨ìˆ˜
def fetch_main_data():
    conn = get_connection()
    query = "EXEC Get_min_bestdifferent"
    df = pd.read_sql(query, conn)
    conn.close()
    return df

# Get_min_bestdifferentLine í”„ë¡œì‹œì € í˜¸ì¶œ í•¨ìˆ˜
def fetch_line_data(line1_value):
    conn = get_connection()
    query = f"EXEC Get_min_bestdifferentLine @line1='{line1_value}'"
    df = pd.read_sql(query, conn)
    conn.close()
    return df

# í…Œì´ë¸”ì—ì„œ ìµœëŒ€ê°’ì„ ë…¸ë€ìƒ‰ìœ¼ë¡œ í‘œì‹œ
def highlight_max(row):
    max_value = row.max()
    return ['background-color: yellow' if v == max_value else '' for v in row]

# Streamlit ì•± êµ¬ì„±
def main():
    st.set_page_config(layout="wide")  # ì „ì²´ í˜ì´ì§€ ë„ˆë¹„ ì‚¬ìš© ì„¤ì •
    st.title("Streamlit Tab Example")

    # íƒ­ êµ¬ì„±
    tab1, tab2 = st.tabs(["ë©”ì¸ ë°ì´í„°", "ë¼ì¸ ë°ì´í„°"])
    
    # ë©”ì¸ ë°ì´í„° íƒ­
    with tab1:
        st.subheader("ë©”ì¸ ë°ì´í„° í…Œì´ë¸”")
        main_data = fetch_main_data()
        
        # act2_1 ~ act2_8 ì»¬ëŸ¼ í•„í„°ë§
        act2_columns = [f'act2_{i}' for i in range(1, 9)]
        display_data = main_data[['group1', 'line1', 'model1', 'type1', 'ecn1', 'edition1'] + act2_columns]
        
        # ìŠ¬ë¼ì´ë” ì¶”ê°€ (ë‹¤ë¥¸ ë³€ìˆ˜ëª… ì‚¬ìš©)
        slider_value1 = st.slider("ìŠ¬ë¼ì´ë”1 (Main Data)", min_value=0, max_value=100, value=50)
        
        # act2 ë¶€ë¶„ì„ ìƒ‰ìƒ ê°•ì¡°
        styled_data = display_data.style.apply(highlight_max, subset=act2_columns, axis=1)
        st.write(styled_data.to_html(), unsafe_allow_html=True)

        # ì„ íƒëœ line1 ë°ì´í„° í‘œì‹œìš© selectbox (ë‹¤ë¥¸ ë³€ìˆ˜ëª… ì‚¬ìš©)
        selected_line1 = st.selectbox("ë¼ì¸ì„ ì„ íƒí•˜ì„¸ìš” (ë©”ì¸ ë°ì´í„° íƒ­)", main_data['line1'].unique())
        st.write(f"ì„ íƒëœ ë¼ì¸: {selected_line1}")
    
    # ë¼ì¸ ë°ì´í„° íƒ­
    with tab2:
        st.subheader("ë¼ì¸ ë°ì´í„° í…Œì´ë¸”")
        
        # ìŠ¬ë¼ì´ë” ì¶”ê°€ (ë‹¤ë¥¸ ë³€ìˆ˜ëª… ì‚¬ìš©)
        slider_value2 = st.slider("ìŠ¬ë¼ì´ë”2 (Line Data)", min_value=0, max_value=100, value=25)
        
        if 'selected_line1' in locals():
            line_data = fetch_line_data(selected_line1)
            
            act_columns = [f'act1_{i}' for i in range(1, 9)] + [f'act2_{i}' for i in range(1, 9)] + [f'act2best_{i}' for i in range(1, 9)]
            display_line_data = line_data[['line1', 'model1', 'type1', 'ecn1', 'edition1'] + act_columns]
            
            # act ë¶€ë¶„ì„ ìƒ‰ìƒ ê°•ì¡°
            styled_line_data = display_line_data.style.apply(highlight_max, subset=act_columns, axis=1)
            st.write(styled_line_data.to_html(), unsafe_allow_html=True)
        
        else:
            st.warning("ë©”ì¸ ë°ì´í„° íƒ­ì—ì„œ ë¼ì¸ì„ ì„ íƒí•˜ì„¸ìš”.")

if __name__ == "__main__":
    main()
ğŸ“Œ ì½”ë“œ ì„¤ëª…
íƒ­ êµ¬ì„±í•˜ê¸°

python
ì½”ë“œ ë³µì‚¬
tab1, tab2 = st.tabs(["ë©”ì¸ ë°ì´í„°", "ë¼ì¸ ë°ì´í„°"])
st.tabs()ë¡œ ë‘ ê°œì˜ íƒ­ì„ ìƒì„±í•˜ì˜€ìŠµë‹ˆë‹¤.

tab1ê³¼ tab2ëŠ” ê°ê° ë©”ì¸ ë°ì´í„°ì™€ ë¼ì¸ ë°ì´í„° íƒ­ì„ ë‹´ë‹¹í•©ë‹ˆë‹¤.

ìŠ¬ë¼ì´ë”ì™€ ë³€ìˆ˜ëª… ì¶©ëŒ ë°©ì§€í•˜ê¸°

python
ì½”ë“œ ë³µì‚¬
slider_value1 = st.slider("ìŠ¬ë¼ì´ë”1 (Main Data)", min_value=0, max_value=100, value=50)
slider_value2 = st.slider("ìŠ¬ë¼ì´ë”2 (Line Data)", min_value=0, max_value=100, value=25)
ì„œë¡œ ë‹¤ë¥¸ íƒ­ì—ì„œ ìŠ¬ë¼ì´ë”ë¥¼ ì‚¬ìš©í•  ë•Œ ë³€ìˆ˜ëª…ì„ ë‹¤ë¥´ê²Œ ì„¤ì • (slider_value1, slider_value2).

ê°™ì€ ì´ë¦„ì„ ì‚¬ìš©í•˜ë©´ ê°’ì´ ê²¹ì¹˜ê²Œ ë˜ë¯€ë¡œ, í•­ìƒ ë³€ìˆ˜ëª…ì„ ë‹¤ë¥´ê²Œ í•´ì•¼ í•¨.

HTML ìŠ¤íƒ€ì¼ë§ ì‚¬ìš©í•˜ê¸°

python
ì½”ë“œ ë³µì‚¬
styled_data.to_html()
DataFrame.style.apply() ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ìµœëŒ€ê°’ì„ ê°•ì¡° (highlight_max() í•¨ìˆ˜).

HTMLë¡œ ë³€í™˜í•˜ì—¬ Streamlitì—ì„œ í‘œì‹œ (unsafe_allow_html=True).

ì‚¬ìš©ì ì„ íƒ ê°’ì˜ ë…ë¦½ ê´€ë¦¬

python
ì½”ë“œ ë³µì‚¬
selected_line1 = st.selectbox("ë¼ì¸ì„ ì„ íƒí•˜ì„¸ìš” (ë©”ì¸ ë°ì´í„° íƒ­)", main_data['line1'].unique())
ì„ íƒëœ ê°’ì„ ë‹¤ë¥¸ íƒ­ê³¼ ë…ë¦½ì ìœ¼ë¡œ ê´€ë¦¬í•˜ê¸° ìœ„í•´ selected_line1ì„ ì „ì—­ ë³€ìˆ˜ë¡œ ì‚¬ìš©í•˜ì§€ ì•ŠìŒ.

locals()ë¡œ í™•ì¸í•˜ì—¬ ë‹¤ë¥¸ íƒ­ì—ì„œë„ ì ‘ê·¼ ê°€ëŠ¥í•˜ê²Œ ì²˜ë¦¬.

ğŸ’¡ ì¶”ê°€ ì„¤ëª…
ê¸°ì¡´ ì½”ë“œì™€ ì¶©ëŒí•˜ì§€ ì•Šë„ë¡ ë³€ìˆ˜ëª…ì„ ë‹¤ë¥´ê²Œ ì„¤ì •í•˜ì˜€ìŠµë‹ˆë‹¤.

st.tabs()ë¥¼ ì‚¬ìš©í•˜ì—¬ ê°ê°ì˜ íƒ­ì´ ë…ë¦½ì ìœ¼ë¡œ êµ¬ì„±ë˜ë©°, ì„œë¡œ ë‹¤ë¥¸ ìŠ¬ë¼ì´ë”ì™€ ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

main() í•¨ìˆ˜ëŠ” ì „ì²´ Streamlit ì•±ì˜ íë¦„ì„ ë‹´ë‹¹í•©ë‹ˆë‹¤.
