using DevExpress.XtraPivotGrid;
using System;
using System.Data;
using System.Windows.Forms;

public partial class Form1 : Form
{
    private PivotGridControl pivotGridControl1;
    private DataTable dataTable1;

    public Form1()
    {
        InitializeComponent();
    }

    private void Form1_Load(object sender, EventArgs e)
    {
        // PivotGridControl 생성
        pivotGridControl1 = new PivotGridControl();
        pivotGridControl1.Dock = DockStyle.Fill;
        this.Controls.Add(pivotGridControl1);

        // DataTable 생성 및 데이터 추가
        CreateDataTable();
        AddDataToDataTable();

        // PivotGridControl에 DataTable 설정
        pivotGridControl1.DataSource = dataTable1;

        // 행 필드에 "Category" 컬럼 할당
        PivotGridField categoryField = new PivotGridField("Category", PivotArea.RowArea);
        pivotGridControl1.Fields.Add(categoryField);

        // 열 필드에 "Product" 컬럼 할당
        PivotGridField productField = new PivotGridField("Product", PivotArea.ColumnArea);
        pivotGridControl1.Fields.Add(productField);

        // 데이터 필드에 "Price" 컬럼 할당
        PivotGridField priceField = new PivotGridField("Price", PivotArea.DataArea);
        pivotGridControl1.Fields.Add(priceField);
    }

    private void CreateDataTable()
    {
        dataTable1 = new DataTable("SampleData");

        // 열 추가
        dataTable1.Columns.Add("Category", typeof(string));
        dataTable1.Columns.Add("Product", typeof(string));
        dataTable1.Columns.Add("Price", typeof(decimal));
    }

    private void AddDataToDataTable()
    {
        // 데이터 추가
        dataTable1.Rows.Add("Category A", "Product 1", 10.0);
        dataTable1.Rows.Add("Category A", "Product 2", 15.0);
        dataTable1.Rows.Add("Category B", "Product 3", 20.0);
        dataTable1.Rows.Add("Category B", "Product 4", 25.0);
    }
}
