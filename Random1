ndows 11에서 Ubuntu의 Samba 공유 폴더를 접근할 때 폴더는 보이지만 아이디와 패스워드를 묻지 않고 접근할 수 없는 경우 문제를 해결하려면 다음 사항들을 확인하고 설정하세요.

1. Samba 설정 파일 확인하기 (/etc/samba/smb.conf)
폴더를 보인다는 것은 Samba 서비스는 작동 중이지만, 권한 설정이 잘못되었거나 게스트 접근이 허용되어 있는 것입니다.

smb.conf 파일 열기
bash
코드 복사
sudo nano /etc/samba/smb.conf
확인해야 할 설정 (특히 [global] 및 공유 폴더 섹션)
[global] 섹션 수정하기
ini
코드 복사
[global]
   workgroup = WORKGROUP
   server string = Samba Server %v
   netbios name = ubuntu
   security = user
   map to guest = never
   guest account = nobody
   passdb backend = tdbsam
security = user : 사용자 인증을 요구합니다.

map to guest = never : 비밀번호 없이 접근하지 못하게 막습니다.

공유 폴더 섹션 수정하기
예시로 [shared] 라는 공유 폴더를 사용한다고 가정합니다.

ini
코드 복사
[shared]
   path = /path/to/your/shared/folder
   browseable = yes
   read only = no
   writable = yes
   valid users = yourusername
   guest ok = no
valid users = yourusername : 지정된 사용자만 접근 가능.

guest ok = no : 비밀번호 없이 접근하지 못하게 막습니다.

2. 폴더 권한 설정하기
폴더 권한이 잘못 설정되면 누구나 접근할 수 있게 됩니다.

bash
코드 복사
sudo chmod -R 770 /path/to/your/shared/folder
sudo chown -R yourusername:sambashare /path/to/your/shared/folder
770 : 소유자와 그룹은 읽기, 쓰기, 실행 가능. 다른 사람은 접근 불가.

yourusername : 사용하고 있는 계정 이름.

sambashare : Samba 접근을 허용할 그룹 이름.

3. Samba 사용자 추가 및 비밀번호 설정하기
Windows에서 로그인할 때 인증을 요구하게 설정합니다.

bash
코드 복사
sudo smbpasswd -a yourusername
Samba 사용자 계정을 추가하고 비밀번호를 설정합니다.

그룹에 추가하기 (선택 사항)
bash
코드 복사
sudo adduser yourusername sambashare
4. Samba 서비스 재시작하기
설정을 적용하기 위해 서비스를 재시작합니다.

bash
코드 복사
sudo systemctl restart smbd
sudo systemctl restart nmbd
5. Windows 11에서 접속 테스트하기
방법 1: 파일 탐색기에서 접속
Windows 파일 탐색기 열기 (Win + E)

주소창에 다음을 입력하고 Enter:

php-template
코드 복사
\\<Ubuntu_IP_Address>\shared
예: \\192.168.0.10\shared

이제 Windows에서 사용자 이름과 비밀번호를 묻는 창이 떠야 합니다.

방법 2: 네트워크 드라이브로 연결하기 (권장)
파일 탐색기 > 내 PC > 네트워크 드라이브 연결 (탭 클릭)

폴더 경로 입력:

php-template
코드 복사
\\<Ubuntu_IP_Address>\shared
다른 사용자 자격 증명 사용 체크

사용자 이름과 비밀번호 입력

6. 추가 확인 사항 (Windows 측 문제 가능성)
Windows 자격 증명 관리자 확인하기

제어판 > 자격 증명 관리자 > Windows 자격 증명

이전에 잘못된 자격 증명이 저장된 경우 삭제하기.

SMB 버전 확인하기

Windows 11은 기본적으로 SMB1을 사용하지 않습니다.

Windows 기능 켜기/끄기에서 SMB 1.0/CIFS Client 체크하기.

7. 설정 적용 확인하기
Linux에서 설정 확인:

bash
코드 복사
testparm
문법 오류 없이 성공적으로 적용되었는지 확인하세요.
