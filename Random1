function updateTable(data) {
    console.log("Updating table with new data:", data); // 디버깅 로그 추가
    data.forEach(item => {
        const ip = item.ip;
        let sensorRow = document.querySelector(`[data-ip="${ip}"]`);
        
        if (!sensorRow) {
            console.error(`Row for IP ${ip} not found. Make sure the row exists in the HTML.`);
            return; // 요소가 없으면 다음 항목으로 넘어갑니다.
        }

        const circleContainer = sensorRow.querySelector('.circle-container');
        if (!circleContainer) {
            console.error(`Circle container for IP ${ip} not found.`);
            return; // 요소가 없으면 다음 항목으로 넘어갑니다.
        }

        circleContainer.innerHTML = ''; // 기존 도형 제거

        item.sensor1.split('').forEach((value, index) => {
            const circle = document.createElement('span');
            circle.className = `circle ${value === '1' ? 'red' : 'green'}`;
            circleContainer.appendChild(circle);

            // 두 번째 센서 추적
            if (index === 1) {
                circle.classList.add('second-sensor');
                trackSecondSensor(ip, value === '1' ? 'red' : 'green');
            }
        });

        // 시간 정보 갱신
        const timeCell = sensorRow.querySelector('.time-cell');
        if (timeCell) {
            timeCell.textContent = item.time1;
        } else {
            console.error(`Time cell for IP ${ip} not found.`);
        }
    });
}
