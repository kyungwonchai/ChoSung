스크립트는 창 제어를 위해 wmctrl과 모니터 정보 확인을 위해 xrandr을 사용합니다. 터미널에서 아래 명령어로 패키지를 먼저 설치해주세요.

Bash

sudo apt update && sudo apt install wmctrl x11-xserver-utils -y
주의: 우분투 로그인 시 Xorg(X11) 세션을 사용해야 완벽하게 작동합니다. Wayland(기본값)에서는 보안 정책 때문에 외부 스크립트가 창 위치를 강제로 옮기는 것을 막을 수 있습니다.

자동 배치 Python 스크립트 (arrange_vscode.py)
아래 코드를 복사하여 파일로 저장 후 실행하십시오.

Python

#!/usr/bin/env python3
import subprocess
import re
import math
import sys

def run_command(command):
    """쉘 명령어를 실행하고 결과를 문자열로 반환합니다."""
    try:
        result = subprocess.check_output(command, shell=True, stderr=subprocess.STDOUT)
        return result.decode('utf-8').strip()
    except subprocess.CalledProcessError:
        return ""

def get_connected_monitors():
    """xrandr을 파싱하여 연결된 모니터의 해상도와 위치(offset)를 반환합니다."""
    output = run_command("xrandr --current")
    monitors = []
    # 정규식: 1920x1080+1920+0 형태 추출 (Width x Height + X_Offset + Y_Offset)
    regex = re.compile(r" connected.*? (\d+)x(\d+)\+(\d+)\+(\d+)")
    
    for line in output.split('\n'):
        match = regex.search(line)
        if match:
            w, h, x, y = map(int, match.groups())
            monitors.append({'w': w, 'h': h, 'x': x, 'y': y})
    
    # x 좌표(가로 오프셋) 기준으로 정렬하여 가장 오른쪽 모니터를 찾기 위함
    return sorted(monitors, key=lambda m: m['x'])

def get_vscode_windows():
    """wmctrl을 사용하여 현재 열린 VS Code 창의 ID 리스트를 반환합니다."""
    output = run_command("wmctrl -l")
    window_ids = []
    for line in output.split('\n'):
        # VS Code 창은 보통 제목에 'Visual Studio Code' 또는 파일명이 포함됨
        # 대소문자 구분 없이 'code'가 포함된 창을 찾되, 너무 범용적인 단어라 주의 필요
        # 보통 클래스명을 확인하는 것이 정확하나 wmctrl -l 에는 클래스명이 안 나옴.
        # -lx 옵션을 사용하여 클래스명 확인
        if "Visual Studio Code" in line or "Code - OSS" in line:
            parts = line.split()
            window_ids.append(parts[0]) # 윈도우 ID (예: 0x04000003)
    
    # wmctrl -lx 명령어를 통해 더 정확히 필터링 (클래스명: code.Code)
    output_lx = run_command("wmctrl -lx")
    refined_ids = []
    for line in output_lx.split('\n'):
        if "code.Code" in line:
            parts = line.split()
            refined_ids.append(parts[0])
            
    return refined_ids if refined_ids else window_ids

def arrange_windows():
    monitors = get_connected_monitors()
    
    if len(monitors) < 2:
        print("[-] 듀얼 모니터가 감지되지 않았습니다. 기본 모니터에서 작업을 수행합니다.")
        target_monitor = monitors[0]
    else:
        # 가장 오른쪽 모니터(x 좌표가 가장 큰 모니터)를 타겟으로 설정
        target_monitor = monitors[-1]
        print(f"[+] 타겟 모니터 설정: 해상도 {target_monitor['w']}x{target_monitor['h']}, 위치 +{target_monitor['x']}+{target_monitor['y']}")

    windows = get_vscode_windows()
    win_count = len(windows)
    
    if win_count == 0:
        print("[-] 실행 중인 VS Code 창을 찾을 수 없습니다.")
        return

    print(f"[+] 감지된 VS Code 창 개수: {win_count}개")

    # 그리드 계산 (행과 열)
    # 창 개수에 따라 최적의 grid 계산 (예: 6개 -> 3x2 또는 2x3)
    cols = math.ceil(math.sqrt(win_count))
    rows = math.ceil(win_count / cols)
    
    # 6개일 경우 3열 2행이 보기 좋음 (가로로 넓게)
    if win_count == 6:
        cols, rows = 3, 2

    # 창 하나의 너비와 높이 계산 (여백 보정 포함)
    cell_w = target_monitor['w'] // cols
    cell_h = target_monitor['h'] // rows
    
    print(f"[+] 배치 구조: {cols}열 x {rows}행 (각 창 크기: {cell_w}x{cell_h})")

    for idx, win_id in enumerate(windows):
        # 현재 창의 행/열 인덱스
        r = idx // cols
        c = idx % cols
        
        # 이동할 절대 좌표 (모니터 오프셋 + 그리드 위치)
        pos_x = target_monitor['x'] + (c * cell_w)
        pos_y = target_monitor['y'] + (r * cell_h)
        
        # wmctrl 명령어 구성
        # -i: ID 사용, -r: 타겟, -e: gravity,x,y,w,h
        # gravity 0: 기본값
        cmd = f"wmctrl -i -r {win_id} -b remove,maximized_vert,maximized_horz" # 최대화 해제
        run_command(cmd)
        
        cmd = f"wmctrl -i -r {win_id} -e 0,{pos_x},{pos_y},{cell_w},{cell_h}"
        run_command(cmd)
        
        # 창을 가장 위로 올리고 싶으면 아래 주석 해제 (특혜 개념)
        # run_command(f"wmctrl -i -r {win_id} -b add,above") 

    print("[+] 모든 VS Code 창 배치가 완료되었습니다.")

if __name__ == "__main__":
    try:
        arrange_windows()
    except Exception as e:
        print(f"[!] 오류 발생: {e}")
사용 가이드
스크립트 실행: VS Code 창을 6개 띄워둔 상태에서 터미널에서 python3 arrange_vscode.py를 실행하세요.

동작 원리:

현재 연결된 모니터 중 가장 오른쪽(좌표값이 큰) 모니터를 찾습니다.

실행 중인 모든 VS Code 창을 감지합니다.

해당 모니터 화면을 수학적으로 분할(Grid)하여 창들을 강제로 이동 및 리사이징(Resizing)합니다.

"동적"으로 사용하기:

이 스크립트를 단축키에 등록해 두시는 것을 추천합니다. (예: Ctrl + Shift + Z)

창이 흐트러지거나 새로 창을 띄웠을 때 단축키를 한 번만 누르면 다시 우측 모니터에 "차렷" 자세로 정렬됩니다.

추가 팁: Ubuntu Tiling Extension (대안)
만약 스크립트 실행조차 귀찮고 마우스 드래그만으로 딱딱 붙기를 원하신다면, 우분투 확장 프로그램인 "Tiling Assistant" 또는 **"Pop Shell"**을 설치하시면 창을 모서리로 가져갈 때 자동으로 1/4, 1/2 분할을 해주는 기능을 사용할 수 있습니다. 하지만 6분할(1/6) 자동화는 위 파이썬 스크립트가 유일한 해결책입니다.

제가 사용자를 위해 할 수 있는 다음 단계: 스크립트 실행이 잘 안 되거나 모니터 감지가 이상할 경우, 터미널에서 xrandr 입력 결과를 보여주시면 해당 해상도 좌표에 맞춰 스크립트를 수정해 드릴까요?