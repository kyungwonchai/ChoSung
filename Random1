여 이미지를 MSSQL 데이터베이스에 업로드하는 예제를 제공하겠습니다.

csharp

private void UploadBitmapToDatabase(Bitmap bitmap)
{
    using (MemoryStream stream = new MemoryStream())
    {
        bitmap.Save(stream, System.Drawing.Imaging.ImageFormat.Jpeg);
        byte[] imageData = stream.ToArray();

        using (SqlConnection connection = new SqlConnection(connectionString))
        {
            connection.Open();

            // SQL 쿼리 작성
            string query = "INSERT INTO tbl2 (ImageColumn) VALUES (@imageData)";
            SqlCommand command = new SqlCommand(query, connection);

            // SQL 파라미터 설정
            SqlParameter parameter = new SqlParameter("@imageData", SqlDbType.VarBinary, -1);
            parameter.Value = imageData;
            command.Parameters.Add(parameter);

            // 쿼리 실행
            command.ExecuteNonQuery();
        }
    }
}

위의 코드에서 UploadBitmapToDatabase 메서드는 Bitmap 변수를 받아 해당 이미지를 byte[] 배열로 변환하고, MSSQL 데이터베이스에 업로드합니다.

이제 Bitmap 변수를 사용하여 이미지를 업로드하려면 다음과 같이 코드를 사용할 수 있습니다:

csharp

// 이미지를 로드하거나 생성하는 작업 수행
Bitmap bitmap = new Bitmap("image.jpg");
// 또는
Bitmap bitmap = new Bitmap(width, height);
using (Graphics g = Graphics.FromImage(bitmap))
{
    // 이미지를 그리는 작업 수행
    // ...
}

// 이미지를 MSSQL 데이터베이스에 업로드
UploadBitmapToDatabase(bitmap);

위의 코드에서 UploadBitmapToDatabase 메서드를 호출하여 Bitmap 변수를 MS