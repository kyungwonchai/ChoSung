되어 있는지를 확인하고, 그 결과에 따라 처리하는 프로시저를 생성할 수 있습니다. 이를 위해 문자열의 REPLACE 함수를 사용하여 언더스코어를 제거한 후, 문자열 길이의 차이를 계산할 수 있습니다.

다음은 이러한 조건을 검사하는 프로시저의 예시입니다:

sql

CREATE PROCEDURE CheckUnderscores
AS
BEGIN
    SELECT *,
           CASE 
               WHEN LEN(YourColumn) - LEN(REPLACE(YourColumn, '_', '')) = 6 THEN 'Yes'
               ELSE 'No'
           END AS UnderscoreCheck
    FROM YourTableName;
END
GO

이 프로시저를 사용하려면, YourTableName을 대상 테이블 이름으로, YourColumn을 검사하려는 컬럼 이름으로 바꾸어야 합니다.

프로시저는 다음과 같이 실행할 수 있습니다:

sql

EXEC CheckUnderscores;

이 코드는 YourColumn에서 언더스코어(_) 문자를 제거한 버전의 길이를 원본 문자열 길이에서 빼서 차이를 계산합니다. 그 차이가 6이면 언더스코어가 정확히 6개 포함된 것입니다. 그 결과에 따라 'Yes' 또는 'No' 값을 새 컬럼 UnderscoreCheck에 할당하여 결과를 반환합니다.
