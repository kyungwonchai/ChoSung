using DevExpress.XtraEditors.Controls;

// GridView 컨트롤의 CustomRowCellEdit 이벤트를 처리합니다.
gridView1.CustomRowCellEdit += GridView1_CustomRowCellEdit;

// GridView의 특정 컬럼에 버튼을 추가하여 에디터를 설정합니다.
private void GridView1_CustomRowCellEdit(object sender, DevExpress.XtraGrid.Views.Grid.CustomRowCellEditEventArgs e)
{
    if (e.Column.FieldName == "Quantity1")
    {
        if (e.RowHandle >= 0)
        {
            // 버튼을 포함한 패널 생성
            Panel panel = new Panel();
            panel.Dock = DockStyle.Fill;

            // 버튼 생성
            SimpleButton btnIncrease = new SimpleButton();
            btnIncrease.Text = "+";
            btnIncrease.Dock = DockStyle.Left;
            btnIncrease.Click += (s, args) =>
            {
                int value = Convert.ToInt32(gridView1.GetRowCellValue(e.RowHandle, e.Column));
                value++;
                gridView1.SetRowCellValue(e.RowHandle, e.Column, value);
            };

            SimpleButton btnDecrease = new SimpleButton();
            btnDecrease.Text = "-";
            btnDecrease.Dock = DockStyle.Right;
            btnDecrease.Click += (s, args) =>
            {
                int value = Convert.ToInt32(gridView1.GetRowCellValue(e.RowHandle, e.Column));
                value--;
                gridView1.SetRowCellValue(e.RowHandle, e.Column, value);
            };

            // 버튼을 포함한 패널에 추가
            panel.Controls.Add(btnDecrease);
            panel.Controls.Add(btnIncrease);

            // 에디터로 패널을 설정
            e.RepositoryItem = new RepositoryItem();
            e.RepositoryItem.ReadOnly = true;
            e.RepositoryItem.AutoHeight = false;
            e.RepositoryItem.BorderStyle = DevExpress.XtraEditors.Controls.BorderStyles.NoBorder;
            e.RepositoryItem.NullText = string.Empty;
            e.RepositoryItem.CustomHeight = panel.Height;
            e.RepositoryItem.Control = panel;
        }
    }
}
