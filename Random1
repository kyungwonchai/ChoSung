import bpy

# Lamp 설정: 'point.001' 객체를 선택
lamp = bpy.data.objects.get("point.001")
if lamp is None:
    raise ValueError("Lamp object 'point.001' not found.")

# 초기 설정: 타임라인을 0~60 프레임으로 설정
bpy.context.scene.frame_start = 0
bpy.context.scene.frame_end = 60

# 시작 위치에서 키프레임 설정
lamp.location.x = -16
lamp.keyframe_insert(data_path="location", frame=0)

# 끝 위치에서 키프레임 설정
lamp.location.x = 11
lamp.keyframe_insert(data_path="location", frame=30)

# 그래프를 주기로 설정하여 애니메이션 반복
for fcurve in lamp.animation_data.action.fcurves:
    fcurve.modifiers.new(type='CYCLES')

# 투명 배경 설정
bpy.context.scene.render.image_settings.file_format = 'PNG'
bpy.context.scene.render.image_settings.color_mode = 'RGBA'
bpy.context.scene.render.film_transparent = True

# 출력 경로 설정 (예: "C:/temp/frames/")
bpy.context.scene.render.filepath = "C:/temp/frames/frame_"

# 애니메이션 렌더링
bpy.ops.render.render(animation=True)

# ImageMagick 또는 다른 도구로 PNG 시퀀스를 GIF로 변환
# ImageMagick을 설치한 경우:
# 명령어 예시: convert -delay 5 -loop 0 C:/temp/frames/*.png C:/temp/animation.gif
