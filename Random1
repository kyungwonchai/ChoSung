using System;
using System.Data;
using System.Windows;

namespace WpfApp
{
    public partial class MainWindow : Window
    {
        public DataTable YourDataTable { get; set; }

        public MainWindow()
        {
            InitializeComponent();
            InitializeYourDataTable();
        }

        private void InitializeYourDataTable()
        {
            YourDataTable = new DataTable();
            YourDataTable.Columns.Add("ColumnA");
            YourDataTable.Columns.Add("확정일");
            YourDataTable.Columns.Add("구분");
            YourDataTable.Columns.Add("라인");

            // 예시 데이터
            YourDataTable.Rows.Add("1", DateTime.Now, "A", "Line1");
            YourDataTable.Rows.Add("2", DateTime.Now, "B", "Line2");

            gridControl.ItemsSource = YourDataTable;
        }

        private void ButtonA_Click(object sender, RoutedEventArgs e)
        {
            if (gridControl.GetFocusedRow() is DataRowView selectedRow)
            {
                MessageBoxResult result = MessageBox.Show("행을 추가하시겠습니까?", "행 추가", MessageBoxButton.YesNo);
                if (result == MessageBoxResult.Yes)
                {
                    int newColumnA = Convert.ToInt32(selectedRow["ColumnA"]) + 1;
                    DateTime 확정일 = Convert.ToDateTime(selectedRow["확정일"]);
                    string 구분 = selectedRow["구분"].ToString();
                    string 라인 = selectedRow["라인"].ToString();

                    DataRow newRow = YourDataTable.NewRow();
                    newRow["ColumnA"] = newColumnA.ToString();
                    newRow["확정일"] = 확정일;
                    newRow["구분"] = 구분;
                    newRow["라인"] = 라인;

                    YourDataTable.Rows.Add(newRow);

                    // 이곳에서 필요하다면 데이터베이스에 INSERT 쿼리를 실행합니다.
                }
            }
        }
    }
}
