endtoMergeOI_MAGNO와 SendtoMergeOI_ForceSave) 모두가 올바른 결과(OK)를 반환해야 최종적으로 OK를 반환하고, 그렇지 않으면 어떤 함수에서 오류가 발생했는지 명시하여 NG와 함께 반환하는 코드입니다.

코드 구현:
csharp
코드 복사
private async Task<string> ProcessMESOI(string val)
{
    // SendtoMergeOI_MAGNO 실행
    string magnoResult = await SendtoMergeOI_MAGNO(val);

    // SendtoMergeOI_ForceSave 실행
    string forceSaveResult = await SendtoMergeOI_ForceSave(val);

    // 두 결과가 모두 OK인 경우
    if (magnoResult == "OK" && forceSaveResult == "OK")
    {
        return "OK"; // 정상 처리
    }

    // 결과가 NG인 경우
    StringBuilder errorDetails = new StringBuilder("NG: ");
    if (magnoResult != "OK")
    {
        errorDetails.Append($"SendtoMergeOI_MAGNO ({magnoResult}) ");
    }
    if (forceSaveResult != "OK")
    {
        errorDetails.Append($"SendtoMergeOI_ForceSave ({forceSaveResult}) ");
    }

    return errorDetails.ToString().Trim(); // NG와 세부 오류 내용 반환
}

// 예제 함수: SendtoMergeOI_MAGNO
private async Task<string> SendtoMergeOI_MAGNO(string val)
{
    // 실제 로직 대신 샘플 코드
    await Task.Delay(100); // 비동기 처리 시뮬레이션
    return val == "MAGNO" ? "OK" : "MG"; // 조건에 따라 결과 반환
}

// 예제 함수: SendtoMergeOI_ForceSave
private async Task<string> SendtoMergeOI_ForceSave(string val)
{
    // 실제 로직 대신 샘플 코드
    await Task.Delay(100); // 비동기 처리 시뮬레이션
    return val == "ForceSave" ? "OK" : "MG"; // 조건에 따라 결과 반환
}
동작 설명:
함수 호출:
SendtoMergeOI_MAGNO와 SendtoMergeOI_ForceSave가 각각 실행되어 결과를 반환합니다.
검사 조건:
두 함수의 결과가 모두 "OK"인 경우, 최종적으로 "OK"를 반환합니다.
하나라도 "OK"가 아닌 경우, 어떤 함수에서 오류가 발생했는지 상세한 정보를 반환합니다.
결과 반환 형식:
성공: "OK"
실패: "NG: 함수명 (리턴값)"
결과 예제:
예제 1: 정상 처리
csharp
코드 복사
string result = await ProcessMESOI("MAGNO"); // val = "MAGNO"
/* 결과:
"OK"
*/
예제 2: 오류 처리
csharp
코드 복사
string result = await ProcessMESOI("INVALID"); // val = "INVALID"
/* 결과:
"NG: SendtoMergeOI_MAGNO (MG) SendtoMergeOI_ForceSave (MG)"
*/
주요 포인트: