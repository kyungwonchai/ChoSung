Nginx의 sites-available 디렉터리에 있는 default 파일에 대해 궁금하시군요. 아주 좋은 질문입니다! 이 구조는 Nginx에서 여러 웹사이트를 효율적으로 관리하기 위한 핵심적인 방식입니다.

쉽게 비유하자면, sites-available은 "대기실" 이고, sites-enabled는 "실제 무대" 라고 생각하시면 됩니다.

sites-available과 default 파일의 역할
sites-available 디렉터리는 말 그대로 "사용 가능한" 모든 사이트 설정 파일들을 보관하는 곳입니다.

default 파일: Nginx를 처음 설치했을 때 기본으로 생성되는 웹사이트 설정 파일의 원본입니다. 우리가 흔히 보는 "Welcome to nginx!" 페이지가 바로 이 default 설정 파일 때문에 보이는 것입니다.

설정 파일 창고: 새로운 웹사이트(예: a.com, b.com)를 추가하고 싶을 때, 각 사이트에 대한 설정 파일(a.com.conf, b.com.conf)을 이곳 sites-available에 만들어 둡니다.

즉, 이곳에 파일이 있다고 해서 웹사이트가 바로 동작하지는 않습니다. 그냥 준비만 되어 있는 상태인 것이죠. 📝

sites-enabled의 역할: 실제 활성화
sites-enabled 디렉터리는 sites-available에 있는 설정 파일 중에서 실제로 활성화하여 웹 서버를 띄울 설정들만 모아두는 곳입니다.

원본이 아닌 바로가기(심볼릭 링크): sites-enabled 디렉터리에는 실제 설정 파일이 있는 것이 아니라, sites-available에 있는 원본 파일을 가리키는 바로가기(심볼릭 링크) 파일이 들어갑니다.

Nginx가 읽는 곳: Nginx는 시작될 때 nginx.conf 메인 설정 파일을 읽고, 그 안의 include /etc/nginx/sites-enabled/*; 지시문에 따라 sites-enabled 디렉터리 안에 있는 모든 설정(바로가기)을 불러와서 웹사이트를 활성화합니다.

Nginx를 처음 설치하면, sites-enabled 디렉터리 안에는 sites-available/default 파일을 가리키는 default라는 이름의 바로가기 파일이 기본적으로 생성되어 있습니다.

명령어로 확인하기:

터미널에서 아래 명령어를 입력해보면 이 관계를 명확하게 볼 수 있습니다.

Bash

ls -l /etc/nginx/sites-enabled/
아마 아래와 비슷한 결과가 나올 것입니다.

lrwxrwxrwx 1 root root 34 Jul 10 10:00 default -> /etc/nginx/sites-available/default
-> 화살표는 sites-enabled/default가 sites-available/default를 가리키는 바로가기 파일임을 의미합니다.

핵심 요약
디렉터리	역할	비유
sites-available	모든 사이트 설정 파일의 원본 보관	📄 서류 보관함 (대기실)
sites-enabled	활성화할 사이트 설정의 바로가기 보관	✅ 결재 완료된 서류 (무대)
따라서 새로운 사이트를 추가하고 싶다면,

sites-available 에 새로운 설정 파일(my-site.conf)을 만듭니다.

sites-enabled 에 my-site.conf의 바로가기를 생성하여 사이트를 활성화합니다.

Bash

sudo ln -s /etc/nginx/sites-available/my-site.conf /etc/nginx/sites-enabled/
기존 default 사이트를 비활성화하고 싶다면 sites-enabled에 있는 default 바로가기 파일을 삭제하면 됩니다.

Bash
