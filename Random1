전달합니다. 다음은 예제 코드입니다:

csharp

using System;
using System.Net.Http;
using System.Text;
using System.Threading.Tasks;

namespace MailSenderExample
{
    public static class MailSender
    {
        private static readonly HttpClient client = new HttpClient();
        private static readonly string apiUrl = "http://10.222.222.222/stt/ssc.net/mail/api/v2.0/mails/send";

        public static async Task SendMail(string systemId, string accessToken, string recipient, string subject, string body)
        {
            client.DefaultRequestHeaders.Add("Authorization", $"Bearer {accessToken}");

            var payload = new
            {
                recipient,
                subject,
                body
            };

            var jsonPayload = Newtonsoft.Json.JsonConvert.SerializeObject(payload);
            var content = new StringContent(jsonPayload, Encoding.UTF8, "application/json");

            var response = await client.PostAsync(apiUrl, content);

            if (response.IsSuccessStatusCode)
            {
                Console.WriteLine("메일이 성공적으로 발송되었습니다.");
            }
            else
            {
                Console.WriteLine("메일 발송에 실패하였습니다.");
            }
        }
    }

    public partial class MainForm : Form
    {
        public MainForm()
        {
            InitializeComponent();
        }

        private async void btnSendMail_Click(object sender, EventArgs e)
        {
            string systemId = "YOUR_SYSTEM_ID";
            string accessToken = "YOUR_ACCESS_TOKEN";
            string recipient = txtRecipient.Text;
            string subject = txtSubject.Text;
            string body = txtBody.Text;

            await MailSender.SendMail(systemId, accessToken, recipient, subject, body);
        }
    }
}

위 예제에서는 MailSender라는 정적 클래스를 만들어서 메일 발신을 처리합니다. SendMail 메서드는 시스템 ID와 접근 토큰, 수신자, 제목, 본문을 매개변수로 받습니다. API 호출을 위해 HttpClient를 사용하고, JSON으로 직렬화된 데이터를 POST 요청의 본문으로 전달합니다. 응답에 따라 성공 또는 실패 메시지를 출력합니다.

MainForm은 WinForms 애플리케이션의 메인 폼으로, btnSendMail_Click 이벤트 핸들러에서 MailSender.SendMail을 호출하여 메일을 발송합니다. 필요한 값을 입력받는 텍스트 상자가 있다고 가정하고, 해당 값을 매개변수로 전달합니다.

위 예제 코드를 기반으로 필요에 맞게 시스템 ID, 접근 토큰, API URL 등을 수정하여 사용하시면 됩니다. 또한 Newtonsoft.Json 패키지를 사용하므로 NuGet 패키지 관리자에서 Newtonsoft.Json을 설치해야 합니다.

안내한 내용이 도움이 되었는지 알려주시면 감사하겠습니다. 추가로 궁금한 점이