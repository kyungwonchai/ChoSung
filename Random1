그룹 정책을 코드로 수정하고 적용하는 방법에 대해 좀 더 정확한 정보를 제공하겠습니다. 명령 프롬프트나 PowerShell을 사용하여 그룹 정책을 변경하고 업데이트하는 방법은 다음과 같습니다.

그룹 정책 변경 PowerShell 스크립트
PowerShell 스크립트를 사용하여 그룹 정책을 변경할 수 있습니다. 이를 통해 NTP 설정을 그룹 정책에서 자동으로 설정할 수 있습니다.

그룹 정책 PowerShell 모듈 설치

powershell
코드 복사
Install-Module -Name GroupPolicy -Force
PowerShell 스크립트를 작성하여 그룹 정책 변경

다음 PowerShell 스크립트는 NTP 클라이언트를 설정하는 그룹 정책을 변경하는 예제입니다:

powershell
코드 복사
# Import the Group Policy module
Import-Module GroupPolicy

# Define the path to the GPO
$gpoName = "Default Domain Policy"
$gpo = Get-GPO -Name $gpoName

# Define the NTP Server settings
$ntpServer = "time.windows.com,0x1"

# Set the NTP server in the GPO
Set-GPRegistryValue -Name $gpoName -Key "HKLM\SOFTWARE\Policies\Microsoft\W32Time\Parameters" -ValueName "NtpServer" -Type String -Value $ntpServer

# Enable NTP Client
Set-GPRegistryValue -Name $gpoName -Key "HKLM\SOFTWARE\Policies\Microsoft\W32Time\TimeProviders\NtpClient" -ValueName "Enabled" -Type DWord -Value 1

# Set the sync type to NTP
Set-GPRegistryValue -Name $gpoName -Key "HKLM\SOFTWARE\Policies\Microsoft\W32Time\Parameters" -ValueName "Type" -Type String -Value "NTP"

# Force update the policy on the local machine
gpupdate /force
PowerShell 스크립트 실행

관리자 권한으로 PowerShell을 실행하고, 작성한 스크립트를 실행합니다.

powershell
코드 복사
.\path\to\your\script.ps1
그룹 정책 수동 설정
또는, 다음 방법으로 수동으로 그룹 정책을 설정할 수 있습니다.

그룹 정책 편집기(gpedit.msc) 실행: gpedit.msc를 검색하여 그룹 정책 편집기를 실행합니다.

경로 이동:

코드 복사
컴퓨터 구성 > 관리 템플릿 > 시스템 > Windows 시간 서비스 > 시간 제공자
Windows NTP 클라이언트 구성: "Windows NTP 클라이언트 구성"을 더블 클릭하고, NTP 서버와 관련된 설정을 구성합니다.

gpupdate 명령으로 정책 적용
그룹 정책 변경 사항을 즉시 적용하려면 다음 명령을 사용합니다.

shell
코드 복사
gpupdate /force
요약
PowerShell 사용: PowerShell 스크립트를 사용하여 그룹 정책을 변경하고 적용할 수 있습니다.
수동 설정: 그룹 정책 편집기(gpedit.msc)를 사용하여 수동으로 설정을 변경할 수 있습니다.
정책 적용: gpupdate /force 명령을 사용하여 변경 사항을 즉시 적용합니다.
이러한 방법들을 통해 그룹 정책 설정을 변경하고, NTP 서버와의 동기화를 적절히 설