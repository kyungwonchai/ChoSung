에서 기존의 허용 규칙을 거부 규칙으로 바꾸거나, 특정 규칙을 번호로 지정하지 않고 삭제하는 방법을 안내해드리겠습니다.

기존의 허용 규칙을 거부 규칙으로 변경하기
ufw는 기존의 허용 규칙을 직접 거부 규칙으로 변경하는 기능을 제공하지 않으므로, 기존 허용 규칙을 삭제하고 새로운 거부 규칙을 추가해야 합니다.

예를 들어, IP 192.168.1.100에서 모든 포트를 허용하는 규칙을 거부로 변경하려면 다음 단계를 따릅니다:

기존 허용 규칙 삭제

bash
코드 복사
sudo ufw delete allow from 192.168.1.100
새로운 거부 규칙 추가

bash
코드 복사
sudo ufw deny from 192.168.1.100
특정 규칙을 명시적으로 삭제하기
ufw에서 특정 규칙을 번호가 아닌 규칙 내용으로 삭제할 수 있습니다. 예를 들어, IP 192.168.1.100에서 모든 포트를 허용하는 규칙을 삭제하려면:

특정 허용 규칙 삭제
bash
코드 복사
sudo ufw delete allow from 192.168.1.100
또는 특정 포트를 지정해서 삭제할 수 있습니다. 예를 들어, IP 192.168.1.100에서 포트 8080을 허용하는 규칙을 삭제하려면:

bash
코드 복사
sudo ufw delete allow from 192.168.1.100 to any port 8080
모든 포트를 특정 IP에 허용한 규칙을 일괄 삭제
특정 IP에 대해 모든 포트를 허용한 규칙을 일괄 삭제하려면, 해당 IP에서 모든 포트를 허용한 규칙을 삭제합니다:

bash
코드 복사
sudo ufw delete allow from 192.168.1.100
이렇게 하면 특정 IP에 대해 모든 포트를 허용하는 규칙이 삭제됩니다.

예시
모든 포트를 특정 IP에 허용한 후, 거부로 변경하는 경우:
bash
코드 복사
sudo ufw allow from 192.168.1.100  # 허용 규칙 추가
sudo ufw delete allow from 192.168.1.100  # 허용 규칙 삭제
sudo ufw deny from 192.168.1.100  # 거부 규칙 추가
특정 포트를 특정 IP에 허용한 후, 거부로 변경하는 경우:
bash
코드 복사
sudo ufw allow from 192.168.1.100 to any port 8080  # 특정 포트 허용 규칙 추가
sudo ufw delete allow from 192.168.1.100 to any port 8080  # 특정 포트 허용 규칙 삭제
sudo ufw deny from 192.168.1.100 to any port 8080  # 특정 포트 거부 규칙 추가
이러한 방법으로 ufw를 사용하여 특정 IP에 대한 허용 및 거부 규칙을 효과적으로 관리할 수 있습니