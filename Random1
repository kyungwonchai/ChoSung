using System;
using System.Text.RegularExpressions;

class Program
{
    static void Main()
    {
        string input = "2244BSM-5r12521_gsd_gsg_sg_\\...";
        // 모든 언더바를 포함하여 첫 번째 역슬래시('\\') 전까지의 문자열을 추출합니다.
        string pattern = @"BSM-.*?_(.*?\\)";

        Match match = Regex.Match(input, pattern);

        if (match.Success)
        {
            // 추출된 문자열에서 마지막 역슬래시('\\')를 제거합니다.
            string matchedString = match.Groups[1].Value;
            matchedString = matchedString.Substring(0, matchedString.Length - 1);
            Console.WriteLine($"Result: {matchedString}");
        }
        else
        {
            Console.WriteLine("No match found");
        }
    }
}
