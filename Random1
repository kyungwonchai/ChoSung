, Windows에서는 CUDA 12.8과 CUDA 12.1을 동시에 설치할 수 있습니다. 다만, PyTorch가 사용할 CUDA 버전을 명확하게 지정해야 합니다.

1. CUDA 12.8과 12.1을 동시에 설치하는 방법
CUDA는 기본적으로 여러 버전을 설치할 수 있으며, 환경 변수 (Environment Variables) 설정을 통해 특정 버전을 활성화할 수 있습니다.

(1) CUDA 12.1.1 다운로드 및 설치
CUDA 12.1.1 다운로드
(OS: Windows, Installer Type: .exe 선택)
설치할 때 Custom(사용자 지정) 설치를 선택하고, CUDA 12.8이 설치된 상태에서 덮어쓰지 않도록 경로를 변경합니다.
예: C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v12.1\
설치가 끝나면, 환경 변수를 설정하지 않고 넘어갑니다. (설치 후 환경 변수 설정은 직접 할 예정)
(2) CUDA 12.1을 사용하도록 환경 변수 설정
기본적으로 CUDA 12.8이 설치되어 있을 경우, CUDA 12.1을 사용하려면 수동으로 환경 변수를 변경해야 합니다.

환경 변수 편집 (Path 설정)

Windows 키 → "환경 변수 편집" 검색 → 시스템 환경 변수 편집 클릭
"환경 변수" 버튼 클릭
"시스템 변수"에서 Path 항목을 편집
기존의 C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v12.8\bin 경로를 비활성화하거나 삭제하지 않고,
CUDA 12.1 경로를 맨 위에 추가
makefile
코드 복사
C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v12.1\bin
추가해야 할 경로:
makefile
코드 복사
C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v12.1\bin
C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v12.1\libnvvp
위 경로가 CUDA 12.8의 경로보다 위에 있어야 함!
환경 변수 추가

NVIDIA_CUDA_HOME 변수 설정
ini
코드 복사
NVIDIA_CUDA_HOME=C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v12.1\
환경 변수 적용

cmd 창을 열고 다음 명령어 입력:
sh
코드 복사
set CUDA_HOME=C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v12.1\
현재 세션에서만 적용되므로, 다시 실행 시에는 환경 변수 설정을 변경해야 함.
2. PyTorch에서 CUDA 버전 강제 지정
PyTorch가 CUDA 12.1을 사용하도록 명확하게 지정하는 것이 중요합니다.

(1) PyTorch 설치 (CUDA 12.1 지원)
sh
코드 복사
pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu121
(2) CUDA 버전 확인
python
코드 복사
import torch
print(torch.version.cuda)  # CUDA 버전 확인
print(torch.cuda.is_available())  # True면 정상 작동
print(torch.cuda.get_device_name(0))  # GPU 정보 출력
(3) CUDA 12.1을 강제로 사용 (필요한 경우)
sh
코드 복사
set CUDA_HOME=C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v12.1\
set PATH=C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v12.1\bin;%PATH%
이렇게 하면 PyTorch가 CUDA 12.1을 사용하도록 강제 지정됩니다.

3. 정리 (결론)
✅ CUDA 12.8과 CUDA 12.1을 동시에 설치할 수 있음
✅ 환경 변수에서 CUDA 12.1을 우선하도록 설정해야 함
✅ PyTorch를 설치할 때 반드시 CUDA 12.1용 패키지를 설치해야 함
✅ 필요하면 CUDA_HOME과 PATH를 수동으로 지정하여 CUDA 12.1을 강제 사용 가능

💡 주의:
