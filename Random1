투 시스템에서 사용자 계정 목록을 확인하고, 삼바(Samba) 공유 폴더에 대한 읽기/쓰기 권한을 가진 별도의 계정을 생성 및 삭제하는 방법을 상세히 안내해드리겠습니다.

1. 현재 시스템의 사용자 계정 목록 확인
우분투에서 현재 등록된 사용자 계정을 확인하려면 다음 명령어를 사용합니다:

bash
코드 복사
cut -d: -f1 /etc/passwd
이 명령어는 시스템에 존재하는 모든 사용자 계정의 이름을 출력합니다.

2. 삼바 공유 폴더에 대한 별도 계정 생성 및 권한 설정
삼바를 통해 특정 공유 폴더에 접근할 수 있는 별도의 계정을 생성하고, 해당 계정에 읽기/쓰기 권한을 부여하는 방법은 다음과 같습니다:

새 사용자 계정 생성:

bash
코드 복사
sudo adduser [새로운사용자이름]
위 명령어를 실행하면 시스템에 새로운 사용자 계정이 생성됩니다.

삼바 사용자로 등록:

삼바는 자체적인 사용자 데이터베이스를 사용하므로, 새로 생성한 시스템 사용자를 삼바 사용자로 등록해야 합니다:

bash
코드 복사
sudo smbpasswd -a [새로운사용자이름]
이 명령어를 실행하면 해당 사용자에 대한 삼바 비밀번호를 설정하게 됩니다.

공유 폴더에 대한 파일 시스템 권한 설정:

공유하려는 디렉토리의 소유자와 권한을 새로 생성한 사용자에게 부여합니다:

bash
코드 복사
sudo chown -R [새로운사용자이름]:[새로운사용자이름] /경로/공유폴더
sudo chmod -R 770 /경로/공유폴더
위 명령어는 해당 폴더의 소유자를 새 사용자로 변경하고, 소유자와 그룹에 읽기, 쓰기, 실행 권한을 부여합니다.

삼바 설정 파일 수정:

삼바 설정 파일(/etc/samba/smb.conf)을 열어 공유 폴더에 대한 설정을 추가하거나 수정합니다:

bash
코드 복사
sudo nano /etc/samba/smb.conf
설정 예시는 다음과 같습니다:

pgsql
코드 복사
[공유이름]
    path = /경로/공유폴더
    valid users = [새로운사용자이름]
    read only = no
설정을 저장하고 나옵니다.

삼바 서비스 재시작:

설정 변경 사항을 적용하기 위해 삼바 서비스를 재시작합니다:

bash
코드 복사
sudo systemctl restart smbd
3. 삼바 사용자 계정 삭제
삼바에서 특정 사용자를 삭제하려면 다음 단계를 따릅니다:

삼바 사용자 삭제:

bash
코드 복사
sudo smbpasswd -x [사용자이름]
이 명령어는 삼바 데이터베이스에서 해당 사용자를 제거합니다.

시스템 사용자 삭제 (선택 사항):

시스템에서도 해당 사용자를 삭제하려면 다음 명령어를 사용합니다:

bash
코드 복사
sudo deluser [사용자이름]
홈 디렉토리와 관련 파일까지 모두 삭제하려면 --remove-home 옵션을 추가합니다:

bash
코드 복사
sudo deluser --remove-home [사용자이름]
주의: 이 명령어를 실행하면 해당 사용자의 모든 데이터가 삭제되므로 신중히 사용하시기 바랍니다.