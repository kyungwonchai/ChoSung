더를 조회하거나 서비스로 설정할 수 있습니다. 아래에 모든 과정을 상세하게 설명하겠습니다.

1. 공유 폴더 조회하기 (현재 설정된 공유 폴더 확인)
우분투에서 공유 폴더를 조회하려면 Samba 설정 파일을 확인하면 됩니다.

bash
코드 복사
sudo testparm -s
또는 Samba 설정 파일을 직접 확인합니다.

bash
코드 복사
cat /etc/samba/smb.conf
이 파일에서 [shared_name] 같은 섹션들이 공유 폴더로 설정된 것입니다.

또한, 서비스로 실행 중인 Samba 확인:

bash
코드 복사
sudo systemctl status smbd
2. Samba 설치하기 (필요시)
Samba는 일반적으로 Ubuntu Server에 설치되어 있지 않으므로 설치가 필요합니다.

bash
코드 복사
sudo apt update
sudo apt install samba
설치 확인:

bash
코드 복사
samba -V
3. 공유 폴더 설정하기 (예: /mnt/data)
여기서는 /mnt/data 폴더를 공유 폴더로 설정하는 예를 들어 설명합니다.

1) 공유 폴더 생성
bash
코드 복사
sudo mkdir -p /mnt/data
sudo chown -R nobody:nogroup /mnt/data
sudo chmod -R 0777 /mnt/data
2) Samba 설정 파일 수정
설정 파일을 엽니다.

bash
코드 복사
sudo nano /etc/samba/smb.conf
설정 파일 끝에 다음을 추가합니다.

bash
코드 복사
[shared]
   path = /mnt/data
   browseable = yes
   read only = no
   guest ok = yes
3) Samba 설정 테스트
bash
코드 복사
sudo testparm
에러가 없으면 설정이 올바른 것입니다.

4) Samba 서비스 재시작
bash
코드 복사
sudo systemctl restart smbd
4. 서비스로 설정하기 (시스템 부팅 시 자동 실행)
시스템이 부팅될 때 Samba 서비스가 자동으로 실행되도록 설정합니다.

bash
코드 복사
sudo systemctl enable smbd
Samba 서비스 상태 확인:

bash
코드 복사
sudo systemctl status smbd
5. 공유 폴더 접근 확인
로컬 네트워크의 다른 컴퓨터에서 공유 폴더에 접근해보기 (Windows 기준)

css
코드 복사
\\[우분투 IP 주소]\shared
예를 들어:

vbnet
코드 복사
\\192.168.0.10\shared
6. Firewall 설정 (필요시)
Ubuntu 방화벽이 켜져 있으면 Samba 연결을 허용하도록 설정해야 합니다.

bash
코드 복사
sudo ufw allow 'Samba'
sudo ufw reload
설정 확인:

bash
코드 복사
sudo ufw status
7. Samba 사용자 추가 (선택 사항)
공유 폴더에 접근할 때 사용자 인증을 요구하고 싶다면:

사용자 추가

bash
코드 복사
sudo smbpasswd -a [username]
사용자 활성화

bash
코드 복사
sudo smbpasswd -e [username]
8. 공유 폴더 설정 확인하기 (조회 명령)
bash
코드 복사
smbclient -L localhost -U%
9. 서비스 파일 생성 (Samba를 별도 서비스로 설정하기)
이 방법은 기존 smbd와 nmbd 서비스 대신 직접 작성한 서비스를 사용할 때 사용합니다.

bash
코드 복사
sudo nano /etc/systemd/system/samba-share.service
파일 내용:

ini
코드 복사
[Unit]
Description=Samba Share Service
After=network.target

[Service]
ExecStart=/usr/sbin/smbd -D
Restart=always
User=root
Group=root

[Install]
WantedBy=multi-user.target
설치 명령:

bash
코드 복사
sudo systemctl daemon-reload
sudo systemctl enable samba-share.service
sudo systemctl start samba-share.service
상태 확인:

bash
코드 복사
sudo systemctl status samba-share.service
10. Samba 공유 목록 확인하기 (확인 명령)
bash
코드 복사
smbstatus
또는

bash
코드 복사