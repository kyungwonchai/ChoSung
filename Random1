을 다운로드한 후, 텍스트 파일에 서명을 작성하여 같은 폴더에 저장하는 기능을 추가한 코드는 다음과 같습니다. 텍스트 파일에는 지정된 서명 내용이 3줄로 작성됩니다.

csharp
코드 복사
using System;
using System.Net;
using System.Windows.Forms;
using System.Diagnostics;
using System.IO;

namespace DownloadFileApp
{
    public partial class MainForm : Form
    {
        public MainForm()
        {
            InitializeComponent();
        }

        private void downloadButton_Click(object sender, EventArgs e)
        {
            // 다운로드할 웹 주소 (파일 URL)
            string fileUrl = "https://example.com/file.zip"; // 여기에 다운로드할 파일 URL을 입력하세요

            // SaveFileDialog를 사용하여 저장 경로 선택 팝업 표시
            using (SaveFileDialog saveFileDialog = new SaveFileDialog())
            {
                saveFileDialog.Title = "파일 다운로드 위치 선택";
                saveFileDialog.FileName = "file.zip"; // 기본 파일 이름
                saveFileDialog.Filter = "All Files (*.*)|*.*"; // 파일 형식 필터
                saveFileDialog.InitialDirectory = Environment.GetFolderPath(Environment.SpecialFolder.Desktop); // 기본 경로를 바탕화면으로 설정

                // 사용자가 저장 경로를 선택한 경우 다운로드 수행
                if (saveFileDialog.ShowDialog() == DialogResult.OK)
                {
                    string downloadPath = saveFileDialog.FileName; // 사용자가 선택한 경로

                    // WebClient 객체 생성
                    using (WebClient client = new WebClient())
                    {
                        try
                        {
                            // 파일 다운로드 시작
                            client.DownloadFile(fileUrl, downloadPath);
                            MessageBox.Show("파일 다운로드가 완료되었습니다.", "다운로드 성공", MessageBoxButtons.OK, MessageBoxIcon.Information);

                            // 서명 텍스트 파일 생성 및 작성
                            string folderPath = Path.GetDirectoryName(downloadPath); // 폴더 경로
                            string signatureFilePath = Path.Combine(folderPath, "Signature.txt"); // 서명 파일 경로

                            // 서명 내용 작성
                            string[] signatureLines = {
                                "서명 내용 1줄",
                                "서명 내용 2줄",
                                "서명 내용 3줄"
                            };

                            // 텍스트 파일에 서명 내용 작성
                            File.WriteAllLines(signatureFilePath, signatureLines);

                            // 파일이 저장된 폴더 열기
                            Process.Start("explorer.exe", folderPath); // 탐색기로 폴더 열기
                        }
                        catch (Exception ex)
                        {
                            // 오류 처리
                            MessageBox.Show($"파일 다운로드 중 오류 발생: {ex.Message}", "다운로드 실패", MessageBoxButtons.OK, MessageBoxIcon.Error);
                        }
                    }
                }
            }
        }
    }
}
추가 코드 설명
서명 텍스트 파일 생성: 다운로드가 완료된 폴더 위치에서 "Signature.txt"라는 파일을 생성합니다.

서명 내용 작성: signatureLines 배열에 서명 내용이 3줄로 작성됩니다. 원하는 텍스트로 서명 내용을 수정할 수 있습니다.

파일 작성: File.WriteAllLines 메서드를 사용하여 signatureLines 배열의 내용을 "Signature.txt" 파일에 작성합니다.

탐색기로 폴더 열기: 파일 다운로드와 서명 파일 작성이 완료된 후, 탐색기로 해당 폴더를 열어 사용자가 다운로드한 파일과 서명 파일을 확인할 수 있도록 합니다.