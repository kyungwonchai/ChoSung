TodayReport와 LoadYesterdayReport 함수입니다. 이 함수들은 날짜를 계산하여 인계장을 로드하는 역할을 합니다. 하루의 시작과 끝을 07시부터 06:59까지로 설정하도록 수정할 필요가 있습니다.

수정할 함수
LoadTodayReport
LoadYesterdayReport
GetShiftStartDateTime (새로 추가된 함수)
LoadTodayReport 함수
csharp
코드 복사
private void LoadTodayReport(object sender, RoutedEventArgs e)
{
    DateTime today = GetShiftStartDateTime(DateTime.Now);
    LoadReport(today.ToString("yyyy-MM-dd"));
}
LoadYesterdayReport 함수
csharp
코드 복사
private void LoadYesterdayReport(object sender, RoutedEventArgs e)
{
    DateTime yesterday = GetShiftStartDateTime(DateTime.Now).AddDays(-1);
    LoadReport(yesterday.ToString("yyyy-MM-dd"));
}
GetShiftStartDateTime 함수 (새로 추가)
csharp
코드 복사
private DateTime GetShiftStartDateTime(DateTime currentDateTime)
{
    DateTime shiftStartDateTime;

    if (currentDateTime.Hour < 7)
    {
        // If the current time is before 7 AM, use the previous day's 7 AM as the shift start
        shiftStartDateTime = currentDateTime.Date.AddDays(-1).AddHours(7);
    }
    else
    {
        // If the current time is 7 AM or after, use today's 7 AM as the shift start
        shiftStartDateTime = currentDateTime.Date.AddHours(7);
    }

    return shiftStartDateTime;
}
LoadReport 함수 (참고)
csharp
코드 복사
private void LoadReport(string date)
{
    DataTable dataTable = new DataTable();

    using (SqlConnection conn = new SqlConnection(connectionString))
    {
        SqlCommand cmd = new SqlCommand("GetReportsByDate", conn);
        cmd.CommandType = CommandType.StoredProcedure;
        cmd.Parameters.AddWithValue("@Date", date);

        SqlDataAdapter adapter = new SqlDataAdapter(cmd);
        adapter.Fill(dataTable);
    }

    gridControlReports.ItemsSource = dataTable.DefaultView;
}
최종적으로 변경해야 할 함수 목록:
LoadTodayReport
LoadYesterdayReport
GetShiftStartDateTime (새로 추가)
이 세 가지 함수만 수정하면 하루의 시작과 끝을 07시부터 06:59까지로 설정할 수 있습니다. 추가적인 문제가 발생하면