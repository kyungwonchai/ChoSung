RowAppearanceEventArgs에는 Appearance 속성이 없을 수 있습니다. 이런 경우 e.Row를 사용해서 행의 배경색을 변경할 수 있습니다. 아래는 수정된 예시입니다.

먼저, CustomRowAppearance 이벤트를 TableView에 등록하세요:

csharp

(gridControl1.View as TableView).CustomRowAppearance += OnCustomRowAppearance;

그리고 이벤트 핸들러를 다음과 같이 수정하세요:

csharp

private int lockedKeyValue = -1;

private void OnCustomRowAppearance(object sender, RowEventArgs e)
{
    TableView view = sender as TableView;
    if (view != null && e.RowHandle != GridControl.InvalidRowHandle)
    {
        object cellValue = view.Grid.GetCellValue(e.RowHandle, "key1");
        if (cellValue != null && (int)cellValue == lockedKeyValue)
        {
            e.Row.Background = new SolidColorBrush(Colors.Yellow);
        }
    }
}

이제 LockAndChangeColor 함수를 호출할 때 lockedKeyValue를 설정하고 RefreshData()를 호출해야 합니다:

csharp

private void LockAndChangeColor(int keyValue)
{
    lockedKeyValue = keyValue;
    (gridControl1.View as TableView).RefreshData();
}

이렇게 하면 CustomRowAppearance 이벤트가 발생할 때 key1이 일치하는 행의 배경색이 노란색으로 변경될 것입니다.