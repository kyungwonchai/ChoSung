udo apt update 실행 시 Docker 저장소에서 'certificate verification failed' 오류가 발생하는 것은, 시스템이 Docker 서버의 보안 인증서(SSL/TLS)를 신뢰하지 못하기 때문입니다. 주로 시스템의 인증서 목록이 오래되었거나, Docker의 GPG 키 설정이 잘못되었을 때 발생합니다.

아래 해결 방법을 순서대로 따라 해 보세요. 가장 확실한 방법은 Docker의 공식 키와 저장소 설정을 완전히 새로고침하는 것입니다.

해결 방법: Docker GPG 키 및 저장소 재설정
기존의 잘못된 설정을 깨끗하게 지우고 최신 공식 설정으로 다시 등록하는 방법입니다.

1. 기존 Docker 설정 파일 삭제
먼저 문제가 될 수 있는 기존 키와 저장소 목록 파일을 삭제합니다.

Bash

sudo rm -f /usr/share/keyrings/docker-archive-keyring.gpg
sudo rm -f /etc/apt/sources.list.d/docker.list
2. 필수 패키지 설치 및 업데이트
인증서 관련 기본 패키지를 포함하여 APT가 HTTPS를 통해 통신하는 데 필요한 패키지들을 최신 상태로 설치합니다.

Bash

sudo apt-get update
sudo apt-get install -y ca-certificates curl gnupg lsb-release
💡 이 과정에서 ca-certificates 패키지가 업데이트되면서 간단한 인증서 문제가 해결되기도 합니다.

3. Docker 공식 GPG 키 새로 추가
최신 Docker 공식 GPG 키를 다운로드하여 시스템 키링에 저장합니다.

Bash

curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg
4. Docker 저장소(Repository) 새로 설정
시스템 아키텍처와 우분투 버전에 맞는 Docker 저장소를 /etc/apt/sources.list.d/docker.list 파일에 새로 추가합니다.

Bash

echo \
  "deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu \
  $(lsb_release -cs) stable" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null
최종 확인
모든 과정을 마쳤으면, 마지막으로 apt 패키지 목록을 다시 업데이트하여 오류가 해결되었는지 확인합니다.

Bash
