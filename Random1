 ì´ë²ˆì—ëŠ” ê²€ì¶œ ê²°ê³¼ë¥¼ ë§ˆìŠ¤í¬ ì´ë¯¸ì§€ê¹Œì§€ í™•ì¸í•  ìˆ˜ ìˆë„ë¡ í•˜ê² ë‹¤.
ë§ˆìŠ¤í¬ ì´ë¯¸ì§€ê°€ ì˜ëª»ë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ë©´ì„œ, ë¬¸ì œê°€ ë°œìƒí•˜ëŠ” ì›ì¸ì„ ì§ì ‘ ë³¼ ìˆ˜ ìˆë„ë¡ ì½”ë“œ ìˆ˜ì •í–ˆë‹¤.

ğŸ”¹ ì£¼ìš” ìˆ˜ì • ì‚¬í•­
âœ… HSV ì „ì²´ ë²”ìœ„ë¥¼ 0~255ë¡œ ì„¤ì •í•˜ì—¬ ë²”ìœ„ ë¬¸ì œ ì œê±°
âœ… ë§ˆìŠ¤í¬ ê²°ê³¼(mask)ë¥¼ Cv2.ImShowë¡œ í™•ì¸ ê°€ëŠ¥í•˜ë„ë¡ ì¶œë ¥
âœ… í•„í„°ë§ëœ ë¸”ë£¨ ìƒ‰ìƒì˜ ë§ˆìŠ¤í¬ ê²°ê³¼ë¥¼ íŒŒì¼ë¡œ ì €ì¥í•˜ì—¬ í™•ì¸ ê°€ëŠ¥

âœ… ìµœì¢… ì½”ë“œ (ë§ˆìŠ¤í¬ ì´ë¯¸ì§€ í™•ì¸ í¬í•¨)
csharp
ì½”ë“œ ë³µì‚¬
using OpenCvSharp;
using OpenCvSharp.Extensions;
using System;
using System.Drawing;
using System.Windows.Forms;

class Program
{
    static void Main()
    {
        // í™”ë©´ ìº¡ì²˜
        Bitmap screenshot = CaptureScreenAlternative();
        Mat image = BitmapConverter.ToMat(screenshot);

        // ì•ŒíŒŒ ì±„ë„ ì œê±° (í˜¹ì‹œ ìˆì„ ê²½ìš°)
        if (image.Channels() == 4)
        {
            Cv2.CvtColor(image, image, ColorConversionCodes.BGRA2BGR);
        }

        // ë¸”ë£¨ ìƒ‰ìƒ ë²„íŠ¼ ì°¾ê¸°
        FindBlueButtons(image);
    }

    /// <summary>
    /// ğŸ–¥ï¸ í™”ë©´ ìº¡ì²˜ (ì•ˆì •ì ì¸ ìº¡ì²˜ ë°©ì‹)
    /// </summary>
    static Bitmap CaptureScreenAlternative()
    {
        Rectangle bounds = Screen.PrimaryScreen.Bounds;
        Bitmap bitmap = new Bitmap(bounds.Width, bounds.Height);

        using (Graphics g = Graphics.FromImage(bitmap))
        {
            g.CopyFromScreen(bounds.X, bounds.Y, 0, 0, bounds.Size);
        }

        return bitmap;
    }

    /// <summary>
    /// ğŸ”µ ë¸”ë£¨ ê³„ì—´ ë²„íŠ¼ ì°¾ê¸° (ë§ˆìŠ¤í¬ ê²°ê³¼ ì €ì¥ í¬í•¨)
    /// </summary>
    static void FindBlueButtons(Mat image)
    {
        // 1ï¸âƒ£ BGR â†’ HSV ë³€í™˜
        Mat hsv = new Mat();
        Cv2.CvtColor(image, hsv, ColorConversionCodes.BGR2HSV);

        // 2ï¸âƒ£ ë¸”ë£¨ ê³„ì—´ì˜ ë²”ìœ„ ì„¤ì • (Hue ê¸°ì¤€)
        Scalar lowerBlue = new Scalar(90, 50, 50);  // ìµœì†Œ (ì¡°ì • ê°€ëŠ¥)
        Scalar upperBlue = new Scalar(140, 255, 255); // ìµœëŒ€ (ì¡°ì • ê°€ëŠ¥)

        // 3ï¸âƒ£ ë¸”ë£¨ ìƒ‰ìƒ í•„í„°ë§
        Mat mask = new Mat();
        Cv2.InRange(hsv, lowerBlue, upperBlue, mask);

        // 4ï¸âƒ£ ë§ˆìŠ¤í¬ ê²°ê³¼ í™•ì¸ (ë§ˆìŠ¤í¬ ì´ë¯¸ì§€ ì¶œë ¥)
        Cv2.ImShow("Mask Result", mask);  // ë§ˆìŠ¤í¬ ì´ë¯¸ì§€ í™•ì¸
        Cv2.ImWrite("mask_result.png", mask);  // ë§ˆìŠ¤í¬ ê²°ê³¼ ì €ì¥

        // 5ï¸âƒ£ ìœ¤ê³½ì„  ê²€ì¶œ
        Cv2.FindContours(mask, out Point[][] contours, out _, RetrievalModes.External, ContourApproximationModes.ApproxSimple);

        foreach (var contour in contours)
        {
            Rect rect = Cv2.BoundingRect(contour);

            // íŠ¹ì • í¬ê¸° ì¡°ê±´ (ë„ˆë¹„ 100~200 ì‚¬ì´)
            if (rect.Width > 100 && rect.Width < 200 && rect.Height > 30)
            {
                Console.WriteLine($"ğŸ”µ ë¸”ë£¨ ë²„íŠ¼ ë°œê²¬! ì¢Œí‘œ: {rect.X}, {rect.Y}, í¬ê¸°: {rect.Width}x{rect.Height}");
                Cv2.Rectangle(image, rect, new Scalar(0, 255, 0), 2); // ì´ˆë¡ìƒ‰ ì‚¬ê°í˜• í‘œì‹œ
            }
        }

        // 6ï¸âƒ£ ê²°ê³¼ í‘œì‹œ
        Cv2.ImShow("Detected Blue Buttons", image);
        Cv2.WaitKey(0);
        Cv2.DestroyAllWindows();
    }
}
ğŸ”¹ ì‹¤í–‰ ë°©ë²• ë° ê²°ê³¼ í™•ì¸
ë§ˆìŠ¤í¬ ì´ë¯¸ì§€ ì§ì ‘ í™•ì¸

mask_result.png íŒŒì¼ì´ ì‹¤í–‰ í´ë”ì— ìƒì„±ë¨.
ì´ íŒŒì¼ì„ ì—´ì–´ ê²€ì¶œëœ ë¶€ë¶„ì´ í°ìƒ‰ì¸ì§€ í™•ì¸.
ë§Œì•½ ì „ë¶€ ê²€ì€ìƒ‰ì´ë©´, lowerBlue & upperBlue ê°’ì„ ì¡°ì •í•´ì•¼ í•¨.
ë§ˆìŠ¤í¬ ì´ë¯¸ì§€ ì°½ì—ì„œ ì§ì ‘ í™•ì¸

Cv2.ImShow("Mask Result", mask); ì‹¤í–‰ í›„ ë§ˆìŠ¤í¬ ì´ë¯¸ì§€ë¥¼ ì§ì ‘ ëˆˆìœ¼ë¡œ ë³¼ ìˆ˜ ìˆìŒ.
ë²„íŠ¼ì´ ê°ì§€ë˜ë©´ í„°ë¯¸ë„ì— ì¢Œí‘œ ì¶œë ¥

ì½”ë“œ ë³µì‚¬
ğŸ”µ ë¸”ë£¨ ë²„íŠ¼ ë°œê²¬! ì¢Œí‘œ: 340, 220, í¬ê¸°: 120x50
ğŸ”µ ë¸”ë£¨ ë²„íŠ¼ ë°œê²¬! ì¢Œí‘œ: 540, 320, í¬ê¸°: 180x60
ğŸ”¹ ê²€ì¶œì´ ì•ˆ ë  ê²½ìš° í™•ì¸í•  ê²ƒ
âœ… mask_result.pngë¥¼ ì—´ì–´ ì „ë¶€ ê²€ì€ìƒ‰ì¸ì§€ í™•ì¸