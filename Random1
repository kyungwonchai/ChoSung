private void tableView_FocusedRowChanged(object sender, FocusedRowChangedEventArgs e)
{
    DeselectAllQRCode();
    if (e.NewRow != null)
    {
        int index = Items.IndexOf(e.NewRow as string);
        HighlightQRCode(index);
    }
}

private void DeselectAllQRCode()
{
    foreach (StackPanel stackPanel in qrCodePanel.Children)
    {
        stackPanel.Background = System.Windows.Media.Brushes.Transparent;
    }
}

private void HighlightQRCode(int index)
{
    if (index >= 0 && index < qrCodePanel.Children.Count)
    {
        StackPanel stackPanel = qrCodePanel.Children[index] as StackPanel;
        stackPanel.Background = System.Windows.Media.Brushes.Yellow;
    }
}
