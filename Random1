using System;
using System.Windows.Forms;
using DevExpress.XtraBars.Docking2010;

public partial class MainForm : DevExpress.XtraEditors.XtraForm
{
    private DockManager dockManager;

    public MainForm()
    {
        InitializeComponent();

        // DockManager 초기화
        dockManager = new DockManager(this);

        // 버튼 A를 클릭했을 때의 동작
        btnDockA.Click += BtnDockA_Click;

        // 버튼 B를 클릭했을 때의 동작
        btnDockB.Click += BtnDockB_Click;
    }

    // 버튼 A를 클릭했을 때의 동작
    private void BtnDockA_Click(object sender, EventArgs e)
    {
        ShowDockControl(new UserControlA());
    }

    // 버튼 B를 클릭했을 때의 동작
    private void BtnDockB_Click(object sender, EventArgs e)
    {
        ShowDockControl(new UserControlB());
    }

    // DockControl을 보여주는 메서드
    private void ShowDockControl(Control control)
    {
        // 기존에 도킹되어 있던 컨트롤들을 숨깁니다.
        foreach (Control dockedControl in dockPanel.Controls)
        {
            dockedControl.Visible = false;
        }

        // DockControl을 추가하여 보여줍니다.
        DockControl dockControl = dockManager.AddPanel(DockingStyle.Left);
        dockControl.Text = control.GetType().Name;
        dockControl.Controls.Add(control);
        control.Dock = DockStyle.Fill;

        // DockControl을 보여줍니다.
        dockControl.Visibility = DockVisibility.Visible;
    }
}
