using System;
using System.IO;

class Program
{
    static void Main()
    {
        string baseFolderPath = @"C:\rpaserial";
        string variableValue = "ExampleVariableValue^OtherText";

        // 폴더가 존재하지 않으면 생성합니다.
        if (!Directory.Exists(baseFolderPath))
        {
            Directory.CreateDirectory(baseFolderPath);
        }

        // 연월일시분초 형식의 파일 이름 생성
        string fileName = DateTime.Now.ToString("yyyyMMddHHmmss");

        // 변수에서 마지막 ￦ 문자 뒤의 문자열을 가져옵니다.
        int lastIndex = variableValue.LastIndexOf('￦');
        string substring = variableValue.Substring(lastIndex + 1);

        // ^로 분리한 첫 번째 문자열과 파일 이름을 합칩니다.
        string result = substring.Split('^')[0];
        string filePath = Path.Combine(baseFolderPath, fileName + result);

        // 파일 생성
        File.Create(filePath).Close();

        Console.WriteLine("파일이 생성되었습니다.");
    }
}
