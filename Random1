penCV의 cv2.inRange() 함수는 이미지에서 특정 색상 범위를 지정하여 해당 범위에 속하는 픽셀을 추출하는 데 사용됩니다. 이 함수는 세 개의 주요 인자를 받습니다:

src: 입력 이미지
lowerb: 색상의 하한값 (lower bound)
upperb: 색상의 상한값 (upper bound)
이때, lowerb와 upperb는 각각 추출하고자 하는 색상의 최소값과 최대값을 나타내며, 일반적으로 HSV 색공간에서 지정됩니다. HSV 색공간은 색상(Hue), 채도(Saturation), 명도(Value)로 구성되며, 색상 추출에 효과적입니다.

예를 들어, 특정 색상을 추출하기 위해 다음과 같이 하한값과 상한값을 설정할 수 있습니다:

python
코드 복사
import cv2
import numpy as np

# BGR 이미지를 HSV로 변환
hsv_image = cv2.cvtColor(bgr_image, cv2.COLOR_BGR2HSV)

# 추출하려는 색상의 HSV 범위 설정
lowerb = np.array([H-10, 100, 100])
upperb = np.array([H+10, 255, 255])

# inRange 함수를 사용하여 마스크 생성
mask = cv2.inRange(hsv_image, lowerb, upperb)
여기서 H는 추출하고자 하는 색상의 Hue 값이며, ±10의 범위를 주어 해당 색상을 포함하는 범위를 지정합니다. 채도(Saturation)와 명도(Value)의 범위는 일반적으로 [100, 255]로 설정하여 너무 어둡거나 채도가 낮은 색상을 제외합니다.

이러한 방식으로 cv2.inRange() 함수를 사용하면, 지정한 색상 범위에 해당하는 픽셀은 흰색(255)으로, 나머지 픽셀은 검은색(0)으로 마스킹된 이진 이미지를 얻을 수 있습니다. 이를 통해 원하는 색상 영역을 효과적으로 추출할 수 있습니다.

HSV 색공간에서 각 채널의 범위는 다음과 같습니다:

Hue (H): 0 ~ 179
Saturation (S): 0 ~ 255
Value (V): 0 ~ 255
따라서, 하한값과 상한값을 설정할 때 이러한 범위를 고려해야 합니다.