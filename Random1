// DataTable 초기화
DataTable dtToUpdate = new DataTable();
dtToUpdate.Columns.Add("YourColumnName1");
dtToUpdate.Columns.Add("YourColumnName2");
// ... 다른 필요한 컬럼 추가

foreach(var item in someCollection) 
{
    // 조건 체크
    if(/* your condition */) 
    {
        DataRow dr = dtToUpdate.NewRow();
        dr["YourColumnName1"] = /* value */;
        dr["YourColumnName2"] = /* value */;
        // ... 다른 필요한 컬럼 값 설정
        dtToUpdate.Rows.Add(dr);

        if(dtToUpdate.Rows.Count >= 50) 
        {
            // 50개 데이터가 모이면 벌크 업데이트
            BulkUpdate(dtToUpdate);
            dtToUpdate.Clear(); // 데이터 테이블 클리어
        }
    }
}

// 나머지 데이터 벌크 업데이트
if(dtToUpdate.Rows.Count > 0) 
{
    BulkUpdate(dtToUpdate);
}

void BulkUpdate(DataTable dt) 
{
    // 여기에 벌크 업데이트 로직 작성
    // 예: SqlBulkCopy 사용
}
