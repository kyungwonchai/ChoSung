from PIL import Image, ImageDraw, ImageFont

def create_icon(text, font_path, font_size, output_file):
    # 폰트 로드
    font = ImageFont.truetype(font_path, font_size)

    # 이미지 크기 고정
    image_width = image_height = 640

    # 이미지 생성
    image = Image.new("RGBA", (image_width, image_height), (255, 255, 255, 0))  # 투명 배경

    # 이미지에 텍스트 그리기
    draw = ImageDraw.Draw(image)
    text_width, text_height = draw.getsize(text)  # getsize 메소드를 사용하여 텍스트 크기 계산
    text_x = (image_width - text_width) // 2
    text_y = (image_height - text_height) // 2
    draw.text((text_x, text_y), text, font=font, fill=(0, 0, 0, 255))  # 검은색 텍스트

    # ICO 파일로 저장
    image.save(output_file, "ICO")

# 예시 실행
text = "애"  # 사용자가 입력한 텍스트
font_path = "font.ttf"  # 사용할 글꼴 파일 경로 (확장자에 따라 다를 수 있음)
font_size = 500  # 글꼴 크기를 늘립니다
output_file = "icon.ico"  # 출력 파일명

create_icon(text, font_path, font_size, output_file)
