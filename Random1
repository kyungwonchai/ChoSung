CREATE PROCEDURE sp_ExecuteDynamicSQL
    @InputParam NVARCHAR(50),
    @OutputParam1 NVARCHAR(50) OUTPUT,
    @OutputParam2 NVARCHAR(50) OUTPUT
AS
BEGIN
    DECLARE @DynamicSQL NVARCHAR(MAX);
    DECLARE @Params NVARCHAR(MAX);

    -- 동적 SQL 구성: 2개의 컬럼 값 조회
    SET @DynamicSQL = N'SELECT @Result1 = (SELECT TOP 1 ColumnName1 FROM YourTable WHERE SomeColumn = ''' + @InputParam + '''), @Result2 = (SELECT TOP 1 ColumnName2 FROM YourTable WHERE SomeColumn = ''' + @InputParam + ''')';

    -- 파라미터 정의
    SET @Params = N'@Result1 NVARCHAR(50) OUTPUT, @Result2 NVARCHAR(50) OUTPUT';

    -- 동적 SQL 실행
    EXEC sp_executesql @DynamicSQL, @Params, @OutputParam1 OUTPUT, @OutputParam2 OUTPUT;
END
GO
