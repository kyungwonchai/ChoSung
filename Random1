가상환경에서는 pip show torch 결과가 CUDA 버전임이 맞는데, **주피터 노트북에서 import torch; print(torch.version.cuda) 하면 None**이 뜨는 이유는 주피터가 다른 파이썬 환경(커널)을 쓰고 있기 때문입니다.
즉, “가상환경 A에서 PyTorch 설치” 했지만, **주피터는 “시스템 파이썬(또는 다른 환경)”**으로 실행되고 있어 충돌이 나는 것입니다.

1. 문제 원인 요약
CMD(가상환경) 에서: pip show torch → CUDA 버전 (ex: 2.x.x+cu124)
주피터 노트북 에서: torch.version.cuda → None
이는 주피터가 다른 Python(CPU 전용 PyTorch를 쓴다거나, 아예 torch가 설치 안 된 환경)을 사용하기 때문.
2. 해결 방법: 주피터 커널을 가상환경과 일치시키기
방법 A) 아나콘다(Conda) 환경일 때
(가상환경 활성화)
bash
코드 복사
conda activate myenv
주피터 커널 설치
bash
코드 복사
conda install ipykernel
python -m ipykernel install --user --name myenv --display-name "myenv"
주피터 노트북 실행 후, 커널 선택
Jupyter Notebook(또는 JupyterLab)을 켠 뒤, Kernel → Change Kernel에서 "myenv" 선택
노트북 셀에서 확인
python
코드 복사
import torch
print(torch.__version__)
print(torch.version.cuda)
print(torch.cuda.is_available())
이제 가상환경에 설치된 CUDA 버전이 제대로 표시될 것임.
방법 B) 일반 venv(pip) 환경일 때
가상환경 활성화
bash
코드 복사
path\to\myenv\Scripts\activate
ipykernel 설치
bash
코드 복사
pip install ipykernel
python -m ipykernel install --user --name myenv --display-name "myenv"
주피터 노트북 → "myenv" 커널 선택
이후 위와 동일하게 import torch 등으로 확인
3. 추가 점검 사항
sys.executable로 확인
주피터 노트북 셀에서:

python
코드 복사
import sys
print(sys.executable)
출력이 가상환경 경로(예: C:\path\to\myenv\python.exe)라면 OK
시스템 파이썬(예: C:\Users\...AppData\Local\Programs\Python\Python39\python.exe)이면 잘못된 환경
PyTorch 버전 확인

노트북 셀에서:
python
코드 복사
import torch
print(torch.__version__)
+cu*** 처럼 CUDA를 가리키는 버전이면 GPU 버전
+cpu나 CUDA 표기가 전혀 없으면 CPU 전용 설치
CUDA 드라이버/툴킷 자체 문제

만약 드라이버(nvidia-smi)나 nvcc --version이 이상 없는지 최종 확인
그래도 안 되면 “환경 변수 충돌” 문제일 수도 있으니, 이미 여러 번 하셨겠지만 재부팅도 잊지 말기.
결론