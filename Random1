    ml.cs에서 전역 변수 설정:

csharp

public partial class App : Application
{
    public static string GlobalUserID;
    public static string GlobalUserPermission;
}

    MainWindow.xaml에 로그인 버튼과 로그아웃 버튼 추가:

xaml

<Grid>
    <Button x:Name="AuthButton" Content="로그인" Width="100" Height="30" Click="AuthButton_Click"/>
</Grid>

    MainWindow.xaml.cs:

csharp

using System.Data.SqlClient;
using System.Windows;
using DevExpress.Xpf.Core;

namespace WPF_LoginApp
{
    public partial class MainWindow : ThemedWindow
    {
        public MainWindow()
        {
            InitializeComponent();
            UpdateAuthButton();
        }

        private void UpdateAuthButton()
        {
            if (string.IsNullOrEmpty(App.GlobalUserID))
            {
                AuthButton.Content = "로그인";
                AuthButton.Click -= LogoutButton_Click;
                AuthButton.Click += AuthButton_Click;
            }
            else
            {
                AuthButton.Content = "로그아웃";
                AuthButton.Click -= AuthButton_Click;
                AuthButton.Click += LogoutButton_Click;
            }
        }

        private void AuthButton_Click(object sender, RoutedEventArgs e)
        {
            // 로그인 창 띄우기
            LoginWindow loginWindow = new LoginWindow();
            if (loginWindow.ShowDialog() == true)
            {
                // 로그인 성공
                UpdateAuthButton();
            }
        }

        private void LogoutButton_Click(object sender, RoutedEventArgs e)
        {
            App.GlobalUserID = null;
            App.GlobalUserPermission = null;
            UpdateAuthButton();
        }
    }
}

    새로운 LoginWindow.xaml 창과 LoginWindow.xaml.cs를 만듭니다.

csharp

// LoginWindow.xaml.cs
using System.Data.SqlClient;
using System.Windows;
using DevExpress.Xpf.Core;

namespace WPF_LoginApp
{
    public partial class LoginWindow : ThemedWindow
    {
        public LoginWindow()
        {
            InitializeComponent();
        }

        private void LoginButton_Click(object sender, RoutedEventArgs e)
        {
            string userId = userIdTextEdit.Text;
            string password = passwordTextEdit.Text;

            using (SqlConnection connection = new SqlConnection("Your Connection String"))
            {
                connection.Open();
                SqlCommand cmd = new SqlCommand("SELECT Permission FROM Users WHERE UserID = @id AND Password = @password", connection);
                cmd.Parameters.AddWithValue("@id", userId);
                cmd.Parameters.AddWithValue("@password", password);
                SqlDataReader reader = cmd.ExecuteReader();

                if (reader.Read())
                {
                    App.GlobalUserID = userId;
                    App.GlobalUserPermission = reader["Permission"].ToString();
                    DialogResult = true;
                    Close();
                }
                else
                {
                    MessageBox.Show("로그인 실패!");
                }
            }
        }
    }
}

위의 코드를 참고해 주시면 됩니다. 코드가 길어져서 중간에 나눠서 전달하겠습