WITH LatestUpdates AS (
    SELECT
        DESCRIPTION,
        RESULT,
        STRAP,
        SHOES_R,
        SHOES_L,
        UPDATET_TIME,
        ROW_NUMBER() OVER (PARTITION BY DESCRIPTION ORDER BY UPDATETIME_TIME DESC) AS RowNum
    FROM
        ESC_CHECK_HISTORY
)
SELECT
    U.*,
    L.RESULT,
    L.STRAP,
    L.SHOES_R,
    L.SHOES_L,
    L.UPDATET_TIME
FROM
    ESC_USER_INFO U
LEFT JOIN
    (SELECT
        DESCRIPTION,
        RESULT,
        STRAP,
        SHOES_R,
        SHOES_L,
        UPDATET_TIME
     FROM
        LatestUpdates
     WHERE
        RowNum = 1) L
ON
    U.E_NUM = L.DESCRIPTION;
