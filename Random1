
Jupyter Notebook을 시스템 서비스로 실행하여 서버 시작 시 자동으로 실행되도록 설정하려면, systemd를 활용하여 서비스 유닛 파일을 작성하고 구성할 수 있습니다. 아래는 Ubuntu 환경에서 Jupyter Notebook을 서비스로 설정하는 단계별 안내입니다.

1. Jupyter Notebook 설치 및 가상환경 설정
먼저, Python 가상환경을 생성하고 Jupyter Notebook을 설치합니다.

Python 가상환경 생성 및 활성화:

bash
코드 복사
sudo apt install python3-venv  # 가상환경 모듈 설치
mkdir ~/jupyter_env
cd ~/jupyter_env
python3 -m venv notebookenv
source notebookenv/bin/activate
Jupyter Notebook 설치:

bash
코드 복사
pip install jupyter
2. Jupyter Notebook 설정 파일 생성 및 구성
Jupyter Notebook의 설정 파일을 생성하고 필요한 설정을 추가합니다.

설정 파일 생성:

bash
코드 복사
jupyter notebook --generate-config
이 명령을 실행하면 ~/.jupyter/jupyter_notebook_config.py 파일이 생성됩니다.

비밀번호 설정:

Jupyter Notebook의 보안을 위해 비밀번호를 설정합니다.

비밀번호 해시 생성:

IPython을 사용하여 비밀번호 해시를 생성합니다.

bash
코드 복사
ipython
python
코드 복사
from notebook.auth import passwd
passwd()
비밀번호를 입력하면 해시 값이 출력됩니다.

설정 파일에 비밀번호 해시 추가:

bash
코드 복사
nano ~/.jupyter/jupyter_notebook_config.py
파일을 열어 다음 줄을 추가합니다:

python
코드 복사
c.NotebookApp.password = 'sha1:your_hashed_password'  # 생성된 해시 값으로 대체
c.NotebookApp.ip = '0.0.0.0'  # 모든 IP에서 접근 허용
c.NotebookApp.open_browser = False  # 서버 실행 시 브라우저 자동 열림 방지
c.NotebookApp.port = 8888  # 포트 설정 (필요에 따라 변경 가능)
3. systemd 서비스 유닛 파일 생성
Jupyter Notebook을 시스템 서비스로 관리하기 위해 서비스 유닛 파일을 생성합니다.

서비스 유닛 파일 생성:

bash
코드 복사
sudo nano /etc/systemd/system/jupyter.service
파일에 다음 내용을 추가합니다:

ini
코드 복사
[Unit]
Description=Jupyter Notebook

[Service]
Type=simple
PIDFile=/run/jupyter.pid
ExecStart=/home/your_username/jupyter_env/notebookenv/bin/jupyter-notebook --config=/home/your_username/.jupyter/jupyter_notebook_config.py
User=your_username
Group=your_username
WorkingDirectory=/home/your_username/jupyter_env
Restart=always
RestartSec=10

[Install]
WantedBy=multi-user.target
여기서 your_username을 실제 사용자 이름으로 변경해야 합니다.

4. 서비스 등록 및 시작
생성한 서비스를 systemd에 등록하고 시작합니다.

systemd 데몬 재로드:

bash
코드 복사
sudo systemctl daemon-reload
서비스 시작 및 부팅 시 자동 시작 설정:

bash
코드 복사
sudo systemctl start jupyter
sudo systemctl enable jupyter
서비스 상태 확인:

bash
코드 복사
sudo systemctl status jupyter
서비스가 정상적으로 실행 중인지 확인합니다.

5. 방화벽 설정 (필요 시)
Jupyter Notebook이 사용하는 포트(기본값: 8888)가 방화벽에서 허용되어 있는지 확인하고, 필요 시 포트를 열어줍니다.

UFW 방화벽 사용 시:

bash
코드 복사
sudo ufw allow 8888
위 단계를 완료하면, 시스템 부팅 시 Jupyter Notebook이 자동으로 실행되며, 설정한 IP와 포트를 통해 접근할 수 있습니다.