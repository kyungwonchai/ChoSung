사전 준비 (라이브러리 설치)
터미널(또는 CMD)에서 아래 명령어를 입력하여 필요한 라이브러리를 설치해 주세요. cadquery는 복잡한 CAD 연산을 처리하는 강력한 도구입니다.

Bash

pip install cadquery
2. STP to STL 변환 파이썬 스크립트
이 코드는 실행 시 인자로 받은 .stp 파일을 같은 경로에 .stl 파일로 생성합니다.

Python

import cadquery as cq
import sys
import os

def convert_stp_to_stl(input_file):
    """
    STP 파일을 STL 파일로 변환하는 함수
    """
    # 1. 파일 확장자 및 존재 여부 확인
    if not os.path.exists(input_file):
        print(f"Error: 파일을 찾을 수 없습니다: {input_file}")
        return

    file_name, file_ext = os.path.splitext(input_file)
    if file_ext.lower() not in ['.stp', '.step']:
        print("Error: .stp 또는 .step 파일만 지원합니다.")
        return

    output_file = file_name + ".stl"

    try:
        print(f"변환 시작: {input_file} -> {output_file}")
        
        # 2. STEP 파일 로드
        result = cq.importers.importStep(input_file)
        
        # 3. STL로 내보내기 (블렌더에서 읽기 적합한 메쉬 형태로 변환)
        # tolerance 값은 메쉬의 정밀도를 결정합니다 (낮을수록 고해상도)
        cq.exporters.export(result, output_file, tolerance=0.1, angularTolerance=0.1)
        
        print(f"변환 완료! 생성된 파일: {output_file}")
        
    except Exception as e:
        print(f"변환 중 오류 발생: {e}")

if __name__ == "__main__":
    # 사용법: python script_name.py your_model.stp
    if len(sys.argv) < 2:
        print("사용법: python 변환스크립트.py <파일명.stp>")
    else:
        convert_stp_to_stl(sys.argv[1])
3. 사용 방법 및 팁
위 코드를 convert.py라는 이름으로 저장합니다.

변환하고 싶은 파일이 model.stp라면 아래와 같이 실행합니다.

python convert.py model.stp

생성된 model.stl 파일을 **블렌더(Blender)**에서 File > Import > Stl (.stl)을 통해 불러옵니다.

참고 사항
정밀도 조절: 코드 내 tolerance와 angularTolerance 값을 낮추면(예: 0.01) 더 부드러운 곡면을 얻을 수 있지만, 파일 용량이 커지고 변환 시간이 길어집니다. 3D 프린팅 용도라면 0.1 정도가 적당합니다.

블렌더 스케일: CAD 프로그램(mm 단위)과 블렌더의 기본 단위 설정이 다를 수 있으니, 불러온 후 S 키를 눌러 크기를 조정해야 할 수도 있습니다.

혹시 변환 과정에서 특정 오류가 발생하거나, 대량의 파일을 한꺼번에 처리하는 자동화 기능이 추가로 필요하신가요? 언제든 말씀해 주세요!