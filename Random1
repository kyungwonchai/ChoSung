MSSQL에서 a, b, c, d, e 라는 숫자형 컬럼 5개 중 최소값을 구해서 z 컬럼으로 함께 출력하려면 CROSS APPLY와 VALUES를 활용하면 됩니다.

예시 쿼리는 다음과 같습니다:

sql
코드 복사
SELECT 
    a, b, c, d, e,
    z = v.MinValue
FROM 
    YourTable
CROSS APPLY (
    SELECT MIN(val) AS MinValue
    FROM (VALUES (a), (b), (c), (d), (e)) AS valueList(val)
) AS v;
설명:
CROSS APPLY는 각 행에 대해 서브쿼리를 실행합니다.

VALUES (a), (b), (c), (d), (e)는 5개의 컬럼 값을 하나의 컬럼(행 형태)로 만듭니다.

MIN(val)을 사용해 그 중 최소값을 구합니다.

결과적으로 a~e 컬럼과 함께 z라는 컬럼에 최소값이 추가됩니다.

필요하면 AS z 대신 v.MinValue AS z로 명시해도 됩니다.