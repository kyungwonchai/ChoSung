ile.ReadAllLines(filePath) 메소드를 사용할 때, 다른 프로세스나 스레드에서 동시에 파일에 접근하려고 시도하면 문제가 발생할 수 있습니다. 이를 해결하기 위해 FileStream과 StreamReader를 사용하여 파일을 공유 모드로 열 수 있습니다. 아래는 C# 코드 예제입니다:

csharp

using System;
using System.IO;

class Program
{
    static void Main()
    {
        string filePath = @"C:\path\to\your\file.txt";
        var lines = ReadAllLinesShared(filePath);
        foreach (var line in lines)
        {
            Console.WriteLine(line);
        }
    }

    static string[] ReadAllLinesShared(string path)
    {
        using (var fileStream = new FileStream(path, FileMode.Open, FileAccess.Read, FileShare.ReadWrite))
        using (var streamReader = new StreamReader(fileStream))
        {
            var lines = new List<string>();
            while (!streamReader.EndOfStream)
            {
                lines.Add(streamReader.ReadLine());
            }
            return lines.ToArray();
        }
    }
}

이 코드는 FileShare.ReadWrite를 통해 파일을 공유 모드로 열어 다른 프로세스나 스레드에서 파일을 읽고 쓸 수 있게 합니다. ReadAllLinesShared 함수는 지정된 경로의 파일을 읽어 문자열 배열을 반환합니다.