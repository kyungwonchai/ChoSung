import bpy

# Cycles 렌더링 엔진 설정
bpy.context.scene.render.engine = 'CYCLES'

# 거울 평면 생성
bpy.ops.mesh.primitive_plane_add(size=2, location=(0, 0, 1))
mirror = bpy.context.object
mirror.rotation_euler = (1.5708, 0, 0)  # X축으로 90도 회전하여 수직 배치

# 거울 재질 생성
mirror_material = bpy.data.materials.new(name="MirrorMaterial")
mirror_material.use_nodes = True
nodes = mirror_material.node_tree.nodes
links = mirror_material.node_tree.links

# 기본 노드 제거
for node in nodes:
    nodes.remove(node)

# 노드 추가
output_node = nodes.new(type='ShaderNodeOutputMaterial')
glossy_node = nodes.new(type='ShaderNodeBsdfGlossy')

# 글로시 셰이더 설정 - 실제 반사를 위해 거칠기 0 설정
glossy_node.inputs['Roughness'].default_value = 0.0
links.new(glossy_node.outputs['BSDF'], output_node.inputs['Surface'])

# 거울 재질을 거울 평면에 적용
mirror.data.materials.append(mirror_material)
