import os

# 설정
rules_file_path = r"C:\agent\rules.txt"  # 변경 규칙 파일
target_folder = r"C:\agent\files"  # 텍스트 파일들이 있는 폴더

# 변경 규칙 읽기
rules = []
with open(rules_file_path, "r", encoding="utf-8") as rules_file:
    for line in rules_file:
        parts = line.strip().split()
        if len(parts) == 2:
            rules.append((parts[0], parts[1]))  # (치환 대상, 치환 값)

# 지정된 폴더의 모든 파일 순회
for file_name in os.listdir(target_folder):
    file_path = os.path.join(target_folder, file_name)
    
    # 파일이 텍스트 파일인지 확인
    if os.path.isfile(file_path):
        # 파일 읽기
        with open(file_path, "r", encoding="utf-8") as file:
            content = file.read()
        
        # 규칙에 따라 텍스트 변경
        for target, replacement in rules:
            content = content.replace(target, replacement)
        
        # 변경된 내용을 동일한 파일에 저장
        with open(file_path, "w", encoding="utf-8") as file:
            file.write(content)

print(f"폴더 내 모든 파일이 변경되었습니다: {target_folder}")
