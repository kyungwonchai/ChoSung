using System;
using System.Collections.Generic;
using System.Windows.Forms;

namespace WinFormExample
{
    public partial class MainForm : Form
    {
        private List<Item> items;

        public MainForm()
        {
            InitializeComponent();
            items = new List<Item>();
        }

        private void MainForm_Load(object sender, EventArgs e)
        {
            // 그리드뷰 초기화 및 데이터 로드
            InitializeGridView();
        }

        private void InitializeGridView()
        {
            // 그리드뷰 설정
            dataGridView1.AutoGenerateColumns = false;

            // 품목 코드 열 추가
            DataGridViewTextBoxColumn itemCodeColumn = new DataGridViewTextBoxColumn();
            itemCodeColumn.Name = "ItemCodeColumn";
            itemCodeColumn.HeaderText = "품목 코드";
            itemCodeColumn.DataPropertyName = "ItemCode";
            dataGridView1.Columns.Add(itemCodeColumn);

            // 신청 버튼 열 추가
            DataGridViewButtonColumn applyButtonColumn = new DataGridViewButtonColumn();
            applyButtonColumn.Name = "ApplyButtonColumn";
            applyButtonColumn.HeaderText = "신청";
            applyButtonColumn.Text = "신청";
            applyButtonColumn.UseColumnTextForButtonValue = true;
            dataGridView1.Columns.Add(applyButtonColumn);

            // 입고 버튼 열 추가
            DataGridViewButtonColumn receiveButtonColumn = new DataGridViewButtonColumn();
            receiveButtonColumn.Name = "ReceiveButtonColumn";
            receiveButtonColumn.HeaderText = "입고";
            receiveButtonColumn.Text = "입고";
            receiveButtonColumn.UseColumnTextForButtonValue = true;
            dataGridView1.Columns.Add(receiveButtonColumn);

            // 출고 버튼 열 추가
            DataGridViewButtonColumn releaseButtonColumn = new DataGridViewButtonColumn();
            releaseButtonColumn.Name = "ReleaseButtonColumn";
            releaseButtonColumn.HeaderText = "출고";
            releaseButtonColumn.Text = "출고";
            releaseButtonColumn.UseColumnTextForButtonValue = true;
            dataGridView1.Columns.Add(releaseButtonColumn);

            // 데이터 바인딩
            items.Add(new Item("ABC123"));
            items.Add(new Item("DEF456"));
            items.Add(new Item("GHI789"));
            dataGridView1.DataSource = items;
        }

        private void dataGridView1_CellContentClick(object sender, DataGridViewCellEventArgs e)
        {
            if (e.RowIndex >= 0 && e.ColumnIndex >= 0)
            {
                DataGridView gridView = (DataGridView)sender;
                string columnName = gridView.Columns[e.ColumnIndex].Name;
                string itemCode = gridView.Rows[e.RowIndex].Cells["ItemCodeColumn"].Value.ToString();

                switch (columnName)
                {
                    case "ApplyButtonColumn":
                        // 신청 버튼 클릭 처리
                        ApplyItem(itemCode);
                        break;
                    case "ReceiveButtonColumn":
                        // 입고 버튼 클릭 처리
                        ReceiveItem(itemCode);
                        break;
                    case "ReleaseButtonColumn
