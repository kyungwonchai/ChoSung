buntu에서 특정 NTP 서버로 자동 시간 동기화를 설정하는 방법은 systemd-timesyncd 서비스를 사용하는 것입니다. 다음 단계를 따르세요.

1. systemd-timesyncd 상태 확인
먼저, systemd-timesyncd 서비스가 실행 중인지 확인합니다.

Bash

timedatectl status
출력 결과에서 NTP service: active 또는 유사한 메시지를 확인해야 합니다. 만약 NTP service: inactive 라면 다음 명령어로 활성화합니다.

Bash

sudo timedatectl set-ntp true
2. NTP 서버 설정 파일 수정
timesyncd의 설정 파일은 /etc/systemd/timesyncd.conf 입니다. 이 파일을 수정하여 원하는 NTP 서버를 지정합니다.

텍스트 편집기 (예: nano 또는 vim)를 사용하여 파일을 엽니다.

Bash

sudo nano /etc/systemd/timesyncd.conf
파일 내용에서 [Time] 섹션을 찾습니다. NTP= 라인의 주석 처리(#)를 제거하거나 새로 추가하고, 원하는 NTP 서버 주소를 입력합니다. 여러 서버를 지정하려면 공백으로 구분합니다. 예를 들어, 한국 공용 NTP 서버인 time.bora.net을 사용하려면 다음과 같이 수정합니다.

Ini, TOML

[Time]
NTP=time.bora.net
#FallbackNTP=0.ubuntu.pool.ntp.org 1.ubuntu.pool.ntp.org 2.ubuntu.pool.ntp.org 3.ubuntu.pool.ntp.org
#RootDistanceMaxSec=5
#PollIntervalMinSec=32
#PollIntervalMaxSec=2048
FallbackNTP=는 주 NTP 서버에 접속할 수 없을 때 사용할 대체 서버 목록입니다. 필요에 따라 이 부분도 수정할 수 있습니다.

파일을 저장하고 편집기를 종료합니다. (nano의 경우 Ctrl+O, Enter, Ctrl+X)

3. systemd-timesyncd 서비스 재시작
설정 변경 사항을 적용하려면 systemd-timesyncd 서비스를 재시작해야 합니다.

Bash

sudo systemctl restart systemd-timesyncd
4. 동기화 상태 확인
잠시 후, 다시 timedatectl status 명령어를 실행하여 지정한 NTP 서버와 동기화되었는지 확인합니다.

Bash

timedatectl status
출력에서 NTP server synced: yes 와 함께 Server: 항목에 지정한 서버 주소 (예: time.bora.net)가 표시되어야 합니다.

더 자세한 동기화 정보를 보려면 다음 명령어를 사용할 수 있습니다.

Bash
