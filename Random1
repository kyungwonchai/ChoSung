QR 버튼을 특정 조건에 따라 표시하도록 하려면, HTML 템플릿에서 파일 이름이나 폴더 이름에 따라 조건부로 버튼을 렌더링해야 합니다. 요청하신 것처럼 "Folder Name"에 "APK"가 포함된 경우에만 QR 버튼을 표시하도록 수정해 보겠습니다.

수정된 코드
아래는 파일 이름에 "APK"가 포함된 경우에만 "QR 보기" 버튼을 표시하도록 수정한 index.html의 코드입니다.

1. index.html 수정
html
코드 복사
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>File List</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/bootstrap.min.css') }}">
    <style>
        /* 모달 팝업의 배경색을 노란색으로 설정 */
        .modal-content {
            background-color: yellow;
        }

        /* 모달 제목 글씨를 검정색으로 설정 */
        .modal-title {
            color: black;
        }

        /* QR 코드 이미지 크기 설정 */
        .qr-image {
            width: 150px;
            height: 150px;
        }

        /* 링크 텍스트 스타일링 */
        .link-text {
            color: black;
            font-weight: bold;
            margin-top: 10px;
        }

        /* QR 보기 버튼 스타일링 */
        .btn-primary {
            background-color: yellow; /* 버튼 배경색을 노란색으로 설정 */
            color: black; /* 버튼 텍스트를 검정색으로 설정 */
            border-color: yellow; /* 버튼 테두리 색상을 노란색으로 설정 */
        }

        /* 버튼이 마우스 오버될 때의 스타일 */
        .btn-primary:hover {
            background-color: #f0e68c; /* 밝은 노란색으로 변경 */
            color: black; /* 텍스트 색상을 검정색으로 유지 */
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>File List</h1>
        <p>Your IP: {{ client_ip }}</p>

        <table class="table table-striped">
            <thead>
                <tr>
                    <th>File Name</th>
                    <th>QR Code</th>
                </tr>
            </thead>
            <tbody>
                {% for file in files %}
                <tr data-filename="{{ file }}">
                    <td>{{ file }}</td>
                    <td>
                        <!-- 파일 이름에 "APK"가 포함된 경우에만 QR 버튼 표시 -->
                        {% if 'APK' in file.upper() %}
                        <button class="btn btn-primary" onclick="showQR(this)">QR 보기</button>
                        {% endif %}
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <!-- QR 코드 및 링크 팝업 -->
    <div id="qrModal" class="modal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">QR Code</h5>
                    <button type="button" class="btn-close" onclick="hideQR()" aria-label="Close"></button>
                </div>
                <div class="modal-body text-center">
                    <!-- QR 코드를 표시할 이미지 요소 -->
                    <img id="qrImage" src="" alt="QR Code" class="qr-image">
                    <!-- 다운로드 링크 텍스트 -->
                    <p id="downloadLink" class="link-text"></p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" onclick="hideQR()">Close</button>
                </div>
            </div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/bootstrap.bundle.min.js') }}"></script>
    <script>
        function showQR(button) {
            // 부모 <tr> 요소에서 파일 이름 가져오기
            const filename = button.closest('tr').getAttribute('data-filename');
            console.log("Generating QR for file:", filename); // 파일 이름이 제대로 전달되는지 확인

            if (filename) {
                const qrImage = document.getElementById('qrImage');
                const downloadLink = document.getElementById('downloadLink');
                
                // QR 코드 이미지 URL 설정
                qrImage.src = `/generate_qr/${filename}`;
                
                // 다운로드 링크 텍스트 설정
                downloadLink.textContent = `Download Link: http://localhost:5000/download/${filename}`;

                const qrModal = new bootstrap.Modal(document.getElementById('qrModal'));
                qrModal.show();
            } else {
                alert("파일 이름을 찾을 수 없습니다.");
            }
        }

        function hideQR() {
            const qrModal = bootstrap.Modal.getInstance(document.getElementById('qrModal'));
            qrModal.hide();
        }
    </script>
</body>
</html>
설명
QR 버튼 표시 조건 추가:

{% if 'APK' in file.upper() %} 구문을 사용하여 파일 이름에 "APK"가 포함된 경우에만 "QR 보기" 버튼이 표시되도록 설정했습니다.
이 구문은 파일 이름을 대문자로 변환하고, "APK" 문자열이 있는지 확인하여 조건을 검사합니다.
버튼과 스타일링은 그대로 유지:

버튼이 표시되는 조건 외에는 이전과 동일한 스타일링과 기능을 유지합니다.
적용 후 확인
Flask 서버 실행:

bash
코드 복사
python app.py
웹 브라우저에서 확인:

웹 브라우저에서 http://localhost:5000으로 접속하여, 파일 목록이 표시됩니다.
"Folder Name"에 "APK"가 포함된 파일에만 "QR 보기" 버튼이 나타나는지 확인합니다.
"QR 보기" 버튼을 클릭하여 QR 코드와 다운로드 링크가 제대로 표시되는지 확인합니다.
이 수정사항을 적용하면, 파일 이름에 "APK"가 포함된 경우에만 QR 버튼이 나타나도록 조건을 설정할 수 있습니다.