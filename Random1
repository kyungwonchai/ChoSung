inFormsì—ì„œ ìœˆë„ìš° ì°½ ìµœì†Œí™” ì‹œ **"ì“°ë ˆë“œ í¬ë¡œìŠ¤ ì˜ˆì™¸" (Cross-thread operation not valid)**ê°€ ë°œìƒí•˜ëŠ” ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ì½”ë“œì…ë‹ˆë‹¤.

âœ… ë¬¸ì œ ì›ì¸
WinFormsì˜ ì»¨íŠ¸ë¡¤(ì˜ˆ: Form, Label, TextBox ë“±)ì€ UI ì“°ë ˆë“œì—ì„œë§Œ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ë°±ê·¸ë¼ìš´ë“œ ìŠ¤ë ˆë“œì—ì„œ UIë¥¼ ì§ì ‘ ìˆ˜ì •í•˜ë©´ InvalidOperationExceptionì´ ë°œìƒí•©ë‹ˆë‹¤.

âœ… í•´ê²° ë°©ë²• 1: Invoke() ì‚¬ìš© (UI ìŠ¤ë ˆë“œì—ì„œ ì‹¤í–‰)
csharp
ì½”ë“œ ë³µì‚¬
using System;
using System.Threading;
using System.Windows.Forms;

public class MyForm : Form
{
    private Label lblStatus;
    private Thread backgroundThread;

    public MyForm()
    {
        lblStatus = new Label { Text = "ì´ˆê¸° ìƒíƒœ", Dock = DockStyle.Top };
        Controls.Add(lblStatus);

        // ì°½ ìµœì†Œí™” ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ì¶”ê°€
        this.Resize += Form_Resize;

        // ë°±ê·¸ë¼ìš´ë“œ ì‘ì—… ì‹œì‘
        backgroundThread = new Thread(UpdateLabel);
        backgroundThread.IsBackground = true;
        backgroundThread.Start();
    }

    private void Form_Resize(object sender, EventArgs e)
    {
        if (this.WindowState == FormWindowState.Minimized)
        {
            // ìµœì†Œí™” ì‹œ UI ì•ˆì „í•˜ê²Œ ë³€ê²½
            SafeInvoke(() => lblStatus.Text = "ì°½ ìµœì†Œí™”ë¨");
        }
    }

    private void UpdateLabel()
    {
        while (true)
        {
            Thread.Sleep(2000); // 2ì´ˆë§ˆë‹¤ ì—…ë°ì´íŠ¸
            SafeInvoke(() => lblStatus.Text = $"ì—…ë°ì´íŠ¸ ì‹œê°„: {DateTime.Now}");
        }
    }

    private void SafeInvoke(Action action)
    {
        if (this.InvokeRequired)
        {
            this.Invoke(new MethodInvoker(action));
        }
        else
        {
            action();
        }
    }

    [STAThread]
    static void Main()
    {
        Application.EnableVisualStyles();
        Application.SetCompatibleTextRenderingDefault(false);
        Application.Run(new MyForm());
    }
}
âœ… í•´ê²° ë°©ë²• 2: BeginInvoke() ì‚¬ìš© (ë” ì•ˆì „í•œ ë¹„ë™ê¸° í˜¸ì¶œ)
csharp
ì½”ë“œ ë³µì‚¬
private void SafeInvoke(Action action)
{
    if (this.IsHandleCreated && this.InvokeRequired)
    {
        this.BeginInvoke(action);
    }
    else
    {
        action();
    }
}
ğŸ”¹ BeginInvoke()ëŠ” UIê°€ ë„ˆë¬´ ë°”ì˜ë©´ ìŠ¤ë ˆë“œ ëŒ€ê¸° ì—†ì´ ì‹¤í–‰ì„ ì˜ˆì•½í•˜ì—¬ ì‘ë‹µì„±ì„ ìœ ì§€í•©ë‹ˆë‹¤.
