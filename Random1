ows XP ì—ì„œ Ubuntuì˜ Samba ê³µìœ  í´ë”ì— ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ ì„¤ì •í•˜ê³  ì‹¶ìœ¼ì‹  ê±°ì£ ?

âœ… ë¬¸ì œì˜ ì›ì¸:
Windows XPëŠ” ê¸°ë³¸ì ìœ¼ë¡œ SMB1 í”„ë¡œí† ì½œë§Œ ì§€ì›í•©ë‹ˆë‹¤.

UbuntuëŠ” ë³´ì•ˆ ë¬¸ì œ ë•Œë¬¸ì— SMB1ì„ ì‚¬ìš©í•˜ì§€ ì•Šë„ë¡ ì„¤ì •ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

Windows XPì˜ ì¸ì¦ ë°©ì‹ (LAN Manager ì¸ì¦ ìˆ˜ì¤€) ë¬¸ì œì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

âœ… 1. Ubuntu Samba ì„¤ì • ë³€ê²½í•˜ê¸° (SMB1 í™œì„±í™”í•˜ê¸°)
ğŸ”¥ 1.1 ì„¤ì • íŒŒì¼ ì—´ê¸° (/etc/samba/smb.conf)
bash
ì½”ë“œ ë³µì‚¬
sudo nano /etc/samba/smb.conf
ğŸ”¥ 1.2 ì„¤ì • ìˆ˜ì •í•˜ê¸° (SMB1 í™œì„±í™”)
ini
ì½”ë“œ ë³µì‚¬
[global]
   workgroup = WORKGROUP
   server string = Samba Server %v
   netbios name = ubuntu
   security = user
   map to guest = never
   smb ports = 445 139
   client min protocol = NT1      # SMB1 í™œì„±í™” (Windows XP ì ‘ê·¼ í—ˆìš©)
   server min protocol = NT1      # SMB1 í™œì„±í™” (Windows XP ì ‘ê·¼ í—ˆìš©)
   ntlm auth = yes                # NTLM ì¸ì¦ í—ˆìš© (Windows XP í˜¸í™˜)
   lanman auth = yes              # LANMAN ì¸ì¦ í—ˆìš© (Windows XP í˜¸í™˜)
   raw NTLMv2 auth = yes          # NTLMv2 ì¸ì¦ í—ˆìš©
ğŸ”¥ 1.3 ê³µìœ  í´ë” ì„¤ì • ì¶”ê°€í•˜ê¸° (ì˜ˆì‹œ)
ini
ì½”ë“œ ë³µì‚¬
[shared]
   path = /home/kw/shared
   browseable = yes
   read only = no
   writable = yes
   valid users = kw kwkw
   guest ok = no
   force user = kw
ğŸ”¥ 1.4 ì„¤ì • í…ŒìŠ¤íŠ¸ ë° ì ìš©í•˜ê¸°
bash
ì½”ë“œ ë³µì‚¬
testparm
ì˜¤ë¥˜ê°€ ì—†ì–´ì•¼ í•©ë‹ˆë‹¤.

bash
ì½”ë“œ ë³µì‚¬
sudo systemctl restart smbd
sudo systemctl restart nmbd
âœ… 2. Windows XP ì„¤ì • ë³€ê²½í•˜ê¸° (LAN Manager ì¸ì¦ ìˆ˜ì¤€ ë³€ê²½)
2.1 Windows XPì˜ ë³´ì•ˆ ì •ì±… ì„¤ì • ë³€ê²½í•˜ê¸°
Win + R í‚¤ ì…ë ¥ > secpol.msc ì‹¤í–‰ (ë˜ëŠ” gpedit.msc ì‹¤í–‰).

ë¡œì»¬ ì •ì±… > ë³´ì•ˆ ì˜µì…˜ > ë„¤íŠ¸ì›Œí¬ ë³´ì•ˆ: LAN ê´€ë¦¬ì ì¸ì¦ ìˆ˜ì¤€ ì„¤ì • (Network security: LAN Manager Authentication Level)

ê°’ì„ ë‹¤ìŒìœ¼ë¡œ ë³€ê²½: LM ë° NTLM ë³´ë‚´ê¸° - NTLMv2 ì„¸ì…˜ ë³´ì•ˆ ì‚¬ìš©í•˜ì§€ ì•ŠìŒ (Send LM & NTLM - use NTLMv2 session security if negotiated)

2.2 Windows XPì˜ ë ˆì§€ìŠ¤íŠ¸ë¦¬ ìˆ˜ì •í•˜ê¸° (í•„ìˆ˜)
ë§Œì•½ secpol.msc ê°€ ì—†ìœ¼ë©´ ë ˆì§€ìŠ¤íŠ¸ë¦¬ë¥¼ ìˆ˜ì •í•©ë‹ˆë‹¤.

cmd
ì½”ë“œ ë³µì‚¬
regedit
ê²½ë¡œ:

sql
ì½”ë“œ ë³µì‚¬
HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Lsa
ìƒˆë¡œìš´ ê°’ ì¶”ê°€:

ì´ë¦„: LmCompatibilityLevel

ìœ í˜•: REG_DWORD

ê°’: 1 (0x1)

âœ… 3. Windows XP ì ‘ê·¼ ë°©ë²• (í™•ì¸)
3.1 íŒŒì¼ íƒìƒ‰ê¸°ì—ì„œ ì ‘ê·¼í•˜ê¸°
php-template
ì½”ë“œ ë³µì‚¬
\\<Ubuntu_IP>\shared
ì˜ˆì‹œ:

vbnet
ì½”ë“œ ë³µì‚¬
\\192.168.0.10\shared
3.2 CMDì—ì„œ ì ‘ê·¼í•˜ê¸° (í™•ì¸ìš©)
cmd
ì½”ë“œ ë³µì‚¬
net use \\192.168.0.10\shared /user:kw yourpassword
âœ… 4. ë¬¸ì œ ë°œìƒ ì‹œ í™•ì¸í•˜ê¸°
ğŸ”¥ Ubuntuì—ì„œ Samba ì„¤ì • í™•ì¸ (í…ŒìŠ¤íŠ¸ ì™„ë£Œ í™•ì¸)
bash
ì½”ë“œ ë³µì‚¬
testparm
ğŸ”¥ Ubuntuì—ì„œ Samba ë¡œê·¸ í™•ì¸í•˜ê¸°
bash
ì½”ë“œ ë³µì‚¬
sudo tail -f /var/log/samba/log.smbd
âœ… 5. ë³´ì•ˆ ì£¼ì˜ì‚¬í•­ (ì¤‘ìš”)
Windows XPëŠ” ì˜¤ë˜ëœ ìš´ì˜ì²´ì œë¡œ ë³´ì•ˆ ì·¨ì•½ì ì´ ë§ìŠµë‹ˆë‹¤.
SMB1ì€ ë³´ì•ˆìƒ ë§¤ìš° ì·¨ì•½í•˜ë¯€ë¡œ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.
í•˜ì§€ë§Œ Windows XPë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤ë©´ ì´ ë°©ë²•ì´ í•„ìš”í•©ë‹ˆë‹¤.

ğŸ”¥ ì •ë¦¬:
Ubuntu Samba ì„¤ì •ì—ì„œ SMB1 (NT1) í”„ë¡œí† ì½œ í™œì„±í™” (client min protocol = NT1, server min protocol = NT1).

Windows XPì˜ ë³´ì•ˆ ì •ì±…ì—ì„œ LAN Manager ì¸ì¦ ìˆ˜ì¤€ì„ ë‚®ì¶¤ (LmCompatibilityLevel ì„¤ì •).

ê³µìœ  í´ë” ê¶Œí•œê³¼ ì„¤ì •ì„ ì •í™•íˆ í™•ì¸ (testparm, smbpasswd -a kw).
