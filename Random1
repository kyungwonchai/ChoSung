import bpy

# 씬 초기화
bpy.ops.wm.read_factory_settings(use_empty=True)
bpy.ops.object.select_all(action='DESELECT')
bpy.ops.object.select_by_type(type='MESH')
bpy.ops.object.delete()

# 기본 세팅
bpy.context.scene.unit_settings.system = 'METRIC'
bpy.context.scene.unit_settings.scale_length = 0.1
bpy.context.scene.render.image_settings.file_format = 'SVG'

# 메쉬 생성
bpy.ops.mesh.primitive_cube_add(size=1)
obj = bpy.context.object

# 메터리얼 생성 및 설정
mat = bpy.data.materials.new(name="IconMaterial")
mat.use_nodes = True
obj.data.materials.append(mat)
nodes = mat.node_tree.nodes
links = mat.node_tree.links
node_output = nodes.get("Material Output")
node_emission = nodes.new(type="ShaderNodeEmission")
links.new(node_emission.outputs[0], node_output.inputs[0])
node_emission.inputs[0].default_value = (0.8, 0.8, 0.8, 1)

# 파일 내보내기
bpy.ops.export.svg(filepath="icon.svg", check_existing=False)

# 스크립트 종료
bpy.ops.wm.quit_blender()
