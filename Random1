는 라인 이름에 특정 구역 이름이 포함되어 있으면 VNC 버튼을 숨기는 방식으로 수정한 코드입니다. Converter를 사용하여 조건에 따라 버튼의 Visibility를 동적으로 설정합니다.

수정된 XAML 코드
xml
코드 복사
<Window x:Class="TreeViewCheckboxExample.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:TreeViewCheckboxExample"
        Title="TreeView with VNC Access" Height="600" Width="500">
    <Window.Resources>
        <!-- 라인 이름에 특정 구역 포함 여부에 따라 Visibility를 설정하는 컨버터 -->
        <local:LineVisibilityConverter x:Key="LineVisibilityConverter" />
    </Window.Resources>
    <Grid>
        <TreeView x:Name="treeView" ItemsSource="{Binding Groups}" Margin="10">
            <TreeView.Resources>
                <!-- 그룹 템플릿 -->
                <DataTemplate DataType="{x:Type local:Group}">
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                        <!-- 체크박스 -->
                        <CheckBox IsChecked="{Binding IsChecked, Mode=TwoWay}" 
                                  Checked="CheckBox_Checked" Unchecked="CheckBox_Unchecked" />
                        <!-- 그룹 이름 -->
                        <TextBlock Text="{Binding Name}" Margin="5,0,0,0" />
                    </StackPanel>
                </DataTemplate>

                <!-- 라인 템플릿 -->
                <DataTemplate DataType="{x:Type local:Line}">
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                        <!-- 체크박스 -->
                        <CheckBox IsChecked="{Binding IsChecked, Mode=TwoWay}" 
                                  Checked="CheckBox_Checked" Unchecked="CheckBox_Unchecked" />
                        <!-- 라인 이름 -->
                        <TextBlock Text="{Binding Name}" Margin="5,0,0,0" />
                        <!-- VNC 버튼 -->
                        <Button Margin="10,0,0,0" ToolTip="VNC 원격 접속"
                                Tag="{Binding Name}" Click="VncButton_Click" Width="25" Height="25"
                                Visibility="{Binding Name, Converter={StaticResource LineVisibilityConverter}}">
                            <Button.Content>
                                <Image Source="image1/vnc.png" Stretch="Uniform" />
                            </Button.Content>
                        </Button>
                    </StackPanel>
                </DataTemplate>
            </TreeView.Resources>

            <!-- 계층적 템플릿 -->
            <TreeView.ItemTemplate>
                <HierarchicalDataTemplate ItemsSource="{Binding Lines}" />
            </TreeView.ItemTemplate>
        </TreeView>
    </Grid>
</Window>
추가된 C# 코드: Converter
컨버터를 사용하여 버튼의 Visibility를 동적으로 설정합니다.

csharp
코드 복사
using System;
using System.Globalization;
using System.Windows;
using System.Windows.Data;

namespace TreeViewCheckboxExample
{
    public class LineVisibilityConverter : IValueConverter
    {
        /// <summary>
        /// 라인 이름에 특정 구역 이름이 포함되어 있으면 버튼 숨김.
        /// </summary>
        /// <param name="value">라인 이름</param>
        /// <returns>Visibility</returns>
        public object Convert(object value, Type targetType, object parameter, CultureInfo culture)
        {
            if (value is string lineName)
            {
                // 특정 구역 이름이 포함되어 있으면 숨김 (예: "Group")
                if (lineName.Contains("Group", StringComparison.OrdinalIgnoreCase))
                {
                    return Visibility.Collapsed;
                }
            }
            return Visibility.Visible;
        }

        public object ConvertBack(object value, Type targetType, object parameter, CultureInfo culture)
        {
            throw new NotImplementedException();
        }
    }
}
C# 코드 (나머지는 동일)
기존의 MainWindow.xaml.cs에 추가된 코드를 제외한 나머지 코드는 동일합니다.

수정된 동작 설명
컨버터 동작:

라인의 이름(Name)에 **Group**이라는 단어가 포함되어 있으면 버튼이 보이지 않도록 설정.
포함되지 않으면 버튼이 표시됩니다.
컨버터 등록:

컨버터는 **XAML의 Window.Resources**에 등록되어, Button.Visibility와 바인딩되었습니다.
VNC 버튼 표시/숨김:

조건: 라인 이름에 특정 구역 이름(Group)이 포함된 경우 버튼이 숨겨집니다.
조건에 맞지 않으면 버튼이 표시됩니다.
실행 결과
라인에 따라 버튼 표시:

라인의 이름에 "Group"이 포함된 경우 VNC 버튼이 숨겨집니다.
포함되지 않은 경우 버튼이 표시됩니다.
동작 예시:

라인 이름: Line 1.1 → 버튼 표시.