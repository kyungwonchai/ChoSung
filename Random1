// 데이터베이스에서 파일 다운로드
void DownloadFileFromDatabase(string filePath)
{
    using (SqlConnection conn = new SqlConnection(connectionString))
    {
        conn.Open();
        string query = "SELECT FileData, FileName FROM FilesTable WHERE FilePath=@FilePath";
        using (SqlCommand cmd = new SqlCommand(query, conn))
        {
            cmd.Parameters.AddWithValue("@FilePath", filePath);
            using (SqlDataReader reader = cmd.ExecuteReader())
            {
                if (reader.Read())
                {
                    byte[] fileData = (byte[])reader["FileData"];
                    string fileName = reader["FileName"].ToString();

                    SaveFileDialog saveFileDialog = new SaveFileDialog();
                    saveFileDialog.FileName = fileName;
                    if (saveFileDialog.ShowDialog() == DialogResult.OK)
                    {
                        string savePath = saveFileDialog.FileName;
                        File.WriteAllBytes(savePath, fileData);
                    }
                }
            }
        }
    }
}
