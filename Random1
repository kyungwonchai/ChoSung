ì§œ í™•ì‹¤í•˜ê²Œ í•´ê²°í•´ì¤„ê²Œ.
ë„ˆê°€ ì›í•˜ëŠ” í•µì‹¬ í¬ì¸íŠ¸ëŠ” ì´ê±°ì•¼:
âœ… A-B ê·¸ë£¹ì€ ê³„ì† ìˆœì„œëŒ€ë¡œ ì‹¤í–‰
âœ… C-D-E ê·¸ë£¹ë„ ê³„ì† ìˆœì„œëŒ€ë¡œ ì‹¤í–‰
âœ… ê° ê·¸ë£¹ì€ ì„œë¡œ ë…ë¦½ì ìœ¼ë¡œ ì‹¤í–‰í•´ì•¼ í•¨
âœ… ì‘ì—…ì´ ëˆ„ì ë˜ì§€ ì•Šê³  ì‹¤í–‰ë˜ë„ë¡ í•´ì•¼ í•¨
âœ… ê°„ë‹¨í•˜ê³  ì „ë¬¸ê°€ë‹¤ìš´ ì½”ë“œ

ğŸ”¥ ê¹”ë”í•œ ì „ë¬¸ê°€ ì½”ë“œ (WinForms)
csharp
Copy code
using System;
using System.Threading;
using System.Threading.Tasks;
using System.Windows.Forms;

namespace AsyncWinForms
{
    public partial class Form1 : Form
    {
        private CancellationTokenSource _ctsA; // A-B ê·¸ë£¹ ê´€ë¦¬
        private CancellationTokenSource _ctsC; // C-D-E ê·¸ë£¹ ê´€ë¦¬

        public Form1()
        {
            InitializeComponent();
        }

        // âœ… [ì‹œì‘ ë²„íŠ¼] ë‘ ê°œì˜ ë¬´í•œ ë£¨í”„ ì‹¤í–‰
        private void btnStart_Click(object sender, EventArgs e)
        {
            if (_ctsA == null)
            {
                _ctsA = new CancellationTokenSource();
                Task.Run(() => LoopAB(_ctsA.Token)); // A-B ë£¨í”„ ì‹¤í–‰
            }

            if (_ctsC == null)
            {
                _ctsC = new CancellationTokenSource();
                Task.Run(() => LoopCDE(_ctsC.Token)); // C-D-E ë£¨í”„ ì‹¤í–‰
            }
        }

        // âœ… [A-B ì „ìš© ë¬´í•œ ë£¨í”„]
        private async Task LoopAB(CancellationToken token)
        {
            while (!token.IsCancellationRequested)
            {
                await FunctionA();
                await FunctionB();
                await Task.Delay(10);
            }
        }

        // âœ… [C-D-E ì „ìš© ë¬´í•œ ë£¨í”„]
        private async Task LoopCDE(CancellationToken token)
        {
            while (!token.IsCancellationRequested)
            {
                await FunctionC();
                await FunctionD();
                await FunctionE();
                await Task.Delay(10);
            }
        }

        // âœ… [ì¤‘ì§€ ë²„íŠ¼] ëª¨ë“  ë£¨í”„ ì¢…ë£Œ
        private void btnStop_Click(object sender, EventArgs e)
        {
            _ctsA?.Cancel(); _ctsA = null;
            _ctsC?.Cancel(); _ctsC = null;
        }

        // âœ… A-B ê·¸ë£¹ í•¨ìˆ˜ë“¤ (ìˆœì°¨ ì‹¤í–‰)
        private async Task FunctionA()
        {
            AddLog("Function A ì‹¤í–‰");
            await Task.Delay(500); // ì‘ì—… ì‹œê°„
        }

        private async Task FunctionB()
        {
            AddLog("Function B ì‹¤í–‰");
            await Task.Delay(500);
        }

        // âœ… C-D-E ê·¸ë£¹ í•¨ìˆ˜ë“¤ (ìˆœì°¨ ì‹¤í–‰)
        private async Task FunctionC()
        {
            AddLog("Function C ì‹œì‘");
            await Task.Delay(3000);
            AddLog("Function C ì¢…ë£Œ");
        }

        private async Task FunctionD()
        {
            AddLog("Function D ì‹œì‘");
            await Task.Delay(2000);
            AddLog("Function D ì¢…ë£Œ");
        }

        private async Task FunctionE()
        {
            AddLog("Function E ì‹œì‘");
            await Task.Delay(1000);
            AddLog("Function E ì¢…ë£Œ");
        }

        // âœ… ListBoxì— ë¡œê·¸ ì¶”ê°€ (ìµœëŒ€ 100ê°œ ìœ ì§€)
        private void AddLog(string message)
        {
            if (listBox1.InvokeRequired)
            {
                listBox1.Invoke((Action)(() => AddLog(message)));
                return;
            }

            if (listBox1.Items.Count >= 100)
                listBox1.Items.RemoveAt(0);

            listBox1.Items.Add($"{DateTime.Now:HH:mm:ss} - {message}");
            listBox1.TopIndex = listBox1.Items.Count - 1;
        }
    }
}
ğŸ”¥ ì„¤ëª…
âœ” A-BëŠ” LoopAB()ì—ì„œ whileë¬¸ìœ¼ë¡œ ê³„ì† ì‹¤í–‰ â†’ FunctionA â†’ FunctionB ìˆœì°¨ ì‹¤í–‰
âœ” C-D-EëŠ” LoopCDE()ì—ì„œ whileë¬¸ìœ¼ë¡œ ê³„ì† ì‹¤í–‰ â†’ FunctionC â†’ FunctionD â†’ FunctionE ìˆœì°¨ ì‹¤í–‰