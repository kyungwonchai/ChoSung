private void button1_Click(object sender, EventArgs e)
{
    string path = @"d:\rebootlog_241";
    DateTime oneWeekAgo = DateTime.Now.AddDays(-7);
    DataTable dataTable = new DataTable();
    dataTable.Columns.Add("시간", typeof(DateTime));
    dataTable.Columns.Add("로그", typeof(string));

    foreach (string yearFolder in Directory.GetDirectories(path))
    {
        foreach (string dateFolder in Directory.GetDirectories(yearFolder))
        {
            string dateStr = Path.GetFileName(dateFolder);
            DateTime date;
            if (DateTime.TryParseExact(dateStr, "yyyyMMdd", CultureInfo.InvariantCulture, DateTimeStyles.None, out date) && date >= oneWeekAgo)
            {
                string logFilePath = Path.Combine(dateFolder, dateStr + "_rebootlog.txt");
                if (File.Exists(logFilePath))
                {
                    string[] lines = File.ReadAllLines(logFilePath);
                    foreach (string line in lines)
                    {
                        Match match = Regex.Match(line, @"\[(\d{2}-\d{2}-\d{2} \d{2}:\d{2}:\d{2})\] (.+)");
                        if (match.Success)
                        {
                            DateTime logTime = DateTime.ParseExact(match.Groups[1].Value, "yy-MM-dd HH:mm:ss", CultureInfo.InvariantCulture);
                            string log = match.Groups[2].Value;
                            dataTable.Rows.Add(logTime, log);
                        }
                    }
                }
            }
        }
    }

    gridControl1.DataSource = dataTable;
}
