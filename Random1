
/etc/systemd/system/myservice.service 파일에 다음 옵션을 추가하여 설정할 수 있습니다.

Ini, TOML

[Unit]
Description=My Awesome Service

[Service]
ExecStart=/path/to/my/application

# Service가 멈추거나 WatchdogSec 시간 내에 응답이 없으면 재시작합니다.
Restart=on-failure
RestartSec=5

# Systemd가 해당 서비스의 "펫팅"을 기다리는 시간(초)을 설정합니다.
# 이 시간 안에 서비스가 응답하지 않으면 Systemd는 서비스를 재시작합니다.
WatchdogSec=60

[Install]
WantedBy=multi-user.target
WatchdogSec=60 옵션을 추가하면, Systemd는 60초마다 해당 서비스로부터 "살아있음" 신호를 기다립니다. 이 신호가 60초 내에 도착하지 않으면, Systemd는 서비스가 멈췄다고 판단하고 Restart=on-failure 설정에 따라 서비스를 자동으로 재시작합니다.

이 기능을 활용하려면 서비스 애플리케이션 내에 주기적으로 Systemd에게 신호를 보내는 코드(sd_notify())를 포함시켜야 합니다.

watchdogd와 Systemd 와치독 비교
특징	watchdogd 데몬 (외부 프로그램)	Systemd 와치독 (내장 기능)
목표	시스템 전체의 먹통 상태 감지	특정 서비스의 멈춤 상태 감지
작동 방식	데몬이 하드웨어 와치독을 펫팅	서비스가 Systemd에 신호 전송