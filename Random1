using System.Drawing.Printing;
using System.Windows.Forms;

// ...

// 프린터 설정을 저장할 변수
private PrinterSettings selectedPrinterSettings;

private void btnPrinterSettings_Click(object sender, EventArgs e)
{
    // 프린터 설정 대화상자 생성
    using (PrintDialog printDialog = new PrintDialog())
    {
        // 현재 선택된 프린터 설정을 가져옴
        selectedPrinterSettings = printDialog.PrinterSettings;

        // 프린터 설정 대화상자 표시
        if (printDialog.ShowDialog() == DialogResult.OK)
        {
            // 프린터 설정이 변경되었다면 Panel2를 초기화
            panel2.BackgroundImage = null;
        }
    }
}

private void btnPrint_Click(object sender, EventArgs e)
{
    // PrintDocument 객체 생성
    PrintDocument printDocument = new PrintDocument();
    printDocument.PrintPage += PrintDocument_PrintPage;

    // 인쇄할 프린터 설정 지정
    printDocument.PrinterSettings = selectedPrinterSettings;

    // 프린터 설정 적용하여 인쇄
    PrintDialog printDialog = new PrintDialog();
    printDialog.Document = printDocument;
    if (printDialog.ShowDialog() == DialogResult.OK)
    {
        printDocument.Print();
    }
}

private void PrintDocument_PrintPage(object sender, PrintPageEventArgs e)
{
    // 인쇄할 내용을 Panel1에서 이미지로 생성
    Bitmap printImage = SavePanelAsImage(panel1);

    // 이미지를 인쇄할 위치로 그리기
    e.Graphics.DrawImage(printImage, e.MarginBounds);
}

private Bitmap SavePanelAsImage(Panel panel)
{
    // Panel 컨트롤의 크기만큼의 비트맵 생성
    Bitmap bitmap = new Bitmap(panel.Width, panel.Height);

    // Panel의 내용을 비트맵에 그리기
    panel.DrawToBitmap(bitmap, new Rectangle(0, 0, panel.Width, panel.Height));

    return bitmap;
}
