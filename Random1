주어진 샘플을 C# WinForms에서 사용하려면 HttpClient를 사용하여 API를 호출하고, 요청 데이터를 적절하게 구성해야 합니다. 아래에 예시 코드를 제공하겠습니다:

csharp

using System;
using System.Net.Http;
using System.Threading.Tasks;

namespace MailSenderExample
{
    public static class MailSender
    {
        private static readonly HttpClient client = new HttpClient();
        private static readonly string apiUrl = "http://oo/stt/ssc.net/mail/api/v2.0/mails/send";

        public static async Task SendMail(string userId, string subject, string contents, string senderEmailAddress, string recipientEmailAddress)
        {
            // API 요청 데이터 구성
            var requestData = new
            {
                userId,
                body = new
                {
                    subject,
                    contents,
                    sender = new
                    {
                        emailAddress = senderEmailAddress,
                        recipientType = "TO"
                    },
                    recipients = new[]
                    {
                        new
                        {
                            emailAddress = recipientEmailAddress,
                            recipientType = "TO"
                        }
                    }
                }
            };

            // 요청 데이터를 JSON 형식으로 직렬화
            var jsonPayload = Newtonsoft.Json.JsonConvert.SerializeObject(requestData);

            // API 호출
            var content = new StringContent(jsonPayload);
            var response = await client.PostAsync(apiUrl, content);

            if (response.IsSuccessStatusCode)
            {
                Console.WriteLine("메일이 성공적으로 발송되었습니다.");
            }
            else
            {
                Console.WriteLine("메일 발송에 실패하였습니다.");
            }
        }
    }

    public partial class MainForm : Form
    {
        public MainForm()
        {
            InitializeComponent();
        }

        private async void btnSendMail_Click(object sender, EventArgs e)
        {
            string userId = "kkkk123";
            string subject = "메일 제목";
            string contents = "메일 본문";
            string senderEmailAddress = "sgsg@abc.com";
            string recipientEmailAddress = "knoxposgg@abc.com";

            await MailSender.SendMail(userId, subject, contents, senderEmailAddress, recipientEmailAddress);
        }
    }
}

위의 예제 코드에서 MailSender 클래스는 SendMail 메서드를 통해 API를 호출하고 메일을 발송합니다. SendMail 메서드에는 사용자 ID, 메일 제목, 메일 본문, 발신자 이메일 주소, 수신자 이메일 주소를 매개변수로 전달합니다.

요청 데이터는 주어진 샘플에 맞게 구성되며, Newtonsoft.Json을 사용하여 JSON 형식으로 직렬화됩니다. 그 후, HttpClient를 사용하여 API를 호출하고 응답을 확인합니다.

MainForm에서는 "Send Mail" 버튼을 클릭하면 btnSendMail_Click 이벤트 핸들러가 실행되어 MailSender.SendMail을 호출합니다. 필요한 값들을 매개변수로 전달하고 메일이 성공적으로 발송되었는지를 확인합니다.

주어진 샘플에 맞게 사용자 ID, 메일 제목, 메일 본문, 발신자 이메일 주소, 수신자 이메일 주소 등을 수정하여 원하는