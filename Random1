using Microsoft.UI.Xaml;
using System;
using System.Threading.Tasks; // Task를 사용하기 위해 추가

namespace MySpectacularApp // 본인 프로젝트 네임스페이스에 맞게 사용
{
    public sealed partial class MainWindow : Window
    {
        public MainWindow()
        {
            this.InitializeComponent();

            // 생성자에서는 초기화 메서드를 호출만 하도록 변경
            InitializeWebViewsAsync();
        }

        // WebView들을 비동기 방식으로 초기화하는 별도의 메서드 생성
        private async void InitializeWebViewsAsync()
        {
            try
            {
                // WebView_Tab1 컨트롤이 완전히 준비될 때까지 기다립니다.
                await WebView_Tab1.EnsureCoreWebView2Async();
                WebView_Tab1.Source = new Uri("https://www.google.com");

                // WebView_Tab2 컨트롤이 완전히 준비될 때까지 기다립니다.
                await WebView_Tab2.EnsureCoreWebView2Async();
                WebView_Tab2.Source = new Uri("https://www.naver.com");
            }
            catch (Exception ex)
            {
                // 만약 초기화 중 오류가 발생하면 출력합니다.
                System.Diagnostics.Debug.WriteLine($"WebView2 초기화 오류: {ex.Message}");
            }
        }
    }
}