에서 특정 포트를 특정 IP에만 허용하는 방화벽 규칙을 추가하려면 ufw (Uncomplicated Firewall)를 사용하면 됩니다. 아래에 단계별로 설명드리겠습니다.

UFW 설치 및 활성화
UFW 설치

bash
코드 복사
sudo apt update
sudo apt install ufw
UFW 활성화

bash
코드 복사
sudo ufw enable
특정 포트를 특정 IP에만 허용
포트를 특정 IP에만 허용
다음 명령어를 사용하여 특정 포트를 특정 IP에만 허용합니다. 예를 들어, 포트 8080을 192.168.1.100 IP 주소에만 허용하려면:

bash
코드 복사
sudo ufw allow from 192.168.1.100 to any port 8080
현재 방화벽 상태 확인
방화벽 상태와 규칙을 확인하려면:

bash
코드 복사
sudo ufw status verbose
필요에 따라 추가 규칙 설정
다른 포트나 IP에 대해 추가 규칙을 설정하려면 위의 명령어 형식을 사용하면 됩니다. 예를 들어, 포트 3306(MySQL)을 10.0.0.5 IP 주소에만 허용하려면:

bash
코드 복사
sudo ufw allow from 10.0.0.5 to any port 3306
예시
만약 다음과 같은 규칙을 추가하고 싶다면:

포트 22 (SSH)을 192.168.1.101에만 허용
포트 80 (HTTP)을 192.168.1.102에만 허용
포트 443 (HTTPS)을 192.168.1.103에만 허용
명령어는 다음과 같습니다:

bash
코드 복사
sudo ufw allow from 192.168.1.101 to any port 22
sudo ufw allow from 192.168.1.102 to any port 80
sudo ufw allow from 192.168.1.103 to any port 443
방화벽 규칙 삭제
잘못된 규칙을 추가했거나 불필요한 규칙을 삭제하려면:

방화벽 규칙 목록 확인

bash
코드 복사
sudo ufw status numbered
규칙 삭제
특정 번호의 규칙을 삭제하려면:

bash
코드 복사
sudo ufw delete <번호>
예를 들어, 2번 규칙을 삭제하려면:

bash
코드 복사
sudo ufw delete 2
UFW 로그 활성화
추가로 방화벽 로그를 활성화하여 트래픽을 모니터링할 수 있습니다:

bash
코드 복사
sudo ufw logging on
이렇게 하면 특정 포트를 특정 IP에만 허용하도록 우분투 방화벽을 설정할 수 있습니다. ufw를 사용하여 방화벽 규칙을 쉽게 관리할 수 있습니다.