리에서 해제하려면 현재 재생 중인 미디어 플레이어 리소스를 정지하고 Dispose 메서드를 호출하여 사용한 리소스를 해제해야 합니다.

컨트롤에서 MediaPlayer 객체를 사용하고 있다면, 해당 컨트롤에서 Dispose 메서드를 제공해야 할 수도 있습니다. 예시는 아래와 같습니다:

csharp

// 사용자 컨트롤 내부에서 Dispose 메서드 정의
public partial class MediaPlayerControl : UserControl
{
    private MediaPlayer _mediaPlayer;

    public void DisposeMediaPlayer()
    {
        _mediaPlayer.Stop(); // 재생 중지
        _mediaPlayer.Dispose(); // 리소스 해제
    }
}

이제 MainForm에서 해당 메서드를 호출하여 사용자가 목록에서 다른 항목을 클릭했을 때 메모리에서 MediaPlayer 객체를 해제할 수 있습니다:

csharp

private void listBox1_SelectedIndexChanged(object sender, EventArgs e)
{
    // 기존 미디어 플레이어 리소스 해제
    mediaPlayerControl.DisposeMediaPlayer();

    // 새 파일 재생
    int index = listBox1.SelectedIndex;
    if (index >= 0 && index < playbackFiles.Count)
    {
        string filePath = playbackFiles[index];
        mediaPlayerControl.PlayFile(filePath);
    }
}

이 방법을 사용하면 목록에서 다른 파일을 클릭할 때마다 기존에 재생 중인 미디어 플레이어 리소스를 해제하고 새로운 파일을 재생합