using System;
using System.Data;
using System.Drawing;
using System.Windows.Forms;
using DevExpress.XtraCharts;
using DevExpress.XtraTab;

// DataTableA를 예시로 가정합니다.
DataTable dataTable = DataTableA;

// XtraTabControl 생성 및 XtraTabPage 생성
XtraTabControl tabControl = new XtraTabControl();
tabControl.Dock = DockStyle.Fill;
this.Controls.Add(tabControl);

XtraTabPage tabPage3 = new XtraTabPage();
tabPage3.Text = "Chart Page";
tabControl.TabPages.Add(tabPage3);

// Chart Control 생성
ChartControl chartControl = new ChartControl();
chartControl.Size = tabPage3.Size;
chartControl.Dock = DockStyle.Fill;
tabPage3.Controls.Add(chartControl);

// Series 생성 (사용비율 - 점 그래프)
Series usageRateSeries = new Series("Usage Rate", ViewType.Point);
chartControl.Series.Add(usageRateSeries);

// 데이터 바인딩 (사용비율 - 점 그래프)
usageRateSeries.ArgumentDataMember = "InputTime"; // 입력시간 컬럼
usageRateSeries.ValueDataMembers.AddRange("UsageRate"); // 사용비율 컬럼
usageRateSeries.DataSource = dataTable;

// Series 생성 (마지막 부팅시간 - 세로 선)
Series lastBootTimeSeries = new Series("Last Boot Time", ViewType.Line);
chartControl.Series.Add(lastBootTimeSeries);

// 데이터 바인딩 (마지막 부팅시간 - 세로 선)
lastBootTimeSeries.ArgumentDataMember = "InputTime"; // 입력시간 컬럼
lastBootTimeSeries.ValueDataMembers.AddRange("LastBootTime"); // 마지막 부팅시간 컬럼
lastBootTimeSeries.DataSource = dataTable;

// 마지막 부팅시간 - 세로 선 설정
lastBootTimeSeries.LabelsVisibility = DevExpress.Utils.DefaultBoolean.False; // 라벨 비활성화
lastBootTimeSeries.View.Color = Color.Blue; // 선 색상 설정
lastBootTimeSeries.View.LineStyle.DashStyle = DashStyle.Dash; // 선 스타일 설정
lastBootTimeSeries.View.LineStyle.Thickness = 2; // 선 두께 설정

// X축 설정
AxisBase xAxis = ((XYDiagram)chartControl.Diagram).AxisX;
xAxis.Label.Angle = 45; // X축 라벨 회전 각도 설정
xAxis.DateTimeScaleOptions.MeasureUnit = DateTimeMeasureUnit.Second; // X축의 단위를 초로 설정
xAxis.DateTimeScaleOptions.GridAlignment = DateTimeGridAlignment.Minute; // X축 그리드 정렬을 분으로 설정

// Y축 설정
AxisBase yAxis = ((XYDiagram)chartControl.Diagram).AxisY;
yAxis.WholeRange.Auto = false;
yAxis.WholeRange.SetMinMaxValues(0, 100);

// 그래프 그리기
chartControl.Dock = DockStyle.Fill;
tabPage3.Controls.Add(chartControl);
