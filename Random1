ìŠµë‹ˆë‹¤. íƒ€ì´í‹€ë°”ì—ì„œ ë”ë¸” í´ë¦­ì´ ì•ˆ ë¨¹íˆëŠ” ë¬¸ì œë¥¼ í™•ì‹¤íˆ í•´ê²°í•˜ê¸° ìœ„í•´ íˆ¬ëª… ë²„íŠ¼ìœ¼ë¡œ íƒ€ì´í‹€ë°” ì˜ì—­ì„ ë®ì–´ í´ë¦­ ë° ë”ë¸” í´ë¦­ ì´ë²¤íŠ¸ë¥¼ ê°•ì œë¡œ ì²˜ë¦¬í•˜ë„ë¡ êµ¬í˜„í•˜ê² ìŠµë‹ˆë‹¤.

ì™„ë²½í•œ ë”ë¸” í´ë¦­ ë° ë“œë˜ê·¸ ê°€ëŠ¥í•œ ì»¤ìŠ¤í…€ íƒ€ì´í‹€ë°”
ì•„ë˜ ì½”ë“œëŠ” SkinableFormì—ì„œ ë”ë¸” í´ë¦­ì´ ì•ˆ ë˜ëŠ” ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ íˆ¬ëª… ë²„íŠ¼ì„ í™œìš©í•´ íƒ€ì´í‹€ë°”ë¥¼ ë®ê³  ì´ë²¤íŠ¸ë¥¼ ì§ì ‘ ì²˜ë¦¬í•œ êµ¬í˜„ì…ë‹ˆë‹¤.

ì½”ë“œ êµ¬í˜„
csharp
ì½”ë“œ ë³µì‚¬
using DevExpress.XtraEditors;
using System;
using System.Drawing;
using System.Windows.Forms;

public partial class MySkinableForm : XtraForm
{
    private SimpleButton minimizeButton;
    private SimpleButton maximizeButton;
    private SimpleButton closeButton;
    private Panel transparentTitleBar;

    public MySkinableForm()
    {
        InitializeComponent();

        // ê¸°ë³¸ ì„¤ì •
        this.FormBorderStyle = FormBorderStyle.None; // ê¸°ë³¸ íƒ€ì´í‹€ë°” ì œê±°
        this.Padding = new Padding(0, 30, 0, 0); // íƒ€ì´í‹€ë°” ë†’ì´ í™•ë³´
        this.DoubleBuffered = true; // ê¹œë¹¡ì„ ë°©ì§€

        // íˆ¬ëª… íƒ€ì´í‹€ë°” íŒ¨ë„ ì¶”ê°€
        transparentTitleBar = new Panel
        {
            Size = new Size(this.Width, 30),
            Location = new Point(0, 0),
            BackColor = Color.Transparent
        };
        transparentTitleBar.MouseDown += TransparentTitleBar_MouseDown;
        transparentTitleBar.MouseDoubleClick += TransparentTitleBar_MouseDoubleClick;
        this.Controls.Add(transparentTitleBar);

        // ë²„íŠ¼ ì¶”ê°€
        AddTitleBarButtons();

        // í¼ í¬ê¸° ë³€ê²½ ì‹œ íƒ€ì´í‹€ë°”ì™€ ë²„íŠ¼ ìœ„ì¹˜ ì—…ë°ì´íŠ¸
        this.SizeChanged += UpdateLayout;
    }

    private void AddTitleBarButtons()
    {
        // ìµœì†Œí™” ë²„íŠ¼
        minimizeButton = CreateButton("-", new Point(this.Width - 120, 5), MinimizeButton_Click);

        // ìµœëŒ€í™” ë²„íŠ¼
        maximizeButton = CreateButton("ğŸ—–", new Point(this.Width - 80, 5), MaximizeButton_Click);

        // ë‹«ê¸° ë²„íŠ¼
        closeButton = CreateButton("X", new Point(this.Width - 40, 5), CloseButton_Click);

        // ë²„íŠ¼ ì¶”ê°€
        this.Controls.Add(minimizeButton);
        this.Controls.Add(maximizeButton);
        this.Controls.Add(closeButton);
    }

    private SimpleButton CreateButton(string text, Point location, EventHandler clickHandler)
    {
        var button = new SimpleButton
        {
            Text = text,
            Size = new Size(30, 20),
            Location = location,
            ButtonStyle = DevExpress.XtraEditors.Controls.BorderStyles.NoBorder,
            Appearance =
            {
                BackColor = Color.LightGray,
                ForeColor = Color.Black
            }
        };
        button.Click += clickHandler; // í´ë¦­ ì´ë²¤íŠ¸ ë“±ë¡
        return button;
    }

    private void UpdateLayout(object sender, EventArgs e)
    {
        // íˆ¬ëª… íƒ€ì´í‹€ë°”ì™€ ë²„íŠ¼ ìœ„ì¹˜ ì—…ë°ì´íŠ¸
        transparentTitleBar.Size = new Size(this.Width, 30);
        minimizeButton.Location = new Point(this.Width - 120, 5);
        maximizeButton.Location = new Point(this.Width - 80, 5);
        closeButton.Location = new Point(this.Width - 40, 5);
    }

    protected override void OnPaint(PaintEventArgs e)
    {
        base.OnPaint(e);

        // íƒ€ì´í‹€ë°” ë°°ê²½ ê·¸ë¦¬ê¸°
        using (var brush = new SolidBrush(Color.SkyBlue))
        {
            e.Graphics.FillRectangle(brush, new Rectangle(0, 0, this.Width, 30));
        }

        // íƒ€ì´í‹€ë°” í…ìŠ¤íŠ¸ ê·¸ë¦¬ê¸°
        using (var font = new Font("Arial", 12, FontStyle.Bold))
        using (var textBrush = new SolidBrush(Color.White))
        {
            e.Graphics.DrawString(this.Text, font, textBrush, new PointF(10, 7));
        }
    }

    private void TransparentTitleBar_MouseDown(object sender, MouseEventArgs e)
    {
        // íƒ€ì´í‹€ë°” ë“œë˜ê·¸ë¡œ ì°½ ì´ë™
        if (e.Button == MouseButtons.Left)
        {
            this.Capture = false;
            var message = Message.Create(this.Handle, 0xA1, new IntPtr(2), IntPtr.Zero); // WM_NCLBUTTONDOWN, HTCAPTION
            this.WndProc(ref message);
        }
    }

    private void TransparentTitleBar_MouseDoubleClick(object sender, MouseEventArgs e)
    {
        // íƒ€ì´í‹€ë°” ë”ë¸” í´ë¦­ìœ¼ë¡œ ìµœëŒ€í™”/ë³µì›
        if (e.Button == MouseButtons.Left)
        {
            ToggleMaximizeRestore();
        }
    }

    private void ToggleMaximizeRestore()
    {
        if (this.WindowState == FormWindowState.Maximized)
        {
            this.WindowState = FormWindowState.Normal;
            maximizeButton.Text = "ğŸ—–"; // ìµœëŒ€í™” ì•„ì´ì½˜
        }
        else
        {
            this.WindowState = FormWindowState.Maximized;
            maximizeButton.Text = "ğŸ——"; // ë³µì› ì•„ì´ì½˜
        }
    }

    private void MinimizeButton_Click(object sender, EventArgs e)
    {
        this.WindowState = FormWindowState.Minimized; // ìµœì†Œí™”
    }

    private void MaximizeButton_Click(object sender, EventArgs e)
    {
        ToggleMaximizeRestore(); // ìµœëŒ€í™”/ë³µì›
    }

    private void CloseButton_Click(object sender, EventArgs e)
    {
        this.Close(); // ë‹«ê¸°
    }
}
í•µì‹¬ êµ¬í˜„ ì‚¬í•­
íˆ¬ëª… íŒ¨ë„ì„ í†µí•œ íƒ€ì´í‹€ë°” ê°ì§€:

transparentTitleBar íŒ¨ë„ë¡œ íƒ€ì´í‹€ë°” ì˜ì—­ì„ ë®ì–´ í´ë¦­ ë° ë”ë¸” í´ë¦­ ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬.
íˆ¬ëª… íŒ¨ë„ì˜ MouseDown ì´ë²¤íŠ¸ë¡œ ì°½ ì´ë™.
MouseDoubleClick ì´ë²¤íŠ¸ë¡œ ìµœëŒ€í™”/ë³µì› ë™ì‘ êµ¬í˜„.
íƒ€ì´í‹€ë°” ë“œë˜ê·¸ ì²˜ë¦¬:

MouseDown ì´ë²¤íŠ¸ì—ì„œ Windows ë©”ì‹œì§€ WM_NCLBUTTONDOWNì„ ì§ì ‘ í˜¸ì¶œí•˜ì—¬ ì°½ì„ ì´ë™.
íƒ€ì´í‹€ë°” ë”ë¸” í´ë¦­:
