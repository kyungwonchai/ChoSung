using DevExpress.XtraCharts;
using System;
using System.Data;
using System.Windows.Forms;

public partial class Form1 : Form
{
    public Form1()
    {
        InitializeComponent();

        // DataTable 생성 및 구성
        DataTable taskTable = new DataTable();
        taskTable.Columns.Add("Task", typeof(string));
        taskTable.Columns.Add("Start", typeof(DateTime));
        taskTable.Columns.Add("End", typeof(DateTime));

        // 예시 데이터 입력
        taskTable.Rows.Add("Task1", new DateTime(2023, 7, 3, 9, 0, 0), new DateTime(2023, 7, 3, 11, 0, 0));
        taskTable.Rows.Add("Task2", new DateTime(2023, 7, 3, 12, 0, 0), new DateTime(2023, 7, 3, 14, 0, 0));
        taskTable.Rows.Add("Task3", new DateTime(2023, 7, 3, 15, 0, 0), new DateTime(2023, 7, 3, 17, 0, 0));

        // 차트 컨트롤 생성
        ChartControl chart = new ChartControl();
        Series series = new Series("Tasks", ViewType.RangeBar);

        // 차트 데이터 설정
        series.DataSource = taskTable;
        series.ArgumentScaleType = ScaleType.Qualitative;
        series.ArgumentDataMember = "Task";
        series.ValueScaleType = ScaleType.DateTime;
        series.ValueDataMembers.AddRange(new string[] { "Start", "End" });

        // 차트 시각화 설정
        chart.Series.Add(series);
        chart.Dock = DockStyle.Fill;

        // 차트 패널에 추가
        panel2.Controls.Add(chart);

        // 차트 축 설정
        XYDiagram diagram = (XYDiagram)chart.Diagram;
        DateTimeScaleOptions scaleOptions = (DateTimeScaleOptions)diagram.AxisY.DateTimeScaleOptions;
        scaleOptions.MeasureUnit = DateTimeMeasureUnit.Minute;
        scaleOptions.GridAlignment = DateTimeGridAlignment.Hour;
        scaleOptions.ValueType = ScaleType.DateTime;
        diagram.AxisY.WholeRange.AutoSideMargins = false;
        diagram.AxisY.WholeRange.SetMinMaxValues(new DateTime(2023, 7, 3, 0, 0, 0), new DateTime(2023, 7, 3, 23, 59, 59));
    }
}
