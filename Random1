아, 죄송합니다! timedelta not defined 오류는 app.py 파일에서 timedelta를 사용하기 전에 임포트(import)하지 않아서 발생하는 문제입니다. 설치 문제는 아닙니다.

app.py 파일 상단에 있는 datetime 관련 임포트 문을 수정해야 합니다.

문제의 코드 부분 (이전 app.py에서):

아마도 login 함수 내에서 세션의 유효 기간을 설정할 때 timedelta를 사용하셨을 텐데, 이때 임포트가 누락된 것 같습니다.

Python

# app.py 상단 어딘가에 이런 비슷한 임포트가 있을 겁니다.
from datetime import datetime, timezone # <--- 여기에 timedelta가 빠져있습니다.

# ... 중간 코드 생략 ...

@app.route('/login', methods=['GET', 'POST'])
def login():
    # ... 코드 ...
    if password == app.config['ADMIN_PASSWORD']:
        session['is_admin_logged_in'] = True
        session.permanent = True
        app.permanent_session_lifetime = timedelta(days=7) # <<< 이 부분에서 오류 발생!
        flash('로그인되었습니다.', 'success')
        # ... 코드 ...
    # ... 코드 ...
해결 방법:

app.py 파일의 상단에 있는 from datetime import ... 부분을 찾아서 다음과 같이 timedelta를 추가해주세요.

수정된 app.py 상단 임포트 부분:

Python

import os
from flask import (
    Flask, render_template, request, redirect, url_for, flash, session, jsonify, abort
)
from werkzeug.utils import secure_filename
from datetime import datetime, timezone, timedelta  # <--- 여기에 timedelta 추가!
import uuid
from functools import wraps

from config import Config
from models import db, Post

# ... 나머지 app.py 코드는 그대로 ...
수정된 login 함수 (참고용, 실제로는 위 임포트 문만 수정하면 됩니다):

Python

@app.route('/login', methods=['GET', 'POST'])
def login():
    if is_admin_logged_in():
        return redirect(url_for('index'))

    if request.method == 'POST':
        password = request.form.get('password')
        if password == app.config['ADMIN_PASSWORD']:
            session['is_admin_logged_in'] = True
            session.permanent = True # 세션을 영구적으로 유지 (브라우저 닫아도 유지)
            app.permanent_session_lifetime = timedelta(days=7) # 이제 정상 동작합니다.
            flash('로그인되었습니다.', 'success')
            next_url = request.args.get('next')
            return redirect(next_url or url_for('index'))
        else:
            flash('잘못된 비밀번호입니다.', 'danger')
    return render_template('login.html')
조치:

app.py 파일을 여십시오.
파일 위쪽에 from datetime import datetime, timezone 라고 된 부분을 찾으십시오.
이 부분을 from datetime import datetime, timezone, timedelta 로 변경하십시오.