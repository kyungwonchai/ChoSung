이 문제를 해결하기 위해 SQL 쿼리를 사용할 수 있습니다. LEFT JOIN을 사용하여 table_oldmodelchange와 table_modelchange를 ipadd3, modelname3, ob1, ob10을 기준으로 연결하고, CASE문을 사용하여 table_oldmodelchange에 존재하는지 여부에 따라 새 컬럼 N123의 값을 결정할 수 있습니다. 아래는 예시 쿼리입니다:

sql
Copy code
SELECT
    COALESCE(o.*, m.*),
    CASE 
        WHEN o.ipadd3 IS NULL THEN 1
        ELSE 0
    END AS N123
FROM
    table_modelchange m
LEFT JOIN
    table_oldmodelchange o ON m.ipadd3 = o.ipadd3
                            AND m.modelname3 = o.modelname3
                            AND m.ob1 = o.ob1
                            AND m.ob10 = o.ob10
ORDER BY
    CASE WHEN o.ipadd3 IS NOT NULL THEN 0 ELSE 1 END, m.ipadd3, m.modelname3, m.ob1, m.ob10;
이 쿼리는 먼저 table_modelchange의 모든 행을 선택하고 table_oldmodelchange와 조인하여 일치하는 행이 있는지 확인합니다. 일치하는 행이 table_oldmodelchange에 있으면 해당 행을 우선하여 보여주고, 없으면 table_modelchange에서의 해당 행에 대해 N123 값을 1로 설정합니다. 일치하는 행이 있을 경우 N123은 0으로 설정됩니다. COALESCE 함수는 table_oldmodelchange에서 일치하는 행이 없을 경우 table_modelchange의 값을 사용하여 결과를 반환합니