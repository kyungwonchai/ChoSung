모달 팝업에서 QR 코드뿐만 아니라 해당 파일의 다운로드 링크도 텍스트로 표시하려면, HTML과 JavaScript 코드를 약간 수정해야 합니다. 이 방법을 통해 사용자는 QR 코드와 함께 파일의 다운로드 링크를 텍스트로 확인할 수 있습니다.

수정된 코드
1. index.html 수정
아래는 QR 코드와 파일의 다운로드 링크를 함께 표시하는 수정된 코드입니다.

html
코드 복사
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>File List</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/bootstrap.min.css') }}">
    <style>
        /* 모달 팝업의 배경색을 노란색으로 설정 */
        .modal-content {
            background-color: yellow;
        }

        /* 모달 제목 글씨를 검정색으로 설정 */
        .modal-title {
            color: black;
        }

        /* QR 코드 이미지 크기 설정 */
        .qr-image {
            width: 150px;
            height: 150px;
        }

        /* 링크 텍스트 스타일링 */
        .link-text {
            color: black;
            font-weight: bold;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>File List</h1>
        <p>Your IP: {{ client_ip }}</p>

        <table class="table table-striped">
            <thead>
                <tr>
                    <th>File Name</th>
                    <th>QR Code</th>
                </tr>
            </thead>
            <tbody>
                {% for file in files %}
                <tr data-filename="{{ file }}">
                    <td>{{ file }}</td>
                    <td><button class="btn btn-primary" onclick="showQR(this)">QR 보기</button></td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <!-- QR 코드 및 링크 팝업 -->
    <div id="qrModal" class="modal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">QR Code</h5>
                    <button type="button" class="btn-close" onclick="hideQR()" aria-label="Close"></button>
                </div>
                <div class="modal-body text-center">
                    <!-- QR 코드를 표시할 이미지 요소 -->
                    <img id="qrImage" src="" alt="QR Code" class="qr-image">
                    <!-- 다운로드 링크 텍스트 -->
                    <p id="downloadLink" class="link-text"></p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" onclick="hideQR()">Close</button>
                </div>
            </div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/bootstrap.bundle.min.js') }}"></script>
    <script>
        function showQR(button) {
            // 부모 <tr> 요소에서 파일 이름 가져오기
            const filename = button.closest('tr').getAttribute('data-filename');
            console.log("Generating QR for file:", filename); // 파일 이름이 제대로 전달되는지 확인

            if (filename) {
                const qrImage = document.getElementById('qrImage');
                const downloadLink = document.getElementById('downloadLink');
                
                // QR 코드 이미지 URL 설정
                qrImage.src = `/generate_qr/${filename}`;
                
                // 다운로드 링크 텍스트 설정
                downloadLink.textContent = `Download Link: http://localhost:5000/download/${filename}`;

                const qrModal = new bootstrap.Modal(document.getElementById('qrModal'));
                qrModal.show();
            } else {
                alert("파일 이름을 찾을 수 없습니다.");
            }
        }

        function hideQR() {
            const qrModal = bootstrap.Modal.getInstance(document.getElementById('qrModal'));
            qrModal.hide();
        }
    </script>
</body>
</html>
코드 설명
링크 텍스트 표시 추가:

modal-body 섹션에 <p id="downloadLink" class="link-text"></p> 요소를 추가하여 다운로드 링크를 텍스트로 표시합니다.
이 요소는 QR 코드 아래에 위치하며, 파일의 다운로드 링크를 텍스트로 보여줍니다.
showQR 함수 수정:

showQR 함수에서 filename을 사용하여 QR 코드 이미지를 설정하는 것뿐만 아니라, 다운로드 링크 텍스트도 함께 설정합니다.
downloadLink.textContent를 통해 다운로드 링크를 텍스트로 설정하며, 파일 이름에 맞는 링크를 표시합니다.
스타일링:

.link-text 클래스를 사용하여 다운로드 링크 텍스트의 스타일을 지정합니다. 링크 텍스트는 굵은 글씨로 검은색으로 표시되며, QR 코드 이미지 아래에 여백을 줍니다.
적용 후 확인
Flask 서버 실행:

bash
코드 복사
python app.py
웹 브라우저에서 확인:

웹 브라우저에서 http://localhost:5000으로 접속하여, 파일 목록이 표시되고 "QR 보기" 버튼을 클릭합니다.
QR 코드 팝업이 열리면서 QR 코드와 함께 해당 파일의 다운로드 링크가 텍스트로 표시되는지 확인합니다.
이러한 수정사항을 적용하면, 사용자에게 QR 코드와 함께 파일의 다운로드 링크를 텍스트로 제공할 수 있어, 두 가지 방식으로 파일을 다운로드할 수 있습니다.





나의 말:
버튼백컬러노랑으로하기
ChatGPT의 말:
ChatGPT
버튼의 배경색을 노란색으로 설정하려면, CSS 스타일을 수정하여 버튼의 백그라운드 컬러를 변경할 수 있습니다. 아래는 QR 보기 버튼의 배경색을 노란색으로 설정하는 방법입니다.

수정된 코드
1. index.html 수정
아래 코드에서는 QR 보기 버튼의 배경색을 노란색으로 설정하는 CSS 스타일을 추가했습니다.

html
코드 복사
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>File List</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/bootstrap.min.css') }}">
    <style>
        /* 모달 팝업의 배경색을 노란색으로 설정 */
        .modal-content {
            background-color: yellow;
        }

        /* 모달 제목 글씨를 검정색으로 설정 */
        .modal-title {
            color: black;
        }

        /* QR 코드 이미지 크기 설정 */
        .qr-image {
            width: 150px;
            height: 150px;
        }

        /* 링크 텍스트 스타일링 */
        .link-text {
            color: black;
            font-weight: bold;
            margin-top: 10px;
        }

        /* QR 보기 버튼 스타일링 */
        .btn-primary {
            background-color: yellow; /* 버튼 배경색을 노란색으로 설정 */
            color: black; /* 버튼 텍스트를 검정색으로 설정 */
            border-color: yellow; /* 버튼 테두리 색상을 노란색으로 설정 */
        }

        /* 버튼이 마우스 오버될 때의 스타일 */
        .btn-primary:hover {
            background-color: #f0e68c; /* 밝은 노란색으로 변경 */
            color: black; /* 텍스트 색상을 검정색으로 유지 */
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>File List</h1>
        <p>Your IP: {{ client_ip }}</p>

        <table class="table table-striped">
            <thead>
                <tr>
                    <th>File Name</th>
                    <th>QR Code</th>
                </tr>
            </thead>
            <tbody>
                {% for file in files %}
                <tr data-filename="{{ file }}">
                    <td>{{ file }}</td>
                    <td><button class="btn btn-primary" onclick="showQR(this)">QR 보기</button></td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <!-- QR 코드 및 링크 팝업 -->
    <div id="qrModal" class="modal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">QR Code</h5>
                    <button type="button" class="btn-close" onclick="hideQR()" aria-label="Close"></button>
                </div>
                <div class="modal-body text-center">
                    <!-- QR 코드를 표시할 이미지 요소 -->
                    <img id="qrImage" src="" alt="QR Code" class="qr-image">
                    <!-- 다운로드 링크 텍스트 -->
                    <p id="downloadLink" class="link-text"></p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" onclick="hideQR()">Close</button>
                </div>
            </div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/bootstrap.bundle.min.js') }}"></script>
    <script>
        function showQR(button) {
            // 부모 <tr> 요소에서 파일 이름 가져오기
            const filename = button.closest('tr').getAttribute('data-filename');
            console.log("Generating QR for file:", filename); // 파일 이름이 제대로 전달되는지 확인

            if (filename) {
                const qrImage = document.getElementById('qrImage');
                const downloadLink = document.getElementById('downloadLink');
                
                // QR 코드 이미지 URL 설정
                qrImage.src = `/generate_qr/${filename}`;
                
                // 다운로드 링크 텍스트 설정
                downloadLink.textContent = `Download Link: http://localhost:5000/download/${filename}`;

                const qrModal = new bootstrap.Modal(document.getElementById('qrModal'));
                qrModal.show();
            } else {
                alert("파일 이름을 찾을 수 없습니다.");
            }
        }

        function hideQR() {
            const qrModal = bootstrap.Modal.getInstance(document.getElementById('qrModal'));
            qrModal.hide();
        }
    </script>
</body>
</html>
설명
버튼 배경색을 노란색으로 설정:

.btn-primary 클래스에 background-color: yellow;를 추가하여 버튼의 배경색을 노란색으로 설정했습니다.
버튼의 텍스트 색상은 검정색으로 설정되어 있으며, 버튼 테두리도 노란색으로 설정했습니다.
마우스 오버 시 스타일링:

.btn-primary:hover 클래스를 추가하여 버튼에 마우스를 올렸을 때 배경색을 약간 밝은 노란색 (#f0e68c)으로 변경하도록 설정했습니다. 텍스트 색상은 검정색으로 유지됩니다.
적용 후 확인
Flask 서버 실행:

bash
코드 복사
python app.py
웹 브라우저에서 확인:

웹 브라우저에서 http://localhost:5000으로 접속하여, "QR 보기" 버튼의 배경색이 노란색으로 변경된 것을 확인합니다.
마우스를 버튼 위에 올렸을 때 배경색이 밝은 노란색으로 변하는지 확인합니다.
이 수정사항을 적용하면, "QR 보기" 버튼이 노란색 배경으로 표시되어 더 시각적으