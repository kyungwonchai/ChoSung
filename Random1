// 서버와의 연결 상태를 5초마다 체크하는 메서드
private void StartConnectionCheck()
{
    if (_connectionCheckTimer == null)
    {
        _connectionCheckTimer = new Timer(CheckConnectionStatus, null, _checkInterval, _checkInterval);
    }
}

// 연결 상태 확인을 위한 메서드
private void CheckConnectionStatus(object state)
{
    if (_client != null && (!_client.Connected || (_client.Client.Poll(0, SelectMode.SelectRead) && _client.Client.Available == 0)))
    {
        // 연결이 끊어졌으면 재연결 시도
        _isConnected = false;
        ConnectionStatusChanged?.Invoke(false); // 연결 해제 이벤트 호출
        StopConnectionCheck(); // 연결 확인 타이머 중지
        StartConnectionAttemptAsync(); // 재연결 시도
    }
}

// 연결 상태 확인을 중지하는 메서드
private void StopConnectionCheck()
{
    _connectionCheckTimer?.Dispose();
    _connectionCheckTimer = null;
}
