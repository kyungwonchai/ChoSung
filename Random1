using System;
using System.Drawing;
using System.IO;
using System.Runtime.InteropServices;
using System.Windows.Forms;

public partial class MainForm : Form
{
    // 나머지 코드는 이전 코드와 동일하므로 생략합니다.

    private bool _locked = false;  // 윈도우가 잠겨 있는지 여부를 나타내는 플래그

    // 이전의 Lock 버튼 클릭 이벤트 핸들러를 아래와 같이 수정합니다.

    private void btnLock_Click(object sender, EventArgs e)
    {
        if (btnLock.Text == "Lock")
        {
            btnLock.Text = "Unlock";
            _locked = true;  // 윈도우를 잠금
        }
        else
        {
            btnLock.Text = "Lock";
            _locked = false;  // 윈도우 잠금 해제
        }
    }

    // 새로운 클릭 이벤트 핸들러를 추가합니다. 

    protected override void OnClick(EventArgs e)
    {
        if (_locked)  // 잠겨 있으면 클릭 이벤트를 무시합니다.
            return;

        base.OnClick(e);  // 잠겨 있지 않으면 클릭 이벤트를 정상적으로 처리합니다.
    }

    // 같은 방식으로 다른 이벤트 핸들러를 오버라이드할 수 있습니다.
}
