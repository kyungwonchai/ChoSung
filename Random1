, ì•Œê² ìŠµë‹ˆë‹¤. ë°©ê¸ˆ ì„¤ëª…í•´ ë“œë¦° C# WPF í”„ë¡œì íŠ¸ì˜ ì „ì²´ í´ë” êµ¬ì¡°ì™€ íŒŒì¼ë“¤ì„ í•œ ë²ˆì— ìƒì„±í•˜ëŠ” Python ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‘ì„±í•´ ë“œë¦¬ê² ìŠµë‹ˆë‹¤.

ì´ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‹¤í–‰í•˜ë©´ í˜„ì¬ ìŠ¤í¬ë¦½íŠ¸ê°€ ìˆëŠ” ìœ„ì¹˜ì— WpfFileMonitorAppì´ë¼ëŠ” í´ë”ê°€ ìƒì„±ë˜ê³ , ê·¸ ì•ˆì— ëª¨ë“  í•˜ìœ„ í´ë”ì™€ C#/.xaml íŒŒì¼ë“¤ì´ ìë™ìœ¼ë¡œ ì±„ì›Œì§‘ë‹ˆë‹¤.

ğŸ ì „ì²´ Python ìŠ¤í¬ë¦½íŠ¸ (create_wpf_project.py)
ì•„ë˜ ì½”ë“œë¥¼ create_wpf_project.pyì™€ ê°™ì€ ì´ë¦„ì˜ íŒŒì¼ë¡œ ì €ì¥í•˜ê³  ì‹¤í–‰í•˜ì„¸ìš”.

Python

import os
import textwrap

# --- í”„ë¡œì íŠ¸ ê¸°ë³¸ ì •ë³´ ---
PROJECT_NAME = "WpfFileMonitorApp"

# --- ê° íŒŒì¼ì˜ ë‚´ìš©ì„ ë”•ì…”ë„ˆë¦¬ë¡œ ì •ì˜ ---
# key: (í´ë” ê²½ë¡œ, íŒŒì¼ëª…)
# value: íŒŒì¼ ë‚´ìš©
file_contents = {
    # --- í”„ë¡œì íŠ¸ íŒŒì¼ ---
    (".", f"{PROJECT_NAME}.csproj"): """
    <Project Sdk="Microsoft.NET.Sdk">
      <PropertyGroup>
        <OutputType>WinExe</OutputType>
        <TargetFramework>net8.0-windows</TargetFramework> <Nullable>enable</Nullable>
        <ImplicitUsings>enable</ImplicitUsings>
        <UseWPF>true</UseWPF>
      </PropertyGroup>
    </Project>
    """,

    # --- App.xaml ë° App.xaml.cs ---
    (".", "App.xaml"): """
    <Application x:Class="WpfFileMonitorApp.App"
                 xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                 xmlns:local="clr-namespace:WpfFileMonitorApp"
                 StartupUri="Views/MainWindow.xaml">
        <Application.Resources>
        </Application.Resources>
    </Application>
    """,
    (".", "App.xaml.cs"): """
    using System.Windows;

    namespace WpfFileMonitorApp
    {
        /// <summary>
        /// Interaction logic for App.xaml
        /// </summary>
        public partial class App : Application
        {
        }
    }
    """,

    # --- Strategies ---
    ("Strategies", "ILogSourceStrategy.cs"): """
    namespace WpfFileMonitorApp.Strategies
    {
        /// <summary>
        /// ëª¨ë‹ˆí„°ë§í•  íŒŒì¼ì˜ ê²½ë¡œë¥¼ ê²°ì •í•˜ëŠ” ì „ëµì— ëŒ€í•œ ì¸í„°í˜ì´ìŠ¤ì…ë‹ˆë‹¤.
        /// ê°ê¸° ë‹¤ë¥¸ ì¢…ë¥˜ì˜ ë¡œê·¸ ê²½ë¡œ íƒìƒ‰ ë¡œì§ì„ ìº¡ìŠí™”í•©ë‹ˆë‹¤.
        /// </summary>
        public interface ILogSourceStrategy
        {
            /// <summary>
            /// í˜„ì¬ ì‹œì ì—ì„œ ëª¨ë‹ˆí„°ë§í•´ì•¼ í•  ëŒ€ìƒ íŒŒì¼ì˜ ì „ì²´ ê²½ë¡œë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
            /// </summary>
            /// <returns>ëŒ€ìƒ íŒŒì¼ì˜ ê²½ë¡œ. íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìœ¼ë©´ nullì„ ë°˜í™˜í•©ë‹ˆë‹¤.</returns>
            string GetTargetFilePath();
        }
    }
    """,
    ("Strategies", "FixedPathStrategy.cs"): """
    namespace WpfFileMonitorApp.Strategies
    {
        /// <summary>
        /// ê³ ì •ëœ ë‹¨ì¼ íŒŒì¼ ê²½ë¡œë¥¼ ë°˜í™˜í•˜ëŠ” ì „ëµì…ë‹ˆë‹¤.
        /// </summary>
        public class FixedPathStrategy : ILogSourceStrategy
        {
            private readonly string _filePath;

            public FixedPathStrategy(string filePath)
            {
                _filePath = filePath;
            }

            public string GetTargetFilePath()
            {
                // ê³ ì •ëœ ê²½ë¡œë¥¼ ê·¸ëŒ€ë¡œ ë°˜í™˜í•©ë‹ˆë‹¤.
                return _filePath;
            }
        }
    }
    """,
    ("Strategies", "DynamicDailyPathStrategy.cs"): """
    using System;
    using System.IO;
    using System.Linq;

    namespace WpfFileMonitorApp.Strategies
    {
        /// <summary>
        /// 'yyyyMMdd' í˜•ì‹ì˜ í•˜ìœ„ í´ë”ì—ì„œ ê°€ì¥ ìµœê·¼ì— ìˆ˜ì •ëœ íŒŒì¼ì„ ì°¾ëŠ” ì „ëµì…ë‹ˆë‹¤.
        /// </summary>
        public class DynamicDailyPathStrategy : ILogSourceStrategy
        {
            private readonly string _baseDirectory;

            public DynamicDailyPathStrategy(string baseDirectory)
            {
                _baseDirectory = baseDirectory;
            }

            public string GetTargetFilePath()
            {
                try
                {
                    // 1. ì˜¤ëŠ˜ ë‚ ì§œë¥¼ ê¸°ì¤€ìœ¼ë¡œ í´ë” ê²½ë¡œë¥¼ ìƒì„±í•©ë‹ˆë‹¤. (ì˜ˆ: C:\\logs\\20250903)
                    string dailyFolderPath = Path.Combine(_baseDirectory, DateTime.Now.ToString("yyyyMMdd"));

                    if (!Directory.Exists(dailyFolderPath))
                    {
                        return null; // ì˜¤ëŠ˜ ë‚ ì§œì˜ í´ë”ê°€ ì—†ìœ¼ë©´ null ë°˜í™˜
                    }

                    // 2. í•´ë‹¹ í´ë” ë‚´ì˜ ëª¨ë“  íŒŒì¼ì„ ê°€ì ¸ì™€ ìµœê·¼ ìˆ˜ì •ëœ ìˆœì„œë¡œ ì •ë ¬í•©ë‹ˆë‹¤.
                    var directoryInfo = new DirectoryInfo(dailyFolderPath);
                    var latestFile = directoryInfo.GetFiles()
                        .OrderByDescending(f => f.LastWriteTime)
                        .FirstOrDefault();

                    // 3. ê°€ì¥ ìµœê·¼ íŒŒì¼ì˜ ì „ì²´ ê²½ë¡œë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤. íŒŒì¼ì´ ì—†ìœ¼ë©´ nullì´ ë°˜í™˜ë©ë‹ˆë‹¤.
                    return latestFile?.FullName;
                }
                catch (Exception)
                {
                    // ì‹¤ì œ êµ¬í˜„ ì‹œì—ëŠ” ë¡œê¹… ë¼ì´ë¸ŒëŸ¬ë¦¬(e.g., Serilog, NLog)ë¡œ ì˜ˆì™¸ë¥¼ ê¸°ë¡í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.
                    return null;
                }
            }
        }
    }
    """,

    # --- Models ---
    ("Models", "LogStatus.cs"): """
    using WpfFileMonitorApp.ViewModels; // ViewModelBase ì°¸ì¡°
    using System;

    namespace WpfFileMonitorApp.Models
    {
        /// <summary>
        /// ëª¨ë‹ˆí„°ë§ ëŒ€ìƒ ë¡œê·¸ íŒŒì¼ì˜ ìƒíƒœ ì •ë³´ë¥¼ ë‹´ëŠ” ëª¨ë¸ í´ë˜ìŠ¤ì…ë‹ˆë‹¤.
        /// UIì— ì§ì ‘ ë°”ì¸ë”©ë  ìˆ˜ ìˆë„ë¡ ViewModelBaseë¥¼ ìƒì†í•©ë‹ˆë‹¤.
        /// </summary>
        public class LogStatus : ViewModelBase
        {
            private string _logType;
            public string LogType
            {
                get => _logType;
                set => SetProperty(ref _logType, value);
            }

            private string _currentFilePath = "ëŒ€ê¸° ì¤‘...";
            public string CurrentFilePath
            {
                get => _currentFilePath;
                set => SetProperty(ref _currentFilePath, value);
            }

            private string _fileContent = "ë‚´ìš© ì—†ìŒ";
            public string FileContent
            {
                get => _fileContent;
                set => SetProperty(ref _fileContent, value);
            }

            private DateTime _lastCheckedTime;
            public DateTime LastCheckedTime
            {
                get => _lastCheckedTime;
                set => SetProperty(ref _lastCheckedTime, value);
            }
            
            // ë‚´ë¶€ì ìœ¼ë¡œ ë§ˆì§€ë§‰ìœ¼ë¡œ í™•ì¸í•œ íŒŒì¼ì˜ ìˆ˜ì • ì‹œê°„ì„ ì €ì¥í•˜ê¸° ìœ„í•œ ë³€ìˆ˜
            public DateTime LastKnownWriteTime { get; set; } = DateTime.MinValue;
        }
    }
    """,

    # --- Services ---
    ("Services", "FileMonitoringService.cs"): """
    using System;
    using System.IO;
    using System.Text;
    using System.Threading;
    using System.Threading.Tasks;
    using WpfFileMonitorApp.Models;
    using WpfFileMonitorApp.Strategies;

    namespace WpfFileMonitorApp.Services
    {
        /// <summary>
        /// ì§€ì •ëœ ë¡œê·¸ ì†ŒìŠ¤ë¥¼ ì£¼ê¸°ì ìœ¼ë¡œ í™•ì¸í•˜ì—¬ íŒŒì¼ ë³€ê²½ì„ ê°ì§€í•˜ê³  ë‚´ìš©ì„ ì½ì–´ì˜¤ëŠ” ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.
        /// </summary>
        public class FileMonitoringService
        {
            private readonly LogStatus _logStatus;
            private readonly ILogSourceStrategy _logSourceStrategy;

            public FileMonitoringService(LogStatus logStatus, ILogSourceStrategy logSourceStrategy)
            {
                _logStatus = logStatus;
                _logSourceStrategy = logSourceStrategy;
            }

            /// <summary>
            /// íŒŒì¼ ë³€ê²½ì„ ë¹„ë™ê¸°ì ìœ¼ë¡œ í™•ì¸í•˜ê³ , ë³€ê²½ì´ ê°ì§€ë˜ë©´ LogStatus ëª¨ë¸ì„ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤.
            /// </summary>
            public async Task CheckForUpdateAsync()
            {
                await Task.Run(() =>
                {
                    _logStatus.LastCheckedTime = DateTime.Now;

                    // 1. ì „ëµì„ ì‚¬ìš©í•˜ì—¬ í˜„ì¬ ëŒ€ìƒ íŒŒì¼ ê²½ë¡œë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.
                    string targetFilePath = _logSourceStrategy.GetTargetFilePath();

                    if (string.IsNullOrEmpty(targetFilePath) || !File.Exists(targetFilePath))
                    {
                        _logStatus.CurrentFilePath = "íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŒ";
                        return;
                    }
                    
                    _logStatus.CurrentFilePath = targetFilePath;

                    try
                    {
                        // 2. íŒŒì¼ì˜ ë§ˆì§€ë§‰ ìˆ˜ì • ì‹œê°„ì„ í™•ì¸í•©ë‹ˆë‹¤.
                        DateTime currentWriteTime = File.GetLastWriteTimeUtc(targetFilePath);

                        // 3. ì´ì „ì— ì €ì¥ëœ ìˆ˜ì • ì‹œê°„ë³´ë‹¤ ìµœì‹ ì¸ ê²½ìš°ì—ë§Œ íŒŒì¼ì„ ì½ìŠµë‹ˆë‹¤.
                        if (currentWriteTime > _logStatus.LastKnownWriteTime)
                        {
                            // 4. ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ê°€ íŒŒì¼ì„ ì‚¬ìš© ì¤‘ì¼ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ReadWrite ê³µìœ  ëª¨ë“œë¡œ íŒŒì¼ì„ ì—½ë‹ˆë‹¤.
                            using (var fileStream = new FileStream(targetFilePath, FileMode.Open, FileAccess.Read, FileShare.ReadWrite))
                            using (var reader = new StreamReader(fileStream, Encoding.Default)) // ì¸ì½”ë”©ì€ ì‹¤ì œ íŒŒì¼ì— ë§ê²Œ ì¡°ì •
                            {
                                _logStatus.FileContent = reader.ReadToEnd();
                            }
                            
                            // 5. ë§ˆì§€ë§‰ìœ¼ë¡œ í™•ì¸í•œ íŒŒì¼ì˜ ìˆ˜ì • ì‹œê°„ì„ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤.
                            _logStatus.LastKnownWriteTime = currentWriteTime;
                        }
                    }
                    catch (Exception ex)
                    {
                        // íŒŒì¼ ì ‘ê·¼ ì¤‘ ì˜¤ë¥˜ ë°œìƒ ì‹œ ìƒíƒœ ì—…ë°ì´íŠ¸ (ì˜ˆ: ì ‘ê·¼ ê¶Œí•œ ì—†ìŒ, íŒŒì¼ ì‚¬ìš© ì¤‘)
                        _logStatus.FileContent = $"ì˜¤ë¥˜: {ex.Message}";
                    }
                });
            }
        }
    }
    """,

    # --- ViewModels ---
    ("ViewModels", "ViewModelBase.cs"): """
    using System.Collections.Generic;
    using System.ComponentModel;
    using System.Runtime.CompilerServices;

    namespace WpfFileMonitorApp.ViewModels
    {
        public class ViewModelBase : INotifyPropertyChanged
        {
            public event PropertyChangedEventHandler PropertyChanged;

            protected virtual void OnPropertyChanged([CallerMemberName] string propertyName = null)
            {
                PropertyChanged?.Invoke(this, new PropertyChangedEventArgs(propertyName));
            }

            protected bool SetProperty<T>(ref T storage, T value, [CallerMemberName] string propertyName = null)
            {
                if (EqualityComparer<T>.Default.Equals(storage, value)) return false;
                storage = value;
                OnPropertyChanged(propertyName);
                return true;
            }
        }
    }
    """,
    ("ViewModels", "LogMonitorViewModel.cs"): """
    using System;
    using System.Collections.Generic;
    using System.Collections.ObjectModel;
    using System.Threading;
    using System.Threading.Tasks;
    using System.Windows;
    using WpfFileMonitorApp.Models;
    using WpfFileMonitorApp.Services;
    using WpfFileMonitorApp.Strategies;

    namespace WpfFileMonitorApp.ViewModels
    {
        public class LogMonitorViewModel : ViewModelBase
        {
            // UIì— ë°”ì¸ë”©í•  ë¡œê·¸ ìƒíƒœ ì •ë³´ ì»¬ë ‰ì…˜
            public ObservableCollection<LogStatus> MonitoredLogs { get; } = new ObservableCollection<LogStatus>();

            private readonly List<FileMonitoringService> _monitoringServices = new List<FileMonitoringService>();
            private Timer _timer;

            public LogMonitorViewModel()
            {
                InitializeMonitors();
                // 10ì´ˆ(10000ms)ë§ˆë‹¤ CheckAllFiles ë©”ì„œë“œë¥¼ ì‹¤í–‰í•˜ëŠ” íƒ€ì´ë¨¸ ì„¤ì •
                _timer = new Timer(CheckAllFiles, null, 0, 10000);
            }

            /// <summary>
            /// ëª¨ë‹ˆí„°ë§í•  ëŒ€ìƒë“¤ì„ ì´ˆê¸°í™”í•©ë‹ˆë‹¤.
            /// </summary>
            private void InitializeMonitors()
            {
                // --- ëª¨ë‹ˆí„°ë§ ëŒ€ìƒ ì„¤ì • (ê²½ë¡œëŠ” ì‹¤ì œ í™˜ê²½ì— ë§ê²Œ ìˆ˜ì •í•´ì•¼ í•©ë‹ˆë‹¤) ---

                // ëŒ€ìƒ 1: ê³ ì • ê²½ë¡œ ë¡œê·¸
                var logA_Status = new LogStatus { LogType = "System Log (ê³ ì •)" };
                var logA_Strategy = new FixedPathStrategy(@"C:\\SharedFolders\\System\\system.log");
                MonitoredLogs.Add(logA_Status);
                _monitoringServices.Add(new FileMonitoringService(logA_Status, logA_Strategy));

                // ëŒ€ìƒ 2: ë‹¤ë¥¸ ê³ ì • ê²½ë¡œ ë¡œê·¸
                var logB_Status = new LogStatus { LogType = "Application Log (ê³ ì •)" };
                var logB_Strategy = new FixedPathStrategy(@"D:\\AppData\\Shared\\app.log");
                MonitoredLogs.Add(logB_Status);
                _monitoringServices.Add(new FileMonitoringService(logB_Status, logB_Strategy));

                // ëŒ€ìƒ 3: ë‚ ì§œ ê¸°ë°˜ ë™ì  ê²½ë¡œ ë¡œê·¸
                var logC_Status = new LogStatus { LogType = "Daily Transaction Log (ë™ì )" };
                var logC_Strategy = new DynamicDailyPathStrategy(@"C:\\TransactionLogs\\"); // yyyyMMdd í´ë”ê°€ ìƒì„±ë˜ëŠ” ë¶€ëª¨ ê²½ë¡œ
                MonitoredLogs.Add(logC_Status);
                _monitoringServices.Add(new FileMonitoringService(logC_Status, logC_Strategy));
            }

            /// <summary>
            /// íƒ€ì´ë¨¸ì— ì˜í•´ ì£¼ê¸°ì ìœ¼ë¡œ í˜¸ì¶œë˜ëŠ” ë©”ì„œë“œì…ë‹ˆë‹¤.
            /// </summary>
            private void CheckAllFiles(object state)
            {
                // ê° ëª¨ë‹ˆí„°ë§ ì„œë¹„ìŠ¤ì— ëŒ€í•´ ë¹„ë™ê¸°ì ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë¥¼ í™•ì¸í•©ë‹ˆë‹¤.
                foreach (var service in _monitoringServices)
                {
                    _ = service.CheckForUpdateAsync();
                }
            }
            
            // ì• í”Œë¦¬ì¼€ì´ì…˜ ì¢…ë£Œ ì‹œ íƒ€ì´ë¨¸ ë¦¬ì†ŒìŠ¤ ì •ë¦¬ë¥¼ ìœ„í•´ í•„ìš”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
            public void Dispose()
            {
                _timer?.Dispose();
            }
        }
    }
    """,
    
    # --- Views ---
    ("Views", "MainWindow.xaml"): """
    <Window x:Class="WpfFileMonitorApp.Views.MainWindow"
            xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
            xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
            xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
            xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
            xmlns:local="clr-namespace:WpfFileMonitorApp.Views"
            xmlns:vm="clr-namespace:WpfFileMonitorApp.ViewModels"
            mc:Ignorable="d"
            Title="ì‹¤ì‹œê°„ íŒŒì¼ ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ" Height="450" Width="800">
        
        <Window.DataContext>
            <vm:LogMonitorViewModel/>
        </Window.DataContext>

        <Grid Margin="10">
            <ItemsControl ItemsSource="{Binding MonitoredLogs}">
                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <Border BorderBrush="Gray" BorderThickness="1" Margin="5" Padding="10">
                            <StackPanel>
                                <TextBlock Text="{Binding LogType}" FontWeight="Bold" FontSize="16" Margin="0,0,0,10"/>
                                
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>

                                    <TextBlock Grid.Row="0" Grid.Column="0" Text="íŒŒì¼ ê²½ë¡œ: " FontWeight="SemiBold"/>
                                    <TextBlock Grid.Row="0" Grid.Column="1" Text="{Binding CurrentFilePath}" TextTrimming="CharacterEllipsis"/>

                                    <TextBlock Grid.Row="1" Grid.Column="0" Text="ë§ˆì§€ë§‰ í™•ì¸: " FontWeight="SemiBold"/>
                                    <TextBlock Grid.Row="1" Grid.Column="1" Text="{Binding LastCheckedTime, StringFormat='yyyy-MM-dd HH:mm:ss'}"/>

                                    <TextBlock Grid.Row="2" Grid.Column="0" Text="íŒŒì¼ ë‚´ìš©: " FontWeight="SemiBold" VerticalAlignment="Top"/>
                                    <TextBox Grid.Row="2" Grid.Column="1" Text="{Binding FileContent, Mode=OneWay}" 
                                             IsReadOnly="True" Height="80" VerticalScrollBarVisibility="Auto" TextWrapping="Wrap"/>
                                </Grid>
                            </StackPanel>
                        </Border>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
        </Grid>
    </Window>
    """,
    ("Views", "MainWindow.xaml.cs"): """
    using System.Windows;

    namespace WpfFileMonitorApp.Views
    {
        /// <summary>
        /// MainWindow.xamlì— ëŒ€í•œ ìƒí˜¸ ì‘ìš© ë…¼ë¦¬
        /// </summary>
        public partial class MainWindow : Window
        {
            public MainWindow()
            {
                InitializeComponent();
            }
        }
    }
    """
}

def create_project_structure():
    """í”„ë¡œì íŠ¸ í´ë”ì™€ íŒŒì¼ êµ¬ì¡°ë¥¼ ìƒì„±í•©ë‹ˆë‹¤."""
    
    print(f"'{PROJECT_NAME}' í”„ë¡œì íŠ¸ ìƒì„±ì„ ì‹œì‘í•©ë‹ˆë‹¤...")
    
    # 1. ìµœìƒìœ„ í”„ë¡œì íŠ¸ í´ë” ìƒì„±
    if not os.path.exists(PROJECT_NAME):
        os.makedirs(PROJECT_NAME)
        print(f"í´ë” ìƒì„±: {PROJECT_NAME}")

    # 2. í•˜ìœ„ í´ë”ë“¤ ìƒì„±
    subdirectories = set(key[0] for key in file_contents.keys() if key[0] != ".")
    for subdir in subdirectories:
        dir_path = os.path.join(PROJECT_NAME, subdir)
        if not os.path.exists(dir_path):
            os.makedirs(dir_path)
            print(f"í´ë” ìƒì„±: {dir_path}")
            
    # 3. íŒŒì¼ ìƒì„± ë° ë‚´ìš© ì“°ê¸°
    for (subdir, filename), content in file_contents.items():
        # ìµœìƒìœ„ í´ë”ì— ìœ„ì¹˜í•  ê²½ìš°
        if subdir == ".":
            file_path = os.path.join(PROJECT_NAME, filename)
        else:
            file_path = os.path.join(PROJECT_NAME, subdir, filename)
        
        try:
            # textwrap.dedentë¥¼ ì‚¬ìš©í•˜ì—¬ ì½”ë“œ ì•ì˜ ê³µí†µëœ ë“¤ì—¬ì“°ê¸° ì œê±°
            with open(file_path, 'w', encoding='utf-8') as f:
                f.write(textwrap.dedent(content).strip())
            print(f"íŒŒì¼ ìƒì„±: {file_path}")
        except IOError as e:
            print(f"ì˜¤ë¥˜: '{file_path}' íŒŒì¼ ìƒì„±ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ({e})")
            
    print("\ní”„ë¡œì íŠ¸ ìƒì„±ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!")
    print(f"'{PROJECT_NAME}' í´ë”ë¡œ ì´ë™í•˜ì—¬ '{PROJECT_NAME}.csproj' íŒŒì¼ì„ Visual Studioë¡œ ì—´ì–´ì£¼ì„¸ìš”.")
    print("ì£¼ì˜: LogMonitorViewModel.cs íŒŒì¼ì˜ íŒŒì¼ ê²½ë¡œëŠ” ì‹¤ì œ í™˜ê²½ì— ë§ê²Œ ì§ì ‘ ìˆ˜ì •í•´ì•¼ í•©ë‹ˆë‹¤.")


if __name__ == "__main__":
    create_project_structure()

ğŸ“‹ ì‚¬ìš© ë°©ë²•
íŒŒì¼ ì €ì¥: ìœ„ì˜ ì½”ë“œë¥¼ create_wpf_project.py ë¼ëŠ” ì´ë¦„ìœ¼ë¡œ ì»´í“¨í„°ì˜ ì›í•˜ëŠ” ìœ„ì¹˜ì— ì €ì¥í•©ë‹ˆë‹¤.

ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰: í„°ë¯¸ë„(ëª…ë ¹ í”„ë¡¬í”„íŠ¸, PowerShell ë“±)ì„ ì—´ê³ , ì €ì¥ëœ íŒŒì¼ì´ ìˆëŠ” ìœ„ì¹˜ë¡œ ì´ë™í•œ ë’¤ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•˜ì—¬ ì‹¤í–‰í•©ë‹ˆë‹¤.

Bash

python create_wpf_project.py
ê²°ê³¼ í™•ì¸: ì‹¤í–‰ì´ ì™„ë£Œë˜ë©´ ìŠ¤í¬ë¦½íŠ¸ê°€ ìˆë˜ ìœ„ì¹˜ì— WpfFileMonitorApp í´ë”ê°€ ìƒì„±ë©ë‹ˆë‹¤. í•´ë‹¹ í´ë”ë¡œ ë“¤ì–´ê°€ WpfFileMonitorApp.csproj íŒŒì¼ì„ Visual Studioë¡œ ì—´ë©´ ë°”ë¡œ í”„ë¡œì íŠ¸ë¥¼ í™•ì¸í•˜ê³  ë¹Œë“œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ê²½ë¡œ ìˆ˜ì • (â—ì¤‘ìš”): Visual Studioì—ì„œ í”„ë¡œì íŠ¸ë¥¼ ì—° í›„, ViewModels/LogMonitorViewModel.cs íŒŒì¼ì„ ì—´ì–´ InitializeMonitors ë©”ì„œë“œ ì•ˆì— ìˆëŠ” íŒŒì¼ ê²½ë¡œë“¤ì„ ì‹¤ì œ ëª¨ë‹ˆí„°ë§í•  ê²½ë¡œë¡œ ìˆ˜ì •í•´ì•¼ ì •ìƒì ìœ¼ë¡œ ì‘ë™í•©ë‹ˆë‹¤.

C#

// ...
var logA_Strategy = new FixedPathStrategy(@"C:\\SharedFolders\\System\\system.log");
// ...
var logB_Strategy = new FixedPathStrategy(@"D:\\AppData\\Shared\\app.log");
// ...