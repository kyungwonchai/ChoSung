드 예시
csharp
코드 복사
public class ClassA : IStopResume
{
    private StopResumeManager _manager;

    public ClassA(StopResumeManager manager)
    {
        _manager = manager;  // 생성자로 받은 manager를 저장
    }

    public bool IsStopped { get; private set; }

    public void Stop()
    {
        IsStopped = true;
        Console.WriteLine("ClassA has stopped.");

        // 전달받은 manager의 StopAll() 호출
        _manager.StopAll();  // manager를 통해 다른 클래스들도 중단
    }

    public void Resume()
    {
        IsStopped = false;
        Console.WriteLine("ClassA has resumed.");

        // 전달받은 manager의 ResumeAll() 호출
        _manager.ResumeAll();  // manager를 통해 다른 클래스들도 재개
    }
}
MainViewModel에서 사용 예시
csharp
코드 복사
public class MainViewModel
{
    public void Run()
    {
        // StopResumeManager 인스턴스 생성
        StopResumeManager manager = new StopResumeManager();

        // 클래스 A와 B 인스턴스 생성
        ClassA classA = new ClassA(manager);
        ClassB classB = new ClassB(manager);

        // 클래스 A와 B를 구독자로 추가
        manager.Subscribe(classA);
        manager.Subscribe(classB);

        // ClassA에서 manager의 StopAll을 호출해도 문제 없음
        classA.Stop();  // ClassA에서 StopAll 호출 -> ClassB도 중단
    }
}
설명: