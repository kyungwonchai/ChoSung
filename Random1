ndows Server 2016에서 NTP 서버를 운영할 경우, NTP 클라이언트들이 서버와 시간을 동기화할 때 해당 동기화 이벤트에 대한 로그가 기본적으로 남지 않습니다. Windows는 이러한 세부적인 NTP 동기화 요청을 자동으로 로깅하지 않기 때문에, 클라이언트의 동기화 요청을 추적하려면 몇 가지 추가 설정이 필요합니다.

로깅 활성화 방법
Windows Time Service 디버깅 로그 활성화:

Windows Time 서비스(W32Time)의 디버깅 로그를 활성화하여, NTP 클라이언트 요청과 그 결과를 포함한 상세한 정보를 로그로 남길 수 있습니다. 이는 w32tm 명령어를 사용하여 설정할 수 있습니다.
다음 명령어로 로그를 활성화할 수 있습니다:

bash
코드 복사
w32tm /debug /enable /file:C:\Windows\Temp\w32time.log /size:10000000 /entries:0-300
이 명령은 C:\Windows\Temp\w32time.log 파일에 로그를 저장하고, 파일 크기가 10MB에 도달하면 새 파일로 롤오버합니다.

이벤트 뷰어에서 관련 로그 확인:

이벤트 뷰어(Event Viewer)에서도 Windows Time 서비스 관련 로그를 확인할 수 있습니다. 특히, 시스템 로그에서 'w32time' 소스의 이벤트를 확인할 수 있습니다. 이 로그는 서버 자체의 시간 동기화 작업에 대한 정보를 주로 제공합니다.
로그 내용
디버깅 로그: 로그 파일에는 NTP 요청의 시간, 요청한 클라이언트의 IP 주소, 동기화가 수행된 정확한 시간 등의 정보가 포함될 수 있습니다.
이벤트 뷰어: 동기화 시도, 성공 또는 실패 이벤트 등이 기록됩니다. 하지만 클라이언트의 요청에 대한 자세한 정보는 보통