QL에서 쿼리 실행 시간을 제한하려면 여러 방법이 있을 수 있습니다. 다음은 일부 설정 및 쿼리들입니다.

    max_execution_time 설정 (MySQL 5.7.8 이상):
    특정 쿼리의 최대 실행 시간을 제한하려면 다음과 같은 쿼리를 사용합니다.

    sql

SET SESSION max_execution_time=300000; -- 5분

이 설정은 현재 세션의 모든 SELECT 쿼리에 적용됩니다.

직접 쿼리에 적용:
특정 SELECT 쿼리에만 제한을 적용하려면 다음과 같이 작성합니다.

sql

SELECT /*+ MAX_EXECUTION_TIME(300000) */ * FROM your_table;

innodb_lock_wait_timeout 설정:
InnoDB 스토리지 엔진에서 대기하는 락의 최대 시간을 제한하려면 다음과 같이 설정합니다.

sql

SET GLOBAL innodb_lock_wait_timeout=300; -- 5분

wait_timeout 및 interactive_timeout 설정:
이 설정들은 클라이언트 연결의 비활성화 시간을 제어하므로, 적절히 조정해야 할 수 있습니다.

sql

SET GLOBAL wait_timeout=300; -- 5분
SET GLOBAL interactive_timeout=300; -- 5분

대기 시간 초과로 종료되는 쿼리 찾기:
현재 실행 중이거나 대기 시간 초과로 종료된 쿼리를 찾으려면 SHOW PROCESSLIST 명령을 사용합니다.

sql

    SHOW FULL PROCESSLIST;

다양한 시나리오에 따라 필요한 설정과 쿼리를 적용할 수 있으니, 원하는 동작에 따라 적절한 방법을 선택해 사용하시면 됩니다.
