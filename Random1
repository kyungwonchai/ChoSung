kinableFormì—ì„œ ë”ë¸” í´ë¦­ ë¬¸ì œê°€ ë°œìƒí•˜ëŠ” ì´ìœ ëŠ” DevExpressì—ì„œ ì œê³µí•˜ëŠ” í¼ì´ Windows ë©”ì‹œì§€ë¥¼ ì™„ì „íˆ ì œì–´í•˜ê³  ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ ë”ë¸” í´ë¦­ì€ WM_NCLBUTTONDBLCLK ë©”ì‹œì§€ë¡œ ì²˜ë¦¬ë˜ì§€ë§Œ, SkinableFormì—ì„œëŠ” ì´ ë©”ì‹œì§€ê°€ ì°¨ë‹¨ë˜ê±°ë‚˜ DevExpress ë‚´ë¶€ì ìœ¼ë¡œ ì²˜ë¦¬ë˜ë©´ì„œ ì •ìƒì ìœ¼ë¡œ ë™ì‘í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì§€ê¸ˆ ìƒí™©ì—ì„œ ìš°í´ë¦­ì€ ë°˜ì‘í•˜ì§€ë§Œ ì¢Œí´ë¦­ì€ ë°˜ì‘í•˜ì§€ ì•ŠëŠ” ë¬¸ì œë¥¼ í•´ê²°í•˜ë ¤ë©´, Windows ë©”ì‹œì§€ë¥¼ ê°•ì œë¡œ ì²˜ë¦¬í•˜ê±°ë‚˜ DevExpressì˜ ì´ë²¤íŠ¸ ë£¨í”„ë¥¼ ìš°íšŒí•˜ì—¬ ë”ë¸” í´ë¦­ì„ í™•ì‹¤íˆ ê°ì§€í•´ì•¼ í•©ë‹ˆë‹¤.

í•´ê²°ì±…: ê°•ì œ ë”ë¸” í´ë¦­ ì²˜ë¦¬
ì½”ë“œ êµ¬í˜„
ì•„ë˜ ì½”ë“œëŠ” Windows ë©”ì‹œì§€ ë° MouseEventArgsë¥¼ ê²°í•©í•˜ì—¬ ë”ë¸” í´ë¦­ì„ ì •í™•íˆ ì²˜ë¦¬í•©ë‹ˆë‹¤.

csharp
ì½”ë“œ ë³µì‚¬
using DevExpress.XtraEditors;
using System;
using System.Drawing;
using System.Windows.Forms;

public partial class MySkinableForm : XtraForm
{
    private SimpleButton minimizeButton;
    private SimpleButton maximizeButton;
    private SimpleButton closeButton;
    private Rectangle titleBarBounds; // íƒ€ì´í‹€ë°” ì˜ì—­
    private const int TitleBarHeight = 30;

    public MySkinableForm()
    {
        InitializeComponent();

        // ê¸°ë³¸ ì„¤ì •
        this.FormBorderStyle = FormBorderStyle.None; // ê¸°ë³¸ íƒ€ì´í‹€ë°” ì œê±°
        this.Padding = new Padding(0, TitleBarHeight, 0, 0); // íƒ€ì´í‹€ë°” ë†’ì´ í™•ë³´
        this.DoubleBuffered = true; // ê¹œë¹¡ì„ ë°©ì§€

        // íƒ€ì´í‹€ë°” ì˜ì—­ ì´ˆê¸°í™”
        titleBarBounds = new Rectangle(0, 0, this.Width, TitleBarHeight);

        // ë²„íŠ¼ ì¶”ê°€
        AddTitleBarButtons();

        // í¼ í¬ê¸° ë³€ê²½ ì‹œ íƒ€ì´í‹€ë°”ì™€ ë²„íŠ¼ ìœ„ì¹˜ ì—…ë°ì´íŠ¸
        this.SizeChanged += UpdateLayout;
    }

    private void AddTitleBarButtons()
    {
        // ìµœì†Œí™” ë²„íŠ¼
        minimizeButton = CreateButton("-", new Point(this.Width - 120, 5), MinimizeButton_Click);

        // ìµœëŒ€í™” ë²„íŠ¼
        maximizeButton = CreateButton("ğŸ—–", new Point(this.Width - 80, 5), MaximizeButton_Click);

        // ë‹«ê¸° ë²„íŠ¼
        closeButton = CreateButton("X", new Point(this.Width - 40, 5), CloseButton_Click);

        // ë²„íŠ¼ ì¶”ê°€
        this.Controls.Add(minimizeButton);
        this.Controls.Add(maximizeButton);
        this.Controls.Add(closeButton);
    }

    private SimpleButton CreateButton(string text, Point location, EventHandler clickHandler)
    {
        var button = new SimpleButton
        {
            Text = text,
            Size = new Size(30, 20),
            Location = location,
            ButtonStyle = DevExpress.XtraEditors.Controls.BorderStyles.NoBorder,
            Appearance =
            {
                BackColor = Color.LightGray,
                ForeColor = Color.Black
            }
        };
        button.Click += clickHandler; // í´ë¦­ ì´ë²¤íŠ¸ ë“±ë¡
        return button;
    }

    private void UpdateLayout(object sender, EventArgs e)
    {
        // ë²„íŠ¼ ìœ„ì¹˜ ì—…ë°ì´íŠ¸
        minimizeButton.Location = new Point(this.Width - 120, 5);
        maximizeButton.Location = new Point(this.Width - 80, 5);
        closeButton.Location = new Point(this.Width - 40, 5);
        titleBarBounds = new Rectangle(0, 0, this.Width, TitleBarHeight); // íƒ€ì´í‹€ë°” ì˜ì—­ ì¬ì„¤ì •
    }

    protected override void OnPaint(PaintEventArgs e)
    {
        base.OnPaint(e);

        // íƒ€ì´í‹€ë°” ë°°ê²½
        using (var brush = new SolidBrush(Color.SkyBlue))
        {
            e.Graphics.FillRectangle(brush, new Rectangle(0, 0, this.Width, TitleBarHeight));
        }

        // íƒ€ì´í‹€ë°” í…ìŠ¤íŠ¸
        using (var font = new Font("Arial", 12, FontStyle.Bold))
        using (var textBrush = new SolidBrush(Color.White))
        {
            e.Graphics.DrawString(this.Text, font, textBrush, new PointF(10, 7));
        }
    }

    protected override void WndProc(ref Message m)
    {
        base.WndProc(ref m);

        // ê°•ì œë¡œ ì¢Œí´ë¦­ ë”ë¸” í´ë¦­ ì²˜ë¦¬
        if (m.Msg == 0x203 && titleBarBounds.Contains(PointToClient(Cursor.Position))) // WM_LBUTTONDBLCLK
        {
            ToggleMaximizeRestore();
        }
    }

    private void ToggleMaximizeRestore()
    {
        if (this.WindowState == FormWindowState.Maximized)
        {
            this.WindowState = FormWindowState.Normal;
            maximizeButton.Text = "ğŸ—–"; // ìµœëŒ€í™” ì•„ì´ì½˜
        }
        else
        {
            this.WindowState = FormWindowState.Maximized;
            maximizeButton.Text = "ğŸ——"; // ë³µì› ì•„ì´ì½˜
        }
    }

    private void MinimizeButton_Click(object sender, EventArgs e)
    {
        this.WindowState = FormWindowState.Minimized; // ìµœì†Œí™”
    }

    private void MaximizeButton_Click(object sender, EventArgs e)
    {
        ToggleMaximizeRestore(); // ìµœëŒ€í™”/ë³µì›
    }

    private void CloseButton_Click(object sender, EventArgs e)
    {
        this.Close(); // ë‹«ê¸°
    }
}
í•µì‹¬ ë³€ê²½ ì‚¬í•­
ë”ë¸” í´ë¦­ ê°•ì œ ì²˜ë¦¬:

WndProcì—ì„œ WM_LBUTTONDBLCLK ë©”ì‹œì§€(ê°’: 0x203)ë¥¼ ê°ì§€.
ë”ë¸” í´ë¦­ì´ íƒ€ì´í‹€ë°” ì˜ì—­(titleBarBounds)ì—ì„œ ë°œìƒí–ˆëŠ”ì§€ í™•ì¸ í›„ ì°½ì˜ ìƒíƒœë¥¼ ì „í™˜.
íƒ€ì´í‹€ë°” ì¢Œí´ë¦­ ì´ë²¤íŠ¸ ì •ìƒí™”: