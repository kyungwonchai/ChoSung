당 오류는 /generate_qr/ URL 경로에 파일 이름이 포함되지 않아 발생하는 문제입니다. 버튼을 클릭할 때 파일 이름을 제대로 전달하지 않으면 Flask가 올바른 경로를 찾지 못하여 404 오류를 반환하게 됩니다.

문제 원인
onclick 이벤트에 사용된 showQR('{{ file }}') 부분에서 파일 이름이 제대로 전달되지 않거나, 버튼 클릭 시 올바른 파일 이름을 가져오지 못했을 수 있습니다.

수정 방법
Flask 라우트와 URL 경로 수정:
URL을 생성할 때, 파일 이름이 URL에 포함되어야 합니다.
URL 경로가 파일명을 포함하도록 generate_qr 함수와 HTML에서 URL 생성 방식을 수정해야 합니다.
수정된 코드
1. app.py 수정
app.py 코드 자체는 파일명을 URL로 잘 받고 있습니다. 그러나 서버 실행 중 404 오류가 발생하는 문제는 파일 이름을 포함하지 않았기 때문이므로, 수정된 코드로 별도의 조치는 필요하지 않습니다.

2. index.html 수정
HTML에서 파일명을 제대로 전달하여 URL을 생성하도록 수정합니다.

html
코드 복사
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>File List</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/bootstrap.min.css') }}">
    <style>
        .qr-image {
            width: 150px;
            height: 150px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>File List</h1>
        <p>Your IP: {{ client_ip }}</p>

        <table class="table table-striped">
            <thead>
                <tr>
                    <th>File Name</th>
                    <th>QR Code</th>
                </tr>
            </thead>
            <tbody>
                {% for file in files %}
                <tr>
                    <td>{{ file }}</td>
                    <td><button class="btn btn-primary" onclick="showQR('{{ file }}')">QR 보기</button></td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <!-- QR 코드 팝업 -->
    <div id="qrModal" class="modal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">QR Code</h5>
                    <button type="button" class="btn-close" onclick="hideQR()" aria-label="Close"></button>
                </div>
                <div class="modal-body text-center">
                    <img id="qrImage" src="" alt="QR Code" class="qr-image">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" onclick="hideQR()">Close</button>
                </div>
            </div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/bootstrap.bundle.min.js') }}"></script>
    <script>
        function showQR(filename) {
            // 파일 이름이 있는 QR 코드 이미지 URL 생성
            const qrImage = document.getElementById('qrImage');
            qrImage.src = `/generate_qr/${filename}`;  // 파일명을 URL에 포함
            const qrModal = new bootstrap.Modal(document.getElementById('qrModal'));
            qrModal.show();
        }

        function hideQR() {
            const qrModal = bootstrap.Modal.getInstance(document.getElementById('qrModal'));
            qrModal.hide();
        }
    </script>
</body>
</html>
주요 수정 사항
showQR 함수: showQR 함수에서 QR 코드 이미지를 가져올 때, 파일 이름을 URL에 제대로 포함시켜 qrImage.src = /generate_qr/${filename};로 설정하여 경로에 파일 이름이 포함되도록 수정했습니다.
실행 방법
Flask 애플리케이션 실행:

bash
코드 복사
python app.py
웹 브라우저에서 확인:

웹 브라우저에서 http://localhost:5000으로 접속하여, 파일 목록이 표시되고 각 파일의 "QR 보기" 버튼을 클릭하여 QR 코드가 제대로 표시되는지 확인합니다.
이 수정사항을 반영하면 파일 이름을 URL에 포함하여 QR 코드 이미지가 제대로 표시될 것