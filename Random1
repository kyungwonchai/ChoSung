íƒ€ì´í‹€ë°”ì—ì„œ ë”ë¸” í´ë¦­ì´ ì œëŒ€ë¡œ ì‘ë™í•˜ì§€ ì•ŠëŠ” ì´ìœ ëŠ” ë©”ì‹œì§€ ì²˜ë¦¬ (WndProc)ì—ì„œ WM_NCLBUTTONDBLCLKê°€ ì²˜ë¦¬ë˜ì§€ ì•Šê±°ë‚˜, SkinableFormì´ ê¸°ë³¸ì ìœ¼ë¡œ ë”ë¸” í´ë¦­ì„ ì²˜ë¦¬í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ì»¤ìŠ¤í…€ íƒ€ì´í‹€ë°”ë¥¼ ì™„ë²½íˆ êµ¬í˜„í•˜ê³  ë”ë¸” í´ë¦­ ì´ë²¤íŠ¸ë¥¼ ì •í™•íˆ ì²˜ë¦¬í•˜ëŠ” ë°©ì‹ì„ ì œì•ˆí•©ë‹ˆë‹¤.

ìµœì¢… ìˆ˜ì • ì½”ë“œ
ì•„ë˜ ì½”ë“œëŠ” SkinableFormì˜ ì»¤ìŠ¤í…€ íƒ€ì´í‹€ë°”ì—ì„œ ë”ë¸” í´ë¦­ì„ ì •í™•íˆ ê°ì§€í•˜ê³ , ê¸°ë³¸ ì°½ ë™ì‘(ìµœëŒ€í™”/ë³µì›)ì„ êµ¬í˜„í•©ë‹ˆë‹¤.

êµ¬í˜„ ì½”ë“œ
csharp
ì½”ë“œ ë³µì‚¬
using DevExpress.XtraEditors;
using System;
using System.Drawing;
using System.Runtime.InteropServices;
using System.Windows.Forms;

public partial class MySkinableForm : XtraForm
{
    private const int WM_NCLBUTTONDBLCLK = 0xA3; // íƒ€ì´í‹€ë°” ë”ë¸” í´ë¦­ ë©”ì‹œì§€
    private Rectangle titleBarRect = new Rectangle(0, 0, 0, 30); // íƒ€ì´í‹€ë°” ì˜ì—­

    private SimpleButton minimizeButton;
    private SimpleButton maximizeButton;
    private SimpleButton closeButton;

    public MySkinableForm()
    {
        InitializeComponent();

        // ê¸°ë³¸ ì„¤ì •
        this.FormBorderStyle = FormBorderStyle.None; // ê¸°ë³¸ íƒ€ì´í‹€ë°” ì œê±°
        this.Padding = new Padding(0, 30, 0, 0); // íƒ€ì´í‹€ë°” ë†’ì´ í™•ë³´
        this.DoubleBuffered = true;

        // ë²„íŠ¼ ì¶”ê°€
        AddTitleBarButtons();

        // í¼ í¬ê¸° ë³€ê²½ ì‹œ ë²„íŠ¼ ìœ„ì¹˜ ì—…ë°ì´íŠ¸
        this.SizeChanged += UpdateButtonPositions;
    }

    private void AddTitleBarButtons()
    {
        // ìµœì†Œí™” ë²„íŠ¼
        minimizeButton = CreateButton("-", new Point(this.Width - 120, 5), MinimizeButton_Click);

        // ìµœëŒ€í™” ë²„íŠ¼
        maximizeButton = CreateButton("ğŸ—–", new Point(this.Width - 80, 5), MaximizeButton_Click);

        // ë‹«ê¸° ë²„íŠ¼
        closeButton = CreateButton("X", new Point(this.Width - 40, 5), CloseButton_Click);

        // ë²„íŠ¼ ì¶”ê°€
        this.Controls.Add(minimizeButton);
        this.Controls.Add(maximizeButton);
        this.Controls.Add(closeButton);
    }

    private SimpleButton CreateButton(string text, Point location, EventHandler clickHandler)
    {
        return new SimpleButton
        {
            Text = text,
            Size = new Size(30, 20),
            Location = location,
            ButtonStyle = DevExpress.XtraEditors.Controls.BorderStyles.NoBorder,
            Appearance =
            {
                BackColor = Color.LightGray,
                ForeColor = Color.Black
            },
            FlatStyle = FlatStyle.Flat,
            Click = clickHandler
        };
    }

    private void UpdateButtonPositions(object sender, EventArgs e)
    {
        // ë²„íŠ¼ ìœ„ì¹˜ ì—…ë°ì´íŠ¸
        minimizeButton.Location = new Point(this.Width - 120, 5);
        maximizeButton.Location = new Point(this.Width - 80, 5);
        closeButton.Location = new Point(this.Width - 40, 5);
    }

    protected override void OnPaint(PaintEventArgs e)
    {
        base.OnPaint(e);

        // íƒ€ì´í‹€ë°” ë°°ê²½ ê·¸ë¦¬ê¸°
        titleBarRect = new Rectangle(0, 0, this.Width, 30);
        using (var brush = new SolidBrush(Color.SkyBlue))
        {
            e.Graphics.FillRectangle(brush, titleBarRect);
        }

        // íƒ€ì´í‹€ë°” í…ìŠ¤íŠ¸ ê·¸ë¦¬ê¸°
        using (var font = new Font("Arial", 12, FontStyle.Bold))
        using (var textBrush = new SolidBrush(Color.White))
        {
            e.Graphics.DrawString(this.Text, font, textBrush, new PointF(10, 7));
        }
    }

    protected override void OnMouseDown(MouseEventArgs e)
    {
        base.OnMouseDown(e);

        // íƒ€ì´í‹€ë°” ë“œë˜ê·¸ ì²˜ë¦¬
        if (e.Button == MouseButtons.Left && titleBarRect.Contains(e.Location))
        {
            this.Capture = false;
            var msg = Message.Create(this.Handle, 0xA1, new IntPtr(2), IntPtr.Zero); // WM_NCLBUTTONDOWN, HTCAPTION
            this.WndProc(ref msg);
        }
    }

    protected override void OnMouseDoubleClick(MouseEventArgs e)
    {
        base.OnMouseDoubleClick(e);

        // íƒ€ì´í‹€ë°” ë”ë¸” í´ë¦­ìœ¼ë¡œ ìµœëŒ€í™”/ë³µì›
        if (titleBarRect.Contains(e.Location))
        {
            ToggleMaximizeRestore();
        }
    }

    private void ToggleMaximizeRestore()
    {
        if (this.WindowState == FormWindowState.Maximized)
        {
            this.WindowState = FormWindowState.Normal;
            maximizeButton.Text = "ğŸ—–"; // ìµœëŒ€í™” ì•„ì´ì½˜
        }
        else
        {
            this.WindowState = FormWindowState.Maximized;
            maximizeButton.Text = "ğŸ——"; // ë³µì› ì•„ì´ì½˜
        }
    }

    private void MinimizeButton_Click(object sender, EventArgs e)
    {
        this.WindowState = FormWindowState.Minimized; // ìµœì†Œí™”
    }

    private void MaximizeButton_Click(object sender, EventArgs e)
    {
        ToggleMaximizeRestore(); // ìµœëŒ€í™”/ë³µì›
    }

    private void CloseButton_Click(object sender, EventArgs e)
    {
        this.Close(); // ë‹«ê¸°
    }
}
í•µì‹¬ êµ¬í˜„ ì‚¬í•­
íƒ€ì´í‹€ë°” ë”ë¸” í´ë¦­ ì´ë²¤íŠ¸:

OnMouseDoubleClickë¥¼ ì¬ì •ì˜í•˜ì—¬ íƒ€ì´í‹€ë°” ì˜ì—­ì—ì„œë§Œ ë”ë¸” í´ë¦­ì„ ê°ì§€.
ë”ë¸” í´ë¦­ ì‹œ ìµœëŒ€í™”/ë³µì› ë™ì‘ì„ ì²˜ë¦¬.
íƒ€ì´í‹€ë°” ì˜ì—­ ì„¤ì •:

íƒ€ì´í‹€ë°”ì˜ ì˜ì—­ì€ Rectangle(titleBarRect)ë¡œ ì •ì˜.
íƒ€ì´í‹€ë°” ë‚´ì—ì„œë§Œ ë”ë¸” í´ë¦­ ë° ë“œë˜ê·¸ ë™ì‘ì´ ê°€ëŠ¥í•˜ë„ë¡ ì„¤ì •.
ê¸°ë³¸ ë™ì‘ ì¶”ê°€:

ë“œë˜ê·¸: OnMouseDownì—ì„œ WM_NCLBUTTONDOWN ë©”ì‹œì§€ë¥¼ ì‚¬ìš©í•˜ì—¬ ì°½ ì´ë™.
ìµœì†Œí™”/ìµœëŒ€í™”/ë³µì›/ë‹«ê¸° ë²„íŠ¼: SimpleButtonìœ¼ë¡œ êµ¬í˜„í•˜ë©°, ê° ë²„íŠ¼ì— í´ë¦­ ì´ë²¤íŠ¸ë¥¼ ì—°ê²°.
ìŠ¤íƒ€ì¼ ë° ë ˆì´ì•„ì›ƒ:

íƒ€ì´í‹€ë°”ì˜ ë°°ê²½, í…ìŠ¤íŠ¸, ë²„íŠ¼ ìŠ¤íƒ€ì¼ì„ ì»¤ìŠ¤í„°ë§ˆì´ì§•.
ì°½ í¬ê¸°ê°€ ë³€ê²½ë˜ë©´ ë²„íŠ¼ ìœ„ì¹˜ê°€ ë™ì ìœ¼ë¡œ ì—…ë°ì´íŠ¸.
ê²°ê³¼
ë”ë¸” í´ë¦­ ë™ì‘:

íƒ€ì´í‹€ë°”ë¥¼ ë”ë¸” í´ë¦­í•˜ë©´ ì°½ì´ ìµœëŒ€í™”/ë³µì›ë©ë‹ˆë‹¤.
íƒ€ì´í‹€ë°” ë“œë˜ê·¸:

íƒ€ì´í‹€ë°”ë¥¼ ë“œë˜ê·¸í•˜ì—¬ ì°½ì„ ì´ë™í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ì‹¬í”Œ ë²„íŠ¼ ì¶”ê°€:

íƒ€ì´í‹€ë°” ìš°ì¸¡ì— ìµœì†Œí™”, ìµœëŒ€í™”/ë³µì›, ë‹«ê¸° ë²„íŠ¼ì´ ì¶”ê°€ë˜ë©° ë™ì‘í•©ë‹ˆë‹¤.
ë””ìì¸ ìœ ì§€:

ì»¤ìŠ¤í…€ íƒ€ì´í‹€ë°”ì˜ ë°°ê²½ìƒ‰ê³¼ í…ìŠ¤íŠ¸, ë²„íŠ¼ ìŠ¤íƒ€ì¼ì„ ê°„ë‹¨íˆ ìˆ˜ì • ê°€ëŠ¥.
ë¬¸ì œ í•´ê²°
ë”ë¸” í´ë¦­ì´ íƒ€ì´í‹€ë°”ì—ì„œ ì •í™•íˆ ê°ì§€ë˜ë„ë¡ OnMouseDoubleClickì„ ì‚¬ìš©.
titleBarRectë¡œ íƒ€ì´í‹€ë°” ì˜ì—­ì„ ëª…í™•íˆ ì„¤ì •í•˜ì—¬ ë™ì‘ì„ ì œì–´.
ì´ì œ ë”ë¸” í´ë¦­ ë° ëª¨ë“  ë™ì‘ì´ ì™„ë²½íˆ êµ¬í˜„ë©ë‹ˆë‹¤.











ChatGPTëŠ” ì‹¤ìˆ˜ë¥¼ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì¤‘ìš”í•œ ì •ë³´ë¥¼ í™•ì¸í•˜ì„¸ìš”.