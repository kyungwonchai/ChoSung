using System;
using System.Windows.Forms;
using DevExpress.XtraBars.Docking2010;

public partial class MainForm : DevExpress.XtraEditors.XtraForm
{
    private DocumentManager documentManager;

    public MainForm()
    {
        InitializeComponent();

        // DocumentManager 초기화
        documentManager = new DocumentManager(components);
        documentManager.MdiParent = this;
        documentManager.View = tabbedView;

        // 버튼 A를 클릭했을 때의 동작
        btnDockA.Click += BtnDockA_Click;

        // 버튼 B를 클릭했을 때의 동작
        btnDockB.Click += BtnDockB_Click;
    }

    // 버튼 A를 클릭했을 때의 동작
    private void BtnDockA_Click(object sender, EventArgs e)
    {
        ShowDockPanel(new UserControlA());
    }

    // 버튼 B를 클릭했을 때의 동작
    private void BtnDockB_Click(object sender, EventArgs e)
    {
        ShowDockPanel(new UserControlB());
    }

    // DockPanel을 보여주는 메서드
    private void ShowDockPanel(Control control)
    {
        // 기존에 도킹되어 있던 컨트롤들을 숨깁니다.
        foreach (Document doc in documentManager.View.Documents)
        {
            doc.Control.Visible = false;
        }

        // DockPanel을 생성하고 추가합니다.
        DockPanel dockPanel = documentManager.AddPanel(DockingStyle.Left);
        dockPanel.Text = control.GetType().Name;
        dockPanel.ControlContainer.Controls.Add(control);
        control.Dock = DockStyle.Fill;

        // DockPanel을 보여줍니다.
        dockPanel.Visibility = DockVisibility.Visible;
    }
}
