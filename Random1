ì˜¤ë¥˜ ì›ì¸: iterable argument is empty
ì˜¤ë¥˜ ë©”ì‹œì§€:

php
ì½”ë“œ ë³µì‚¬
iterable argument is empty
ì´ ì˜¤ë¥˜ëŠ” fetch_main_data() í•¨ìˆ˜ì—ì„œ SQL í”„ë¡œì‹œì €ê°€ ë°ì´í„°ë¥¼ ë°˜í™˜í•˜ì§€ ì•Šì•˜ì„ ë•Œ ë°œìƒí•©ë‹ˆë‹¤.
ì¦‰, cursor.fetchall() í˜¸ì¶œ ì‹œ ë°ì´í„°ê°€ ì—†ëŠ” ê²½ìš° ë¹ˆ ë¦¬ìŠ¤íŠ¸ ([])ê°€ ë°˜í™˜ë©ë‹ˆë‹¤.
max() í•¨ìˆ˜ëŠ” ë¹ˆ ë¦¬ìŠ¤íŠ¸ë¥¼ ì¸ìˆ˜ë¡œ ë°›ì§€ ëª»í•˜ë¯€ë¡œ ì´ ì˜¤ë¥˜ê°€ ë°œìƒí•©ë‹ˆë‹¤.

ğŸ“Œ ì˜¤ë¥˜ ì›ì¸ ì ê²€ ë° í•´ê²° ë°©ë²•
í”„ë¡œì‹œì €ê°€ ë°ì´í„°ë¥¼ ë°˜í™˜í•˜ì§€ ì•ŠëŠ” ê²½ìš°

ë°ì´í„°ë² ì´ìŠ¤ì— ìˆëŠ” í”„ë¡œì‹œì €ê°€ ì •í™•íˆ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”.

ì˜ˆë¥¼ ë“¤ì–´, ë°ì´í„°ê°€ ì—†ê±°ë‚˜ í”„ë¡œì‹œì € ì½”ë“œê°€ ì˜ëª» ì‘ì„±ë˜ì—ˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

í”„ë¡œì‹œì €ê°€ ì œëŒ€ë¡œ ë°ì´í„°ë¥¼ ë°˜í™˜í•˜ëŠ”ì§€ í™•ì¸í•˜ê¸° (SQL Server Management Studio)

sql
ì½”ë“œ ë³µì‚¬
EXEC Get_min_bestdifferent;
ê²°ê³¼ê°€ ë°˜í™˜ë˜ëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”.

ê²°ê³¼ê°€ ì—†ë‹¤ë©´ í”„ë¡œì‹œì €ë¥¼ ìˆ˜ì •í•´ì•¼ í•©ë‹ˆë‹¤.

ë¹ˆ ë¦¬ìŠ¤íŠ¸ì¼ ê²½ìš° ì²˜ë¦¬ ì¶”ê°€í•˜ê¸°

ë°ì´í„°ê°€ ì—†ì„ ë•Œ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì§€ ì•Šë„ë¡ ì½”ë“œë¥¼ ìˆ˜ì •í•©ë‹ˆë‹¤.

âœ… ìˆ˜ì •ëœ ì½”ë“œ (ì˜ˆì™¸ ì²˜ë¦¬ ì¶”ê°€)
python
ì½”ë“œ ë³µì‚¬
import streamlit as st
import pymssql

# MSSQL ì„œë²„ ì—°ê²° ì„¤ì • í•¨ìˆ˜
def get_connection():
    try:
        conn = pymssql.connect(
            server="YOUR_SERVER",
            user="YOUR_USER",
            password="YOUR_PASSWORD",
            database="YOUR_DATABASE"
        )
        return conn
    except Exception as e:
        st.error(f"Database connection failed: {e}")
        return None

# Get_min_bestdifferent í”„ë¡œì‹œì € í˜¸ì¶œ í•¨ìˆ˜ (cursor.fetchall() ë°©ì‹)
def fetch_main_data():
    conn = get_connection()
    if conn is None:
        return None, None  # ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì‹¤íŒ¨ ì‹œ

    try:
        cursor = conn.cursor()
        cursor.execute("EXEC Get_min_bestdifferent")
        
        # ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
        rows = cursor.fetchall()
        
        # ì»¬ëŸ¼ ì´ë¦„ ê°€ì ¸ì˜¤ê¸°
        columns = [desc[0] for desc in cursor.description]
        
        conn.close()
        
        if not rows:  # rowsê°€ ë¹„ì–´ ìˆëŠ” ê²½ìš° ì²˜ë¦¬
            st.warning("No data returned from the procedure.")
            return None, None
        
        return rows, columns
    except Exception as e:
        st.error(f"Failed to fetch data: {e}")
        return None, None

# í…Œì´ë¸”ì—ì„œ ìµœëŒ€ê°’ì„ ë…¸ë€ìƒ‰ìœ¼ë¡œ ê°•ì¡°í•˜ëŠ” HTML ìŠ¤íƒ€ì¼ í•¨ìˆ˜
def generate_html_table(data, columns):
    if data is None or columns is None:
        return "<p>No data to display</p>"
    
    html = "<table border='1' style='width:100%; border-collapse: collapse;'>"
    html += "<thead><tr>"
    for col in columns:
        html += f"<th>{col}</th>"
    html += "</tr></thead><tbody>"

    act2_columns = [f'act2_{i}' for i in range(1, 9)]

    # ë°ì´í„° ë Œë”ë§
    for row in data:
        html += "<tr>"
        
        # act2_1 ~ act2_8 ê°’ ì¤‘ ìµœëŒ€ê°’ ì°¾ê¸°
        act2_values = {col: row[idx] for idx, col in enumerate(columns) if col in act2_columns}
        
        if act2_values:  # act2_valuesê°€ ë¹„ì–´ìˆì§€ ì•Šì€ ê²½ìš°ë§Œ ì²˜ë¦¬
            try:
                max_value = max(act2_values.values())
            except ValueError:
                max_value = None
        else:
            max_value = None

        for idx, value in enumerate(row):
            column_name = columns[idx]
            if column_name in act2_columns and value == max_value:
                html += f"<td style='background-color: yellow;'>{value}</td>"
            else:
                html += f"<td>{value}</td>"
        html += "</tr>"

    html += "</tbody></table>"
    return html

# Streamlit ì•± êµ¬ì„±
def main():
    st.set_page_config(layout="wide")
    st.title("Ranked Data Table - act2_1 ~ act2_8 Highlighting (Cursor ë°©ì‹)")

    # ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
    data, columns = fetch_main_data()
    
    if data is None or columns is None:
        st.error("Failed to load data. Please check your database connection or procedure.")
    else:
        st.subheader("act2_1 ~ act2_8 ë°ì´í„° í…Œì´ë¸”")
        
        # HTML í…Œì´ë¸” ìƒì„± ë° í‘œì‹œ
        html_table = generate_html_table(data, columns)
        st.markdown(html_table, unsafe_allow_html=True)

if __name__ == "__main__":
    main()
ğŸ“Œ ì½”ë“œ ì„¤ëª… (ì˜¤ë¥˜ ë°©ì§€ ì¶”ê°€)
ë¹ˆ ë°ì´í„° ì²˜ë¦¬

ë°ì´í„°ë² ì´ìŠ¤ ì¡°íšŒ ê²°ê³¼ê°€ ì—†ì„ ë•Œ fetch_main_data() í•¨ìˆ˜ê°€ Noneì„ ë°˜í™˜í•©ë‹ˆë‹¤.

Streamlitì—ì„œ ê²½ê³  ë©”ì‹œì§€ë¥¼ í‘œì‹œí•˜ì—¬ ì‚¬ìš©ìê°€ ë¬¸ì œë¥¼ í™•ì¸í•  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.

act2_valuesê°€ ë¹„ì–´ìˆëŠ” ê²½ìš° ì˜ˆì™¸ ì²˜ë¦¬

max() í˜¸ì¶œ ì „ì— act2_valuesê°€ ë¹„ì–´ ìˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.