ë„¤, CroppedBitmapì„ ë‘ ë²ˆ ì´ìƒ í˜¸ì¶œí•  ë•Œ ì—ëŸ¬ë‚˜ ë©”ëª¨ë¦¬ ì´ˆê³¼ê°€ ë°œìƒí•˜ëŠ” ê²ƒì€ ë§¤ìš° í”í•œ ë¬¸ì œì…ë‹ˆë‹¤. ì›ì¸ì€ ì˜ëª»ëœ ì›ë³¸ì„ ë‹¤ì‹œ ìë¥´ë ¤ê³  ì‹œë„í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.

CroppedBitmapì€ ì›ë³¸ ì´ë¯¸ì§€ì˜ í”½ì…€ ë°ì´í„°ë¥¼ ë³µì‚¬í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ì›ë³¸ì„ ì°¸ì¡°í•˜ë©° 'ì´ ì˜ì—­ë§Œ ë³´ì—¬ì¤˜' ë¼ê³  ì•Œë ¤ì£¼ëŠ” ì¼ì¢…ì˜ 'ë·°(View)' ë˜ëŠ” 'í¬ì¸í„°'ì…ë‹ˆë‹¤.

## ë¬¸ì œ ìƒí™©
ì²« ë²ˆì§¸ ìë¥´ê¸° (ì„±ê³µ)

originalImage (1000x1000 í”½ì…€)ê°€ ìˆìŠµë‹ˆë‹¤.

cropArea (x=0, y=0, ë„ˆë¹„=200, ë†’ì´=200)ë¡œ ìë¦…ë‹ˆë‹¤.

croppedImage1 ê°ì²´ê°€ ìƒì„±ë©ë‹ˆë‹¤. ì´ ê°ì²´ì˜ í¬ê¸°ëŠ” 200x200 ì…ë‹ˆë‹¤.

C#

// ì²˜ìŒì—ëŠ” ì›ë³¸(originalImage)ì—ì„œ ìë¥´ë¯€ë¡œ ì„±ê³µ
CroppedBitmap croppedImage1 = new CroppedBitmap(originalImage, cropArea);
imageControl.Source = croppedImage1;
ë‘ ë²ˆì§¸ ìë¥´ê¸° (ì‹¤íŒ¨)

ë§Œì•½ imageControl.Sourceë¥¼ ë‹¤ì‹œ ì›ë³¸ìœ¼ë¡œ ì‚¬ìš©í•˜ë ¤ê³  í•˜ë©´, ì´ì œ ì†ŒìŠ¤ëŠ” 200x200 í¬ê¸°ì˜ croppedImage1ì´ ë©ë‹ˆë‹¤.

ì—¬ê¸°ì— ë˜‘ê°™ì€ cropArea (200x200)ë¥¼ ì ìš©í•˜ë©´ ë¬¸ì œê°€ ì—†ì§€ë§Œ, ë‹¤ë¥¸ ì˜ì—­ (ì˜ˆ: x=300)ì„ ìë¥´ë ¤ê³  í•˜ë©´ 200x200 ì´ë¯¸ì§€ì— 300ë²ˆ í”½ì…€ì€ ì¡´ì¬í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ "ê°’ì´ ì˜ˆìƒ ë²”ìœ„ë¥¼ ë²—ì–´ë‚¬ìŠµë‹ˆë‹¤" (ArgumentException) ì˜¤ë¥˜ê°€ ë°œìƒí•©ë‹ˆë‹¤.

ì´ ê³¼ì •ì—ì„œ ì´ì „ ë¹„íŠ¸ë§µ ë¦¬ì†ŒìŠ¤ê°€ ì œëŒ€ë¡œ í•´ì œë˜ì§€ ì•Šìœ¼ë©´ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì´ ê³„ì† ëŠ˜ì–´ë‚˜ ë©”ëª¨ë¦¬ ì´ˆê³¼(OutOfMemoryException)ë¡œ ì´ì–´ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## í•´ê²° ë°©ë²•
í•µì‹¬ì€ í•­ìƒ ì›ë³¸(Original) ì´ë¯¸ì§€ë¥¼ ë³´ê´€í•˜ê³ , ëª¨ë“  ìë¥´ê¸° ì‘ì—…ì€ ê·¸ ì›ë³¸ìœ¼ë¡œë¶€í„° ìˆ˜í–‰í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.

ì˜¬ë°”ë¥¸ ì½”ë“œ ë¡œì§:

í´ë˜ìŠ¤ ìˆ˜ì¤€ì— ì›ë³¸ ì´ë¯¸ì§€ë¥¼ ì €ì¥í•  ë©¤ë²„ ë³€ìˆ˜ë¥¼ ì„ ì–¸í•©ë‹ˆë‹¤.

ì´ë¯¸ì§€ë¥¼ ì²˜ìŒ ë¡œë“œí•  ë•Œ ì´ ë³€ìˆ˜ì— ì €ì¥í•©ë‹ˆë‹¤.

ë²„íŠ¼ì„ í´ë¦­í•˜ëŠ” ë“± ìë¥´ê¸° ì‘ì—…ì„ í•  ë•Œë§ˆë‹¤, í•­ìƒ ì´ ì›ë³¸ ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ CroppedBitmapì„ ìƒì„±í•©ë‹ˆë‹¤.

ì½”ë“œ ì˜ˆì‹œ:

C#

// ğŸ’¡ 1. ì›ë³¸ ì´ë¯¸ì§€ë¥¼ ì €ì¥í•  í´ë˜ìŠ¤ ë©¤ë²„ ë³€ìˆ˜
private BitmapImage originalBitmapImage;

// í”„ë¡œê·¸ë¨ ì‹œì‘ ì‹œ ë˜ëŠ” íŒŒì¼ ì—´ê¸° ì‹œ í•œ ë²ˆë§Œ í˜¸ì¶œ
private void LoadOriginalImage()
{
    // 2. íŒŒì¼ì—ì„œ ì›ë³¸ ì´ë¯¸ì§€ë¥¼ ë¡œë“œí•˜ì—¬ ë³€ìˆ˜ì— ì €ì¥
    originalBitmapImage = new BitmapImage();
    originalBitmapImage.BeginInit();
    originalBitmapImage.UriSource = new Uri("C:\\path\\to\\your_image.png");
    // CacheOption.OnLoadëŠ” ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ë°©ì§€ì— ë§¤ìš° ì¤‘ìš”í•©ë‹ˆë‹¤.
    originalBitmapImage.CacheOption = BitmapCacheOption.OnLoad;
    originalBitmapImage.EndInit();
    originalBitmapImage.Freeze(); // UI ìŠ¤ë ˆë“œ ê°„ ì¶©ëŒ ë°©ì§€

    // í™”ë©´ì— ì´ˆê¸° ì´ë¯¸ì§€ í‘œì‹œ
    imageControl.Source = originalBitmapImage;
}

// ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸ ë“± ìë¥´ê¸°ê°€ í•„ìš”í•  ë•Œë§ˆë‹¤ í˜¸ì¶œ
private void CropImageButton_Click(object sender, RoutedEventArgs e)
{
    if (originalBitmapImage == null) return; // ì›ë³¸ì´ ì—†ìœ¼ë©´ ì‹¤í–‰í•˜ì§€ ì•ŠìŒ

    // ìë¥¼ ì˜ì—­ì„ ì •ì˜ (ì˜ˆ: (10, 10)ì—ì„œ 100x100 í¬ê¸°)
    Int32Rect cropArea = new Int32Rect(10, 10, 100, 100);

    // ê°’ì˜ ìœ íš¨ì„± ê²€ì‚¬ (ë§¤ìš° ì¤‘ìš”)
    if (cropArea.X + cropArea.Width > originalBitmapImage.PixelWidth || 
        cropArea.Y + cropArea.Height > originalBitmapImage.PixelHeight)
    {
        MessageBox.Show("ìë¥´ê¸° ì˜ì—­ì´ ì›ë³¸ ì´ë¯¸ì§€ í¬ê¸°ë¥¼ ë²—ì–´ë‚¬ìŠµë‹ˆë‹¤.");
        return;
    }

    // 3. â˜…â˜…â˜… í•­ìƒ 'originalBitmapImage'ì—ì„œ ìë¥´ê¸° â˜…â˜…â˜…
    CroppedBitmap croppedResult = new CroppedBitmap(originalBitmapImage, cropArea);

    // ê²°ê³¼ë¥¼ í™”ë©´ì— í‘œì‹œ
    imageControl.Source = croppedResult;