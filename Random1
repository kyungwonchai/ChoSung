public static async Task<(string, string)> SendMail(string userId, string subject, string contents, string senderEmailAddress, string recipientEmailAddress)
{
    if (string.IsNullOrEmpty(subject) || string.IsNullOrEmpty(contents))
    {
        Console.WriteLine("Some required values are missing. Please provide both subject and contents.");
        return (null, null);
    }

    client.DefaultRequestHeaders.Clear();
    client.DefaultRequestHeaders.Add("System-ID", systemId);
    client.DefaultRequestHeaders.Add("Authorization", $"Bearer {accessToken}");

    var requestData = new
    {
        body = new
        {
            subject,
            contents,
            contentType = "Text",
            sender = new
            {
                emailAddress = senderEmailAddress,
                recipientType = "TO"
            },
            recipients = new[]
            {
                new
                {
                    emailAddress = recipientEmailAddress,
                    recipientType = "TO"
                }
            }
        },
        docSecuType = "personal"
    };

    var jsonPayload = Newtonsoft.Json.JsonConvert.SerializeObject(requestData);

    Console.WriteLine("메일 요청 데이터:");
    Console.WriteLine(jsonPayload);

    var requestUrl = $"{apiUrl}/mails/send?userId={userId}";

    var content = new StringContent(jsonPayload, Encoding.UTF8, "application/json");
    var response = await client.PostAsync(requestUrl, content);

    // 이후의 처리는 동일하게 유지합니다...
}
