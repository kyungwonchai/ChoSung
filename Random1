우 11에서 Ubuntu의 SMB 공유 폴더에 접근하지 못하는 문제 해결 가이드
Windows 11에서 Ubuntu의 smbd로 공유 폴더 접근을 시도할 때 '엑세스할 수 없다'는 오류가 발생할 수 있습니다. 문제를 해결하기 위해 아래 단계들을 하나하나 따라하세요.

1. Ubuntu에서 SMB 서비스 설정 확인하기
1.1 SMB 설치 여부 확인
bash
코드 복사
sudo apt list --installed | grep samba
설치되어 있지 않다면 설치하세요:

bash
코드 복사
sudo apt update
sudo apt install samba
1.2 SMB 서비스 활성화 확인
bash
코드 복사
sudo systemctl status smbd
출력 예시:

yaml
코드 복사
● smbd.service - Samba SMB Daemon
     Loaded: loaded (/lib/systemd/system/smbd.service; enabled; vendor preset: enabled)
     Active: active (running)
정상 작동 중이어야 합니다. 만약 동작하지 않는다면:

bash
코드 복사
sudo systemctl enable smbd
sudo systemctl start smbd
1.3 Samba 설정 파일 확인 (/etc/samba/smb.conf)
파일을 열어 편집합니다.

bash
코드 복사
sudo nano /etc/samba/smb.conf
공유 폴더 설정을 추가하세요. 예시:

ini
코드 복사
[shared]
   path = /path/to/your/shared/folder
   browseable = yes
   read only = no
   writable = yes
   guest ok = yes
   force user = yourusername
폴더 경로 권한 확인:

bash
코드 복사
sudo chmod -R 777 /path/to/your/shared/folder
sudo chown -R yourusername:yourgroup /path/to/your/shared/folder
2. 사용자 및 계정 설정 확인하기
2.1 Samba 사용자 추가
bash
코드 복사
sudo smbpasswd -a yourusername
패스워드를 입력하고 설정합니다.

2.2 Samba 서비스 재시작
bash
코드 복사
sudo systemctl restart smbd
sudo systemctl restart nmbd
3. 방화벽 설정 확인 (Ubuntu 측)
Ubuntu 방화벽이 문제를 일으킬 수 있습니다. 다음을 확인하세요:

3.1 UFW 방화벽 상태 확인
bash
코드 복사
sudo ufw status
만약 활성화되어 있다면, Samba 포트를 열어주세요:

bash
코드 복사
sudo ufw allow 137/udp
sudo ufw allow 138/udp
sudo ufw allow 139/tcp
sudo ufw allow 445/tcp
또는 전체 허용:

bash
코드 복사
sudo ufw allow samba
3.2 방화벽 다시 확인
bash
코드 복사
sudo ufw status
4. Windows 11 설정 확인하기
4.1 SMB1.0 활성화 확인 (비추천)
Windows 11에서 SMB1.0이 기본으로 비활성화되어 있습니다.

제어판 > 프로그램 및 기능 > Windows 기능 켜기/끄기

SMB 1.0/CIFS File Sharing Support 체크 활성화

재부팅

4.2 네트워크 검색 및 파일 공유 설정
제어판 > 네트워크 및 인터넷 > 네트워크 및 공유 센터 > 고급 공유 설정

네트워크 검색 켜기, 파일 및 프린터 공유 켜기

암호 보호된 공유 끄기로 설정 (필요시)

5. 접근 시도하기 (Windows 11에서)
윈도우 파일 탐색기 열기

주소창에 \\Ubuntu_IP_Address\shared 입력 (예: \\192.168.1.10\shared)

Samba 사용자 이름과 비밀번호 입력

6. 문제 발생 시 추가 확인 사항
Ubuntu의 SMB 포트가 열려 있는지 확인하기

bash
코드 복사
sudo netstat -anp | grep 'smbd'
포트 139, 445가 활성화되어 있어야 합니다.

Windows에서 Ubuntu로 Ping 테스트

bash
코드 복사
ping 192.168.1.10  (Ubuntu의 IP 주소)
Ping이 통과되면 네트워크 연결은 문제 없음.

7. 추가 설정
만약 모든 설정을 했는데도 안 된다면, Ubuntu 쪽에서 설정 파일을 확인하세요.

bash
코드 복사
testparm
Samba 설정 파일에 오류가 있는지 확인해줍니다.

중요 사항
폴더 경로의 권한 (777) 확인을 완료하셨다면 설정에는 문제가 없을 가능성이 큽니다.

Windows 보안 정책이나 Ubuntu의 smbd 설정 문제일 수 있습니다.