#ì—ì„œ ê¸°ì¡´ í•¨ìˆ˜ë“¤ì„ ê·¸ëŒ€ë¡œ ìœ ì§€í•˜ë©´ì„œ, 10ë¶„ë§ˆë‹¤ ì‹¤í–‰ë˜ì§€ë§Œ ì´ì „ ì‹¤í–‰ì´ ëë‚˜ì§€ ì•Šì•˜ìœ¼ë©´ ê¸°ë‹¤ë ¸ë‹¤ê°€ ë‹¤ì‹œ ì‹¤í–‰í•˜ëŠ” ì½”ë“œë¥¼ êµ¬í˜„í•˜ë ¤ë©´, Taskì™€ Timerë¥¼ ì ì ˆíˆ ì¡°í•©í•´ì•¼ í•©ë‹ˆë‹¤.

âœ… í•µì‹¬ ìš”êµ¬ì‚¬í•­
âœ” ê¸°ì¡´ í•¨ìˆ˜ ê·¸ëŒ€ë¡œ ìœ ì§€
âœ” 10ë¶„ë§ˆë‹¤ ì‹¤í–‰, í•˜ì§€ë§Œ ì´ì „ ì‹¤í–‰ì´ ëë‚˜ì§€ ì•Šì•˜ìœ¼ë©´ ë‹¤ìŒ ì‹¤í–‰ì„ ë³´ë¥˜
âœ” ë¹„ë™ê¸° (async/await) ë°©ì‹ìœ¼ë¡œ ì‹¤í–‰
âœ” í´ë˜ìŠ¤ ìƒì„± ì—†ì´ í˜„ì¬ ì½”ë“œì— ë°”ë¡œ ì ìš© ê°€ëŠ¥

âœ… C# ê¸°ì¡´ ì½”ë“œì—ì„œ ì ìš© ê°€ëŠ¥í•œ ë¹„ë™ê¸° íƒ€ì´ë¨¸
csharp
ì½”ë“œ ë³µì‚¬
using System;
using System.Threading;
using System.Threading.Tasks;

class Program
{
    private static Timer _timer;
    private static bool _isRunning = false; // ì‹¤í–‰ ìƒíƒœ ì²´í¬
    private static readonly object _lock = new object(); // ë‹¤ì¤‘ ì‹¤í–‰ ë°©ì§€

    static async Task Main()
    {
        Console.WriteLine("Timer ì‹œì‘...");
        StartTimer();

        // í”„ë¡œê·¸ë¨ ìœ ì§€ (Ctrl + Cë¡œ ì¢…ë£Œ)
        await Task.Delay(Timeout.Infinite);
    }

    private static void StartTimer()
    {
        _timer = new Timer(async _ => await CheckAndRunTask(), null, 0, 600000); // 10ë¶„ë§ˆë‹¤ ì‹¤í–‰
    }

    private static async Task CheckAndRunTask()
    {
        lock (_lock)
        {
            if (_isRunning)
            {
                Console.WriteLine($"{DateTime.Now:HH:mm:ss} - ì´ì „ ì‹¤í–‰ì´ ëë‚˜ì§€ ì•ŠìŒ, ë‹¤ìŒ ì‹¤í–‰ ëŒ€ê¸°...");
                return;
            }
            _isRunning = true;
        }

        try
        {
            Console.WriteLine($"{DateTime.Now:HH:mm:ss} - ì‘ì—… ì‹œì‘");
            await RunTaskAsync(); // ê¸°ì¡´ í•¨ìˆ˜ í˜¸ì¶œ
            Console.WriteLine($"{DateTime.Now:HH:mm:ss} - ì‘ì—… ì™„ë£Œ");
        }
        catch (Exception ex)
        {
            Console.WriteLine($"ì˜¤ë¥˜ ë°œìƒ: {ex.Message}");
        }
        finally
        {
            _isRunning = false; // ì‹¤í–‰ ì™„ë£Œ í›„ ìƒíƒœ ë³€ê²½
        }
    }

    private static async Task RunTaskAsync()
    {
        // âš¡ ê¸°ì¡´ í•¨ìˆ˜ (10ë¶„ë§ˆë‹¤ ì‹¤í–‰ë  ë‚´ìš©)
        Console.WriteLine($"{DateTime.Now:HH:mm:ss} - ê¸°ì¡´ ì‘ì—… ì‹¤í–‰ ì¤‘...");
        await Task.Delay(20000); // 20ì´ˆ ë™ì•ˆ ì‹¤í–‰ë˜ëŠ” ì‘ì—… (í…ŒìŠ¤íŠ¸ìš©)
        Console.WriteLine($"{DateTime.Now:HH:mm:ss} - ê¸°ì¡´ ì‘ì—… ì¢…ë£Œ");
    }
}
âœ… ì„¤ëª…
StartTimer()

10ë¶„(600,000ms)ë§ˆë‹¤ CheckAndRunTask() ì‹¤í–‰
CheckAndRunTask()

_isRunningì´ trueì´ë©´ ì‹¤í–‰í•˜ì§€ ì•Šê³  ê±´ë„ˆëœ€
ê¸°ì¡´ í•¨ìˆ˜ë¥¼ awaitë¡œ ì‹¤í–‰ í›„ ìƒíƒœ ë³€ê²½ (false)
RunTaskAsync()

âš¡ ê¸°ì¡´ í•¨ìˆ˜ ê·¸ëŒ€ë¡œ ìœ ì§€ (10ë¶„ë§ˆë‹¤ ì‹¤í–‰í•  ë‚´ìš© ë„£ê¸°)
ì—¬ê¸°ì„œ await Task.Delay(20000);ì€ ì˜ˆì œì´ë¯€ë¡œ ì‹¤ì œ ì‹¤í–‰ ì½”ë“œë¡œ ë³€ê²½
âœ… ì‹¤í–‰ ê²°ê³¼ (ì˜ˆì œ)
makefile
ì½”ë“œ ë³µì‚¬
Timer ì‹œì‘...
10:00:00 - ì‘ì—… ì‹œì‘
10:00:00 - ê¸°ì¡´ ì‘ì—… ì‹¤í–‰ ì¤‘...
10:00:20 - ê¸°ì¡´ ì‘ì—… ì¢…ë£Œ
10:00:20 - ì‘ì—… ì™„ë£Œ
10:10:00 - ì‘ì—… ì‹œì‘
10:10:00 - ê¸°ì¡´ ì‘ì—… ì‹¤í–‰ ì¤‘...
10:10:20 - ê¸°ì¡´ ì‘ì—… ì¢…ë£Œ
10:10:20 - ì‘ì—… ì™„ë£Œ
10:20:00 - ì´ì „ ì‹¤í–‰ì´ ëë‚˜ì§€ ì•ŠìŒ, ë‹¤ìŒ ì‹¤í–‰ ëŒ€ê¸°...
ğŸ‘‰ 10ë¶„ë§ˆë‹¤ ì‹¤í–‰ë˜ì§€ë§Œ, ì´ì „ ì‹¤í–‰ì´ ëë‚˜ì§€ ì•Šìœ¼ë©´ ë‹¤ìŒ ì‹¤í–‰ì„ ê±´ë„ˆëœ€

âœ… íŠ¹ì§•