.1 문제 쿼리에 대한 실행 계획 분석
아래 쿼리를 사용하여 실행 계획에서 누락된 인덱스를 확인할 수 있습니다.

sql
코드 복사
-- 누락된 인덱스 정보 확인
SELECT
    migs.avg_user_impact AS AvgUserImpact, -- 성능 개선 예상 비율
    migs.last_user_seek AS LastUserSeek, -- 마지막 사용 시점
    mid.statement AS TableName, -- 테이블 이름
    mid.equality_columns AS EqualityColumns, -- 인덱스에 포함할 열 (동등 조건)
    mid.inequality_columns AS InequalityColumns, -- 인덱스에 포함할 열 (비동등 조건)
    mid.included_columns AS IncludedColumns -- 인덱스에 포함할 추가 열
FROM sys.dm_db_missing_index_groups mig
INNER JOIN sys.dm_db_missing_index_group_stats migs
    ON mig.index_group_handle = migs.group_handle
INNER JOIN sys.dm_db_missing_index_details mid
    ON mig.index_handle = mid.index_handle
WHERE migs.avg_user_impact > 50 -- 성능 개선 효과가 큰 것만 필터링