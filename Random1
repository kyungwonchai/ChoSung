import os

def split_text_file(input_file_path, output_dir, lines_per_file=100):
    """
    텍스트 파일을 지정된 줄 수만큼 여러 파일로 분할합니다.

    :param input_file_path: 분할할 원본 파일의 전체 경로
    :param output_dir: 분할된 파일들을 저장할 폴더 경로
    :param lines_per_file: 각 파일에 저장할 줄의 수
    """
    # 분할된 파일들을 저장할 폴더가 없으면 생성합니다.
    os.makedirs(output_dir, exist_ok=True)

    try:
        with open(input_file_path, 'r', encoding='utf-8') as f_in:
            file_count = 1
            lines = []
            for line in f_in:
                lines.append(line)
                if len(lines) == lines_per_file:
                    # 파일명 포맷을 0001, 0002 와 같이 4자리로 맞춥니다.
                    output_file_name = f"{str(file_count).zfill(4)}.txt"
                    output_file_path = os.path.join(output_dir, output_file_name)
                    
                    with open(output_file_path, 'w', encoding='utf-8') as f_out:
                        f_out.writelines(lines)
                    
                    print(f"생성 완료: {output_file_path}")

                    # 다음 파일을 위해 초기화합니다.
                    lines = []
                    file_count += 1
            
            # 마지막에 남은 줄들이 있는 경우 처리합니다.
            if lines:
                output_file_name = f"{str(file_count).zfill(4)}.txt"
                output_file_path = os.path.join(output_dir, output_file_name)
                with open(output_file_path, 'w', encoding='utf-8') as f_out:
                    f_out.writelines(lines)
                print(f"생성 완료 (마지막 파일): {output_file_path}")

    except FileNotFoundError:
        print(f"오류: 원본 파일을 찾을 수 없습니다. 경로를 확인해주세요: {input_file_path}")
    except Exception as e:
        print(f"오류가 발생했습니다: {e}")

# --- 사용자 설정 영역 ---

# 1. 원본 파일 경로를 지정하세요.
# 예시: "C:/Users/YourName/Documents/1.txt"
source_file = "C:/path/to/your/1.txt"

# 2. 분할된 파일들을 저장할 폴더 경로를 지정하세요.
# 예시: "C:/Users/YourName/Documents/split_files"
destination_folder = "C:/path/to/your/output_folder"

# 3. (선택) 파일당 줄 수를 변경하고 싶다면 이 값을 수정하세요.
lines_to_split = 100

# --- 설정 영역 끝 ---


# 함수를 실행합니다.
if __name__ == "__main__":
    if os.path.isfile(source_file):
        split_text_file(source_file, destination_folder, lines_to_split)
    else:
        print(f"오류: '{source_file}'는 유효한 파일 경로가 아닙니다. '사용자 설정 영역'을 확인해주세요.")