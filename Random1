 원하는 것은 ButtonConfig 생성자에서 Action 타입의 함수를 받아서 OnClickAction 필드에 저장하는 것입니다. 그러나, 인스턴스 메서드를 생성자 호출 전에 필드 초기화 과정에서 직접 할당하면 오류가 발생하기 때문에, 생성자를 이용해 초기화하면 정상적으로 동작합니다.

✅ 해결 방법: 생성자에서 Action을 매개변수로 받기
csharp
코드 복사
public class ButtonConfig
{
    public string ButtonTxt { get; set; }
    public Action OnClickAction { get; set; }

    // 생성자에서 버튼 텍스트와 클릭 이벤트를 설정
    public ButtonConfig(string buttonTxt, Action onClickAction)
    {
        ButtonTxt = buttonTxt;
        OnClickAction = onClickAction;
    }

    // 버튼을 클릭했을 때 실행하는 함수
    public void ExecuteClick()
    {
        OnClickAction?.Invoke(); // 널 체크 후 실행
    }
}

// 사용 예제
public class Program
{
    public static void Main()
    {
        // ButtonConfig를 생성할 때 특정 함수 지정
        ButtonConfig btn1 = new ButtonConfig("버튼1", Func1);
        ButtonConfig btn2 = new ButtonConfig("버튼2", () => Console.WriteLine("익명 함수 실행"));

        // 버튼 클릭 실행
        btn1.ExecuteClick();  // "Func1 실행됨" 출력
        btn2.ExecuteClick();  // "익명 함수 실행" 출력
    }

    public static void Func1()
    {
        Console.WriteLine("Func1 실행됨");
    }
}
🔥 코드 설명
ButtonConfig 생성자에서 Action을 매개변수로 받음

new ButtonConfig("버튼1", Func1); 이렇게 인스턴스를 생성할 때 Func1을 넣으면 버튼 클릭 시 Func1이 실행됨.
ExecuteClick() 메서드에서 OnClickAction.Invoke() 실행

ExecuteClick()이 호출되면 OnClickAction에 저장된 함수가 실행됨.
두 가지 방식으로 함수 전달 가능

기존 함수 (Func1) 전달