#ì—ì„œ static ì—†ì´ ê¸°ì¡´ í•¨ìˆ˜ë“¤ì„ 10ë¶„ë§ˆë‹¤ ì‹¤í–‰í•˜ë©´ì„œ, ì´ì „ ì‹¤í–‰ì´ ëë‚˜ì§€ ì•Šìœ¼ë©´ ëŒ€ê¸° í›„ ë‹¤ì‹œ ì‹¤í–‰í•˜ëŠ” ë¹„ë™ê¸° ì½”ë“œë¥¼ ì‘ì„±í–ˆìŠµë‹ˆë‹¤.

âœ… static ì—†ì´ ë¹„ë™ê¸° íƒ€ì´ë¨¸
csharp
ì½”ë“œ ë³µì‚¬
using System;
using System.Threading;
using System.Threading.Tasks;

class Program
{
    private Timer _timer;
    private bool _isRunning = false; // ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸
    private readonly object _lock = new object(); // ë™ì‹œ ì‹¤í–‰ ë°©ì§€

    public Program()
    {
        _timer = new Timer(async _ => await CheckAndRunTask(), null, 0, 600000); // 10ë¶„ë§ˆë‹¤ ì‹¤í–‰
    }

    private async Task CheckAndRunTask()
    {
        lock (_lock)
        {
            if (_isRunning)
            {
                Console.WriteLine($"{DateTime.Now:HH:mm:ss} - ì´ì „ ì‹¤í–‰ì´ ëë‚˜ì§€ ì•ŠìŒ, ë‹¤ìŒ ì‹¤í–‰ ëŒ€ê¸°...");
                return;
            }
            _isRunning = true;
        }

        try
        {
            Console.WriteLine($"{DateTime.Now:HH:mm:ss} - ì‘ì—… ì‹œì‘");
            await RunTaskAsync(); // ê¸°ì¡´ í•¨ìˆ˜ ì‹¤í–‰
            Console.WriteLine($"{DateTime.Now:HH:mm:ss} - ì‘ì—… ì™„ë£Œ");
        }
        catch (Exception ex)
        {
            Console.WriteLine($"ì˜¤ë¥˜ ë°œìƒ: {ex.Message}");
        }
        finally
        {
            _isRunning = false; // ì‹¤í–‰ ì™„ë£Œ í›„ ë‹¤ì‹œ ì‹¤í–‰ ê°€ëŠ¥í•˜ë„ë¡ ì„¤ì •
        }
    }

    private async Task RunTaskAsync()
    {
        // âš¡ ê¸°ì¡´ í•¨ìˆ˜ ì‹¤í–‰ (ì—¬ê¸°ì— 10ë¶„ë§ˆë‹¤ ì‹¤í–‰í•  ì‘ì—… ì¶”ê°€)
        Console.WriteLine($"{DateTime.Now:HH:mm:ss} - ê¸°ì¡´ ì‘ì—… ì‹¤í–‰ ì¤‘...");
        await Task.Delay(20000); // 20ì´ˆ ë™ì•ˆ ì‹¤í–‰ë˜ëŠ” ì‘ì—… (í…ŒìŠ¤íŠ¸ìš©)
        Console.WriteLine($"{DateTime.Now:HH:mm:ss} - ê¸°ì¡´ ì‘ì—… ì¢…ë£Œ");
    }

    public static async Task Main()
    {
        Console.WriteLine("Timer ì‹œì‘...");
        var program = new Program(); // ê°ì²´ ìƒì„±

        await Task.Delay(Timeout.Infinite); // í”„ë¡œê·¸ë¨ ìœ ì§€
    }
}
âœ… ì„¤ëª…
Program í´ë˜ìŠ¤ ë‚´ë¶€ì— ëª¨ë“  ë³€ìˆ˜ ë° íƒ€ì´ë¨¸ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìœ ì§€ (static ì—†ì´ ê´€ë¦¬)
Program ìƒì„±ìì—ì„œ Timer ì‹¤í–‰
10ë¶„ë§ˆë‹¤ CheckAndRunTask() ì‹¤í–‰
ì‹¤í–‰ ì¤‘ì´ë©´ ë‹¤ìŒ ì‹¤í–‰ ëŒ€ê¸°
ì‹¤í–‰ ê°€ëŠ¥í•˜ë©´ RunTaskAsync() ì‹¤í–‰
ê¸°ì¡´ í•¨ìˆ˜ (RunTaskAsync()) ìˆ˜ì • ì—†ì´ ì‚¬ìš© ê°€ëŠ¥
âœ… ì‹¤í–‰ ê²°ê³¼ (ì˜ˆì œ)
makefile
ì½”ë“œ ë³µì‚¬
Timer ì‹œì‘...
10:00:00 - ì‘ì—… ì‹œì‘
10:00:00 - ê¸°ì¡´ ì‘ì—… ì‹¤í–‰ ì¤‘...
10:00:20 - ê¸°ì¡´ ì‘ì—… ì¢…ë£Œ
10:00:20 - ì‘ì—… ì™„ë£Œ
10:10:00 - ì‘ì—… ì‹œì‘
10:10:00 - ê¸°ì¡´ ì‘ì—… ì‹¤í–‰ ì¤‘...
10:10:20 - ê¸°ì¡´ ì‘ì—… ì¢…ë£Œ
10:10:20 - ì‘ì—… ì™„ë£Œ
10:20:00 - ì´ì „ ì‹¤í–‰ì´ ëë‚˜ì§€ ì•ŠìŒ, ë‹¤ìŒ ì‹¤í–‰ ëŒ€ê¸°...
ğŸ‘‰ 10ë¶„ë§ˆë‹¤ ì‹¤í–‰ë˜ì§€ë§Œ, ì´ì „ ì‹¤í–‰ì´ ëë‚˜ì§€ ì•Šìœ¼ë©´ ë‹¤ìŒ ì‹¤í–‰ì„ ê±´ë„ˆëœ€

âœ… íŠ¹ì§•
âœ” static ì—†ì´ ì¸ìŠ¤í„´ìŠ¤(Program)ì—ì„œ íƒ€ì´ë¨¸ ê´€ë¦¬
âœ” ê¸°ì¡´ í•¨ìˆ˜ (RunTaskAsync()) ìˆ˜ì • ì—†ì´ ì‚¬ìš© ê°€ëŠ¥
âœ” 10ë¶„ë§ˆë‹¤ ì‹¤í–‰ë˜ë˜, ì´ì „ ì‹¤í–‰ì´ ëë‚˜ì§€ ì•Šìœ¼ë©´ ëŒ€ê¸°
âœ” ë¹„ë™ê¸° (async/await) ë°©ì‹ìœ¼ë¡œ ì‹¤í–‰