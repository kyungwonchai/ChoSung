ChatGPT
ChatGPT

다음은 C#로 DataTable에 값을 넣고 그 값을 조작하여 출력하는 예제 코드입니다. 코드는 C# 2022 버전을 기반으로 작성되었습니다.

csharp

using System;
using System.Data;
using System.Linq;

class Program
{
    static void Main()
    {
        // 새로운 DataTable 생성
        DataTable dataTable = new DataTable();

        // 컬럼 추가: 라인, 모델, 오더, 값
        dataTable.Columns.Add("라인", typeof(string));
        dataTable.Columns.Add("모델", typeof(string));
        dataTable.Columns.Add("오더", typeof(string));
        dataTable.Columns.Add("값", typeof(string));

        // 데이터 추가 (임의의 데이터)
        dataTable.Rows.Add("라인1", "모델A", "오더1", "값1");
        dataTable.Rows.Add("라인1", "모델A", "오더2", "값2");
        dataTable.Rows.Add("라인2", "모델B", "오더1", "값3");
        dataTable.Rows.Add("라인2", "모델B", "오더2", "값4");

        // DataTable을 라인+모델 별로 그룹화
        var groupedData = from row in dataTable.AsEnumerable()
                          group row by new { Line = row.Field<string>("라인"), Model = row.Field<string>("모델") }
                          into grouped
                          select new
                          {
                              Line = grouped.Key.Line,
                              Model = grouped.Key.Model,
                              Orders = string.Join(", ", grouped.Select(r => r.Field<string>("오더"))),
                              Values = string.Join(", ", grouped.Select(r => r.Field<string>("값")))
                          };

        // 그룹화된 데이터를 출력
        foreach (var group in groupedData)
        {
            Console.WriteLine($"라인: {group.Line}, 모델: {group.Model}");
            Console.WriteLine($"오더: {group.Orders}");
            Console.WriteLine($"값: {group.Values}");
            Console.WriteLine();
        }
    }
}

이 코드는 DataTable에 데이터를 추가하고, 라인과 모델로 그룹화한 뒤 오더별 값을 문자열로 합쳐 출