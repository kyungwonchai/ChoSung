
특정 네트워크 경로에서 시작

하위 모든 폴더를 초고속으로 탐색

SM-으로 시작하는 폴더의 바로 하위 폴더 중

폴더 이름에 " - GH-" 형식(공백-공백GH-)이 있는 경우

" - GH-" 기준으로 나눈 문자열 중 앞부분을 출력 (중복 없이)

파이썬 코드 (상세 주석 포함)
python
코드 복사
import os

def find_unique_prefixes(network_path):
    # 결과를 저장할 set (중복 제거용)
    result_set = set()

    # os.walk를 사용하여 모든 하위 디렉토리 탐색
    for root, dirs, files in os.walk(network_path):
        # 현재 경로에서 디렉토리들만 검사
        for dir_name in dirs:
            # SM-으로 시작하는 폴더만 대상
            if dir_name.startswith("SM-"):
                sm_path = os.path.join(root, dir_name)

                # 이 SM-폴더의 바로 하위 폴더들을 검사
                try:
                    for sub_name in os.listdir(sm_path):
                        sub_path = os.path.join(sm_path, sub_name)

                        # 폴더인지 확인
                        if os.path.isdir(sub_path):
                            # " - GH-"라는 구분자가 포함되어 있는지 확인
                            if " - GH-" in sub_name:
                                # 구분자로 나눠서 앞쪽 문자열 추출
                                prefix = sub_name.split(" - GH-")[0].strip()

                                # 결과 set에 추가 (중복 자동 제거됨)
                                result_set.add(prefix)
                except Exception as e:
                    # 권한 오류나 기타 오류 무시
                    print(f"경로 접근 오류: {sm_path}, 오류: {e}")
    
    # 결과를 정렬된 리스트로 변환하여 출력
    result_list = sorted(result_set)
    for item in result_list:
        print(item)

# 예시 실행 (실제 네트워크 경로를 여기에 넣으세요)
network_folder = r"\\192.168.0.10\shared\project_data"  # 예: 네트워크 공유 폴더
find_unique_prefixes(network_folder)
코드 설명
파트	설명
os.walk()	하위 모든 폴더를 재귀적으로 탐색합니다.
startswith("SM-")	SM-으로 시작하는 폴더만 선택합니다.
os.listdir()	해당 SM- 폴더 내부의 바로 하위 폴더명을 리스트로 가져옵니다.
" - GH-" in sub_name	공백-작대기-공백GH-형식의 구분자 검사
split(" - GH-")[0]	GH 앞의 첫 번째 문자열만 추출
set	중복 제거
sorted()	결과를 정렬해서 보기 쉽게 출력