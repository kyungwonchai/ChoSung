using System;
using System.Collections.Generic;
using System.Diagnostics;

class Program
{
    static void Main(string[] args)
    {
        Dictionary<int, Tuple<string, int>> processHandles = new Dictionary<int, Tuple<string, int>>();

        foreach (Process process in Process.GetProcesses())
        {
            try
            {
                int pid = process.Id;
                string processName = process.ProcessName;
                int handleCount = process.HandleCount;

                processHandles[pid] = new Tuple<string, int>(processName, handleCount);
            }
            catch (Exception ex)
            {
                // 접근 제한이 있는 프로세스는 무시
            }
        }

        // 결과 출력
        foreach (var item in processHandles)
        {
            Console.WriteLine($"PID: {item.Key}, ProcessName: {item.Value.Item1}, HandleCount: {item.Value.Item2}");
        }
    }
}
