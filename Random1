래는 소리 파일의 URI를 변수로 받아 MediaPlayer로 재생하는 함수 코드입니다. 이 함수는 소리 파일의 URI를 파라미터로 받아서 재생하며, 필요할 때 호출할 수 있습니다.

수정된 함수 코드
kotlin
코드 복사
import android.media.AudioAttributes
import android.media.MediaPlayer
import android.net.Uri
import android.util.Log

private fun playAlarmSound(soundUri: Uri) {
    try {
        mediaPlayer = MediaPlayer().apply {
            setAudioAttributes(
                AudioAttributes.Builder()
                    .setContentType(AudioAttributes.CONTENT_TYPE_SONIFICATION)
                    .setUsage(AudioAttributes.USAGE_ALARM)
                    .build()
            )
            setDataSource(this@MainActivity, soundUri)
            isLooping = true // 소리 반복 재생
            prepare()
            start()
        }
    } catch (e: Exception) {
        Log.e("MainActivity", "Failed to play alarm sound", e)
    }
}

private fun stopAlarmSound() {
    mediaPlayer?.let {
        if (it.isPlaying) {
            it.stop()
            it.release()
        }
    }
}
사용법
소리 파일의 URI 생성: 먼저 재생하고자 하는 소리 파일의 URI를 준비합니다. 이 URI는 내부 리소스, 외부 파일, 시스템 사운드 중 하나일 수 있습니다.
kotlin
코드 복사
val soundUri: Uri = Uri.parse("android.resource://${packageName}/raw/your_sound_file")
함수 호출: 소리 URI를 playAlarmSound 함수의 파라미터로 전달하여 호출합니다.
kotlin
코드 복사
playAlarmSound(soundUri)
소리 멈추기: 재생 중인 소리를 멈추고 싶을 때는 stopAlarmSound 함수를 호출합니다.
kotlin
코드 복사
stopAlarmSound()
예제
kotlin
코드 복사
// 예제 URI (앱의 'raw' 폴더에 있는 소리 파일 사용)
val alarmUri = Uri.parse("android.resource://${packageName}/raw/alarm_sound")

// 소리 재생
playAlarmSound(alarmUri)

// 나중에 소리 멈추기
stopAlarmSound()
설명
playAlarmSound(soundUri: Uri):

소리 파일의 URI를 받아 MediaPlayer로 재생합니다.
소리를 반복 재생하도록 설정합니다. 필요에 따라 isLooping을 false로 설정할 수 있습니다.
stopAlarmSound:
