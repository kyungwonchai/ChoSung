WPF에서 DataContext를 지정하지 않고 특정 컨트롤의 Visibility 속성을 코드 비하인드의 변수에 바인딩하려면, ElementName을 사용하여 해당 변수를 포함하는 요소를 직접 참조하는 방법이 있습니다. 이렇게 하면 DataContext를 설정하지 않고도 바인딩을 구현할 수 있습니다.

구현 방법:

코드 비하인드에서 변수 선언:

MainWindow.xaml.cs 파일에서 public 접근 제한자를 가진 변수를 선언합니다. 이 변수는 바인딩의 소스가 됩니다.

csharp
코드 복사
public partial class MainWindow : Window
{
    public bool IsControlVisible { get; set; } = true;

    public MainWindow()
    {
        InitializeComponent();
        // 추가 초기화 코드
    }
}
XAML에서 바인딩 설정:

MainWindow.xaml 파일에서 ElementName을 사용하여 MainWindow를 참조하고, 해당 변수에 바인딩합니다. 이때 Boolean 값을 Visibility로 변환하기 위해 BooleanToVisibilityConverter를 사용합니다.

xml
코드 복사
<Window x:Class="YourNamespace.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        x:Name="MainWindow"
        Title="MainWindow" Height="350" Width="525">
    <Window.Resources>
        <BooleanToVisibilityConverter x:Key="BoolToVisConverter"/>
    </Window.Resources>
    <Grid>
        <Button Content="Click Me"
                Visibility="{Binding ElementName=MainWindow, Path=IsControlVisible, Converter={StaticResource BoolToVisConverter}}"/>
    </Grid>
</Window>
여기서 x:Name="MainWindow"를 통해 XAML에서 MainWindow를 참조할 수 있게 설정합니다. Visibility 속성은 IsControlVisible 변수에 바인딩되며, BooleanToVisibilityConverter를 통해 bool 값을 Visibility 값으로 변환합니다.

변수 값 변경:

코드 비하인드에서 IsControlVisible의 값을 변경하면 바인딩된 컨트롤의 Visibility가 업데이트됩니다.

csharp
코드 복사
// 예: 버튼 클릭 시 Visibility 토글
private void ToggleVisibilityButton_Click(object sender, RoutedEventArgs e)
{
    IsControlVisible = !IsControlVisible;
    // 수동으로 UI 업데이트를 트리거
    OnPropertyChanged(nameof(IsControlVisible));
}

// INotifyPropertyChanged 구현
public event PropertyChangedEventHandler PropertyChanged;
protected void OnPropertyChanged(string propertyName)
{
    PropertyChanged?.Invoke(this, new PropertyChangedEventArgs(propertyName));
}
INotifyPropertyChanged 인터페이스를 구현하여 프로퍼티 변경 시 UI에 알림을 보냅니다.

참고 사항:

ElementName을 사용하여 특정 요소를 직접 참조함으로써 DataContext를 설정하지 않고도 바인딩을 구현할 수 있습니다.
BooleanToVisibilityConverter는 bool 값을 Visibility 값으로 변환하는 내장 컨버터입니다.