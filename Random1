// WPF DevExpress 22.2 - Locker Management System (MVVM 패턴)

// Models
using System;
using System.ComponentModel;
using System.ComponentModel.DataAnnotations;
using System.Collections.ObjectModel;
using System.Data;
using System.Data.SqlClient;

namespace LockerManagementSystem.Models
{
    public class Locker : INotifyPropertyChanged
    {
        public int ID { get; set; }

        private string _itemCategory;
        private string _floor;
        private string _area;
        private string _locationDetail;
        private string _name;
        private string _knoxID;
        private string _part;
        private string _manager;
        private DateTime _lastModified;

        public string ItemCategory { get => _itemCategory; set { _itemCategory = value; OnPropertyChanged("ItemCategory"); } }
        public string Floor { get => _floor; set { _floor = value; OnPropertyChanged("Floor"); } }
        public string Area { get => _area; set { _area = value; OnPropertyChanged("Area"); } }
        public string LocationDetail { get => _locationDetail; set { _locationDetail = value; OnPropertyChanged("LocationDetail"); } }
        public string Name { get => _name; set { _name = value; OnPropertyChanged("Name"); } }
        public string KnoxID { get => _knoxID; set { _knoxID = value; OnPropertyChanged("KnoxID"); } }
        public string Part { get => _part; set { _part = value; OnPropertyChanged("Part"); } }
        public string Manager { get => _manager; set { _manager = value; OnPropertyChanged("Manager"); } }
        public DateTime LastModified { get => _lastModified; set { _lastModified = value; OnPropertyChanged("LastModified"); } }

        public event PropertyChangedEventHandler PropertyChanged;

        protected void OnPropertyChanged(string propertyName)
        {
            PropertyChanged?.Invoke(this, new PropertyChangedEventArgs(propertyName));
        }
    }
}

<!-- Views (XAML) -->
<Window x:Class="LockerManagementSystem.Views.MainView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:dxg="http://schemas.devexpress.com/winfx/2008/xaml/grid"
        mc:Ignorable="d"
        Title="Locker Management System" Height="800" Width="1200">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <StackPanel Orientation="Horizontal" Margin="10">
            <TextBox Width="300" Text="{Binding SearchText, UpdateSourceTrigger=PropertyChanged}" PlaceholderText="검색어 입력..." />
            <Button Content="검색" Command="{Binding SearchCommand}" Margin="10,0,0,0" />
        </StackPanel>

        <dxg:GridControl ItemsSource="{Binding FilteredLockers}" AutoGenerateColumns="None" Grid.Row="1">
            <dxg:GridControl.Columns>
                <dxg:GridColumn FieldName="ID" Header="ID" IsReadOnly="True" />
                <dxg:GridColumn FieldName="ItemCategory" Header="Item Category" />
                <dxg:GridColumn FieldName="Floor" Header="Floor" />
                <dxg:GridColumn FieldName="Area" Header="Area" />
                <dxg:GridColumn FieldName="LocationDetail" Header="Location Detail" />
                <dxg:GridColumn FieldName="Name" Header="Name" />
                <dxg:GridColumn FieldName="KnoxID" Header="Knox ID" />
                <dxg:GridColumn FieldName="Part" Header="Part" />
                <dxg:GridColumn FieldName="Manager" Header="Manager" />
                <dxg:GridColumn FieldName="LastModified" Header="Last Modified" />
            </dxg:GridControl.Columns>
        </dxg:GridControl>
    </Grid>
</Window>
