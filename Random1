using System;
using System.Diagnostics;
using System.Threading;

class Program
{
    static void Main()
    {
        string processName = "YourProcessName"; // 여기에 프로세스명을 넣어주세요
        int intervalSeconds = 60; // 체크 간격(초)을 설정합니다

        // 백그라운드 스레드를 생성하여 루프 실행
        Thread thread = new Thread(() =>
        {
            while (true)
            {
                if (!IsProcessRunning(processName))
                {
                    StartProcess(processName);
                }

                Thread.Sleep(intervalSeconds * 1000); // 지정된 시간(초) 동안 대기
            }
        });

        thread.IsBackground = true; // 백그라운드 스레드 설정
        thread.Start(); // 스레드 시작

        // 프로그램이 종료되지 않도록 대기
        Console.WriteLine("프로그램이 실행 중입니다. 종료하려면 아무 키나 누르세요...");
        Console.ReadKey();
    }

    static bool IsProcessRunning(string processName)
    {
        Process[] processes = Process.GetProcessesByName(processName);
        return processes.Length > 0;
    }

    static void StartProcess(string processName)
    {
        try
        {
            Process.Start(processName);
            Console.WriteLine($"{processName} 프로세스를 시작했습니다.");
        }
        catch (Exception ex)
        {
            Console.WriteLine($"오류: {ex.Message}");
        }
    }
}
