래는 요청하신 내용대로 셀 색상에 그라데이션을 적용한 코드입니다.

html
Copy code
<!DOCTYPE html>
<html>
<head>
    <title>Part Similarity Search</title>
    <style>
        /* 표의 테두리 스타일 설정 */
        table {
            border-collapse: collapse;
            width: 100%;
        }

        /* 셀의 테두리 스타일 설정 */
        th, td {
            border: 1px solid black;
            padding: 8px;
            text-align: left;
        }

        /* 표 헤더의 배경색 설정 */
        th {
            background-color: #add8e6;
        }

        /* 유사도에 따른 셀 색상 설정 */
        .similarity-cell {
            background: linear-gradient(to right, yellow 0%, yellow 0%);
            background-size: 0% 100%;
            transition: background-size 0.5s ease;
        }

        /* 유사도에 따른 셀 색상 애니메이션 */
        .similarity-cell:hover {
            background-size: 100% 100%;
        }
    </style>
    <script>
        // 페이지 로드가 완료되면 실행
        window.onload = function() {
            // 부품 코드와 테이블의 업체PN 간에 공통 문자를 찾고 빨간색으로 표시
            var part_code = "{{ part_code }}";
            var cells = document.querySelectorAll('td:nth-child(1)');  // 첫 번째 열 (업체PN) 선택
            for (var i = 0; i < cells.length; i++) {
                var cell_text = cells[i].textContent;
                var new_text = '';
                for (var j = 0; j < cell_text.length; j++) {
                    if (part_code.includes(cell_text[j])) {
                        new_text += '<span style="color:red;">' + cell_text[j] + '</span>';
                    } else {
                        new_text += cell_text[j];
                    }
                }
                cells[i].innerHTML = new_text;
            }

            // 유사도에 따른 셀 색상 설정
            var similarity_cells = document.querySelectorAll('.similarity-cell');
            for (var i = 0; i < similarity_cells.length; i++) {
                var similarity = parseFloat(similarity_cells[i].textContent);
                var colorPercentage = similarity * 100;
                similarity_cells[i].style.background = "linear-gradient(to right, yellow " + colorPercentage + "%, transparent " + colorPercentage + "%)";
            }
        }
    </script>
</head>
<body>
    <h1>Part Similarity Search</h1>

    <!-- 검색 양식 -->
    <form method="POST">
        <label for="part_code">Part Code:</label><br>
        <input type="text" id="part_code" name="part_code" required style="width: 100%"><br>
        <input type="submit" value="검색">
    </form>

    <!-- 검색 결과 -->
    {% if part_code %}
        <h2>Similar parts for: {{ part_code }}</h2>
        <table>
            <tr>
                <th>업체PN</th>
                <th>부품코드</th>
                <th>업체명</th




User
이어서
ChatGPT
css
Copy code
                <th>유사도</th>
            </tr>
            {% for row, similarity in zip(similar_parts, similarities) %}
                <tr>
                    <td>{{ row[0] }}</td>
                    <td>{{ row[1] }}</td>
                    <td>{{ row[2] }}</td>
                    <td>
                        <div class="similarity-cell">{{ similarity }}</div>
                    </td>
                </tr>
            {% endfor %}
        </table>
    {% endif %}
</body>
</html>