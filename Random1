블이 없어도 에러 없이 DROP TABLE을 수행하는 MSSQL2014 프로시저 코드는 아래와 같습니다. IF OBJECT_ID를 사용하여 테이블이 존재하는지 확인한 후, 존재할 경우에만 삭제하도록 처리합니다.

sql
코드 복사
CREATE PROCEDURE DropTableIfExists
AS
BEGIN
    -- 테이블이 존재하는지 확인
    IF OBJECT_ID('dbo.table_1', 'U') IS NOT NULL
    BEGIN
        -- 테이블이 존재하면 삭제
        DROP TABLE dbo.table_1;
    END
END;
GO
설명
IF OBJECT_ID('dbo.table_1', 'U') IS NOT NULL:

OBJECT_ID는 지정된 테이블의 ID를 반환합니다. U는 사용자 정의 테이블을 의미합니다.
table_1이 존재하면 해당 ID를 반환하며, 존재하지 않으면 NULL을 반환합니다.
DROP TABLE dbo.table_1:

테이블이 존재할 때만 삭제합니다. 테이블이 없으면 IF 조건에 의해 삭제 명령이 실행되지 않기 때문에 에러가 발생하지 않습니다.
이렇게 작성하면, DropTableIfExists 프로시저는 table_1이 존재할 때만 삭제하며, 존재하지 않으면 에러 없이 종료됩니다.




