DECLARE @SQL NVARCHAR(MAX) = ''

SELECT @SQL += 'USE [' + name + ']; 
                SELECT 
                    ''' + name + ''' as DatabaseName,
                    (SELECT COUNT(*) FROM sys.tables) as TableCount,
                    (SELECT COUNT(*) FROM sys.views) as ViewCount,
                    (SELECT COUNT(*) FROM sys.procedures) as ProcedureCount;
                '
FROM sys.databases
WHERE state_desc = 'ONLINE'

EXEC sp_executesql @SQL
