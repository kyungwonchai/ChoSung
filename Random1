using DevExpress.XtraEditors.Repository;

// GridView 컨트롤의 CustomRowCellEdit 이벤트를 처리합니다.
gridView1.CustomRowCellEdit += GridView1_CustomRowCellEdit;

// GridView의 특정 컬럼에 버튼을 추가하여 에디터를 설정합니다.
private void GridView1_CustomRowCellEdit(object sender, DevExpress.XtraGrid.Views.Grid.CustomRowCellEditEventArgs e)
{
    if (e.Column.FieldName == "Quantity1" && e.RowHandle >= 0)
    {
        RepositoryItemButtonEdit repositoryButtonEdit = new RepositoryItemButtonEdit();
        repositoryButtonEdit.TextEditStyle = DevExpress.XtraEditors.Controls.TextEditStyles.DisableTextEditor;
        repositoryButtonEdit.Buttons.Clear();

        repositoryButtonEdit.Buttons.AddRange(new DevExpress.XtraEditors.Controls.EditorButton[] {
            new DevExpress.XtraEditors.Controls.EditorButton(DevExpress.XtraEditors.Controls.ButtonPredefines.Plus),
            new DevExpress.XtraEditors.Controls.EditorButton(DevExpress.XtraEditors.Controls.ButtonPredefines.Minus)});

        repositoryButtonEdit.ButtonClick += RepositoryButtonEdit_ButtonClick;

        e.RepositoryItem = repositoryButtonEdit;
    }
}

// 버튼 클릭 이벤트 핸들러
private void RepositoryButtonEdit_ButtonClick(object sender, DevExpress.XtraEditors.Controls.ButtonPressedEventArgs e)
{
    DevExpress.XtraEditors.ButtonEdit editor = (DevExpress.XtraEditors.ButtonEdit)sender;
    int currentValue = Convert.ToInt32(editor.EditValue);

    if (e.Button.Kind == DevExpress.XtraEditors.Controls.ButtonPredefines.Plus)
        currentValue++;
    else if (e.Button.Kind == DevExpress.XtraEditors.Controls.ButtonPredefines.Minus)
        currentValue--;

    editor.EditValue = currentValue;
}
