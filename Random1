중에서 가장 마지막에 수정된 파일을 반환하는 C# 코드입니다.

csharp
코드 복사
using System;
using System.IO;
using System.Linq;

class Program
{
    static void Main(string[] args)
    {
        string folderPath = @"C:\Your\Log\Folder"; // 로그 파일이 있는 폴더 경로
        string searchKeyword = "Plan Selected"; // 찾고자 하는 키워드

        // 1. 모든 *.log 파일을 가져오기
        var logFiles = Directory.GetFiles(folderPath, "*.log", SearchOption.TopDirectoryOnly);

        // 2. "Plan Selected" 문구가 포함된 파일 중 가장 최근에 수정된 파일 찾기
        var latestFileWithKeyword = logFiles
            .Where(file => File.ReadAllText(file).Contains(searchKeyword)) // 키워드 포함 여부 확인
            .OrderByDescending(file => File.GetLastWriteTime(file)) // 마지막 수정 시간 기준 정렬
            .FirstOrDefault(); // 가장 최근 파일 가져오기

        // 3. 결과 출력
        if (latestFileWithKeyword != null)
        {
            Console.WriteLine($"가장 최근에 'Plan Selected'가 포함된 파일: {latestFileWithKeyword}");
        }
        else
        {
            Console.WriteLine("'Plan Selected' 문구를 포함한 파일이 없습니다.");
        }
    }
}
코드 설명:
Directory.GetFiles 메서드를 사용해 특정 폴더 내의 *.log 파일을 모두 가져옵니다.
각 파일에 대해 **File.ReadAllText**를 사용하여 "Plan Selected"라는 문구가 포함된 파일만 필터링합니다.
필터링된 파일들 중 마지막 쓰기 시간이 가장 최근인 파일을 **OrderByDescending**을 사용해 정렬하고, **FirstOrDefault**로 가장 최근 파일을 가져옵니다.
만약 그런 파일이 존재하면 해당 파일의 경로를 출력하고, 없으면 적절한 메시지를 출력합니다.
folderPath를 해당 로그 파일들이 있는 경로로 변경해서 사용하면 됩니다.