// GridView1_RowCellClick 이벤트 핸들러 수정
private void GridView1_RowCellClick(object sender, RowCellClickEventArgs e)
{
    if (e.Button == MouseButtons.Left && e.Clicks == 2)
    {
        string pname = gridView1.GetRowCellValue(e.RowHandle, "Pname").ToString();
        string loginid = g_loginid;
        
        bool hasData = CheckProjectDetailData(pname, loginid);
        if (hasData)
        {
            string diagram = GetDiagramFromDatabase(pname, loginid);
            MessageBox.Show(diagram);
        }
        else
        {
            DiagramDocumentForm diagramForm = new DiagramDocumentForm(pname, loginid);
            diagramForm.Loaded += (s, args) =>
            {
                diagramForm.SaveDiagram(diagramControl1, pname, loginid);
            };
            diagramForm.ShowDialog();
        }
    }
}

private bool CheckProjectDetailData(string pname, string loginid)
{
    // view_projectdetail에서 pname과 loginid를 조건으로 하는 값이 있는지 확인하는 로직
    // 존재 여부에 따라 true 또는 false를 반환
}

private string GetDiagramFromDatabase(string pname, string loginid)
{
    // 데이터베이스에서 pname과 loginid를 사용하여 Diagram을 가져오는 로직
    // 가져온 Diagram을 문자열로 반환
}
