 오류를 해결하도록 수정하겠습니다. 오류는 함수 호출 시 인자 타입이 잘못되었거나, 불필요한 null 인자가 전달된 경우 발생합니다.

아래에 수정된 MainActivity.kt 코드를 제공합니다.

최종 수정된 MainActivity.kt
kotlin
코드 복사
package com.dxmxsmd.mobilechecker

import android.Manifest
import android.content.pm.PackageManager
import android.os.Bundle
import android.widget.TextView
import androidx.activity.ComponentActivity
import androidx.activity.result.contract.ActivityResultContracts
import androidx.core.content.ContextCompat
import com.google.zxing.BarcodeFormat
import com.google.zxing.DecodeHintType
import com.journeyapps.barcodescanner.DecoratedBarcodeView
import com.journeyapps.barcodescanner.DefaultDecoderFactory

class MainActivity : ComponentActivity() {

    private lateinit var barcodeView: DecoratedBarcodeView

    private val requestPermissionLauncher =
        registerForActivityResult(ActivityResultContracts.RequestPermission()) { isGranted: Boolean ->
            if (isGranted) {
                setupBarcodeView()
            } else {
                // 권한이 거부된 경우 처리
            }
        }

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main)

        if (ContextCompat.checkSelfPermission(this, Manifest.permission.CAMERA)
            != PackageManager.PERMISSION_GRANTED) {
            requestPermissionLauncher.launch(Manifest.permission.CAMERA)
        } else {
            setupBarcodeView()
        }
    }

    private fun setupBarcodeView() {
        barcodeView = findViewById(R.id.camera_preview)

        // QR 코드와 바코드를 모두 인식하도록 설정
        val formats = listOf(BarcodeFormat.QR_CODE, BarcodeFormat.CODE_39, BarcodeFormat.CODE_128)
        val hints = mapOf<DecodeHintType, Any>(
            DecodeHintType.POSSIBLE_FORMATS to formats
        )
        barcodeView.barcodeView.decoderFactory = DefaultDecoderFactory(formats, hints)

        barcodeView.decodeContinuous { result ->
            result?.let {
                findViewById<TextView>(R.id.text_view_result).text =
                    "Scanned: ${it.text} (${it.barcodeFormat})"
            }
        }
    }

    override fun onResume() {
        super.onResume()
        barcodeView.resume()
    }

    override fun onPause() {
        super.onPause()
        barcodeView.pause()
    }
}
주요 수정 사항:
DefaultDecoderFactory 인자 수정: formats와 hints만 전달하고, 잘못된 null 값을 제거했습니다. hints는 Map<DecodeHintType, Any> 타입으로 전달합니다.
필요한 형식으로 인자 전달: DefaultDecoderFactory는 formats와 hints만으로 충분히 설정 가능합니다.
이제 이 코드로 오류 없이 QR 코드와 바코드를 모두 인식할 수 있습니다. 다시 한번 시도해 보세