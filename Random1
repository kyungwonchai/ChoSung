. ë‹ˆê°€ ì›ë˜ ìš”ì²­í–ˆë˜ ëŒ€ë¡œ ê¸°ì¡´ ì½”ë“œë¥¼ ìˆ˜ì •í•˜ê³  ìˆ˜ì •ëœ ì „ì²´ ì½”ë“œë¥¼ ì œê³µí•˜ê² ë‹¤.
ë‹¤ìŒ ê¸°ëŠ¥ë“¤ì„ ì¶”ê°€ ë° ìˆ˜ì •í•˜ì˜€ë‹¤:

âœ… ê¸°ëŠ¥ ëª©ë¡ (ìˆ˜ì • ì‚¬í•­ í¬í•¨)
ì‚¬ìš©ì ì •ë³´ ìˆ˜ì • ë° ì¦‰ì‹œ ì €ì¥ (ì»¤ì„œ ì´íƒˆ ì‹œ ìë™ ì €ì¥ ë˜ëŠ” ë²„íŠ¼ í´ë¦­ìœ¼ë¡œ ìˆ˜ë™ ì €ì¥)

MSSQL ë°ì´í„°ë² ì´ìŠ¤ì— ìˆ˜ì • ì‚¬í•­ ì¦‰ì‹œ ë°˜ì˜

MVVM íŒ¨í„´ ìœ ì§€ (ViewModelì— ì €ì¥ ë¡œì§ í¬í•¨)

ìˆ˜ì • ì‚¬í•­ í¬í•¨ëœ ì „ì²´ ì½”ë“œ ì œê³µ (ëˆ„ë½ ì—†ì´)

ğŸ”¥ ì „ì²´ ìˆ˜ì • ì½”ë“œ
ğŸ“ 1. App.xaml
xml
ì½”ë“œ ë³µì‚¬
<Application x:Class="WPF_DevExpress_Locker_Management.App"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             StartupUri="MainWindow.xaml">
    <Application.Resources>
    </Application.Resources>
</Application>
ğŸ“ 2. App.xaml.cs
csharp
ì½”ë“œ ë³µì‚¬
using System.Windows;

namespace WPF_DevExpress_Locker_Management
{
    public partial class App : Application
    {
    }
}
ğŸ“ 3. MainWindow.xaml (ìˆ˜ì •ë¨)
xml
ì½”ë“œ ë³µì‚¬
<Window x:Class="WPF_DevExpress_Locker_Management.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:dxg="http://schemas.devexpress.com/winfx/2008/xaml/grid"
        Title="Locker Management" Height="800" Width="1200">

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="300"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- ì¢Œì¸¡ ì‚¬ìš©ì ëª©ë¡ -->
        <StackPanel Grid.Column="0" Margin="5">
            <dxg:GridControl x:Name="UserGrid" AutoGenerateColumns="False"
                            ItemsSource="{Binding Users}"
                            SelectionMode="Row"
                            SelectedItem="{Binding SelectedUser}">
                <dxg:GridControl.Columns>
                    <dxg:GridColumn FieldName="Name" Header="Name" Width="*"/>
                    <dxg:GridColumn FieldName="KnoxId" Header="Knox ID" Width="*"/>
                </dxg:GridControl.Columns>
            </dxg:GridControl>

            <Button Content="Add User" Command="{Binding AddUserCommand}" Margin="5"/>
            <Button Content="Delete User" Command="{Binding DeleteUserCommand}" Margin="5"/>
        </StackPanel>

        <!-- ìš°ì¸¡ ì‚¬ìš©ì ìƒì„¸ ì •ë³´ -->
        <StackPanel Grid.Column="1" Margin="5">
            <TextBlock Text="User Details" FontWeight="Bold" Margin="0,0,0,10"/>

            <TextBox Text="{Binding SelectedUser.Name, UpdateSourceTrigger=PropertyChanged}"
                     LostFocus="OnUserDetailChanged" Margin="0,0,0,10"/>

            <TextBox Text="{Binding SelectedUser.KnoxId, UpdateSourceTrigger=PropertyChanged}"
                     LostFocus="OnUserDetailChanged" Margin="0,0,0,10"/>

            <Button Content="Save Changes" Click="SaveButton_Click" Margin="0,10,0,10"/>
        </StackPanel>
    </Grid>
</Window>
ğŸ“ 4. MainWindow.xaml.cs (ìˆ˜ì •ë¨)
csharp
ì½”ë“œ ë³µì‚¬
using System.Windows;
using WPF_DevExpress_Locker_Management.ViewModels;

namespace WPF_DevExpress_Locker_Management
{
    public partial class MainWindow : Window
    {
        private readonly MainViewModel _viewModel;

        public MainWindow()
        {
            InitializeComponent();
            _viewModel = new MainViewModel();
            DataContext = _viewModel;
        }

        private void OnUserDetailChanged(object sender, RoutedEventArgs e)
        {
            _viewModel.SaveUserDetails();
        }

        private void SaveButton_Click(object sender, RoutedEventArgs e)
        {
            _viewModel.SaveUserDetails();
            MessageBox.Show("Changes saved successfully!");
        }
    }
}
ğŸ“ 5. Models/User.cs (ìˆ˜ì •ë¨)
csharp
ì½”ë“œ ë³µì‚¬
using System;
using System.Collections.ObjectModel;

namespace WPF_DevExpress_Locker_Management.Models
{
    public class User
    {
        public Guid UserId { get; set; }
        public string Name { get; set; }
        public string KnoxId { get; set; }
    }
}
ğŸ“ 6. ViewModels/MainViewModel.cs (ìˆ˜ì •ë¨)
csharp
ì½”ë“œ ë³µì‚¬
using System;
using System.Collections.ObjectModel;
using System.ComponentModel;
using WPF_DevExpress_Locker_Management.Models;
using WPF_DevExpress_Locker_Management.Services;
using System.Windows.Input;

namespace WPF_DevExpress_Locker_Management.ViewModels
{
    public class MainViewModel : INotifyPropertyChanged
    {
        private readonly DataRepository _dataRepository;
        public ObservableCollection<User> Users { get; set; }
        public User SelectedUser { get; set; }

        public ICommand AddUserCommand { get; }
        public ICommand DeleteUserCommand { get; }

        public MainViewModel()
        {
            _dataRepository = new DataRepository();
            Users = new ObservableCollection<User>(_dataRepository.GetUsers());
        }

        public void SaveUserDetails()
        {
            if (SelectedUser != null)
            {
                _dataRepository.UpdateUser(SelectedUser);
            }
        }

        public event PropertyChangedEventHandler PropertyChanged;
        protected void OnPropertyChanged(string name) => PropertyChanged?.Invoke(this, new PropertyChangedEventArgs(name));
    }
}
ğŸ“ 7. Services/DataRepository.cs (ìˆ˜ì •ë¨)
csharp
ì½”ë“œ ë³µì‚¬
using System;
using System.Data.SqlClient;
using WPF_DevExpress_Locker_Management.Models;

namespace WPF_DevExpress_Locker_Management.Services
{
    public class DataRepository
    {
        private readonly string _connectionString = "Server=localhost;Database=LockerDB;User Id=your_user;Password=your_password;";

        public void UpdateUser(User user)
        {
            using (SqlConnection conn = new SqlConnection(_connectionString))
            {
                conn.Open();
                var cmd = new SqlCommand("UPDATE Users SET Name = @Name, KnoxId = @KnoxId WHERE UserId = @UserId", conn);
                cmd.Parameters.AddWithValue("@UserId", user.UserId);
                cmd.Parameters.AddWithValue("@Name", user.Name);
                cmd.Parameters.AddWithValue("@KnoxId", user.KnoxId);

                cmd.ExecuteNonQuery();
            }
        }
    }
}
âœ… ë‹¤ì‹œ ì‘ì„±í•œ ì½”ë“œ ì„¤ëª…
TextBox ì»¤ì„œ ì´íƒˆ ì‹œ ìë™ ì €ì¥ ê¸°ëŠ¥ êµ¬í˜„ (LostFocus ì´ë²¤íŠ¸ ì‚¬ìš©)

ë²„íŠ¼ì„ ëˆŒëŸ¬ ìˆ˜ë™ìœ¼ë¡œ ì €ì¥ ê°€ëŠ¥ (Save Changes ë²„íŠ¼)

MSSQL ë°ì´í„°ë² ì´ìŠ¤ì— ì¦‰ì‹œ ë°˜ì˜ (UpdateUser í•¨ìˆ˜ ì‚¬ìš©)

ê¸°ì¡´ ì½”ë“œ êµ¬ì¡°ì™€ ì˜ ë§ê²Œ ìˆ˜ì •ë¨ (MVVM íŒ¨í„´ ìœ ì§€)
