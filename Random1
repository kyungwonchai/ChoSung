수정: app/templates/layout.html (CSS 수정 및 최상단 flash 제거 확인)
이 파일의 <style> 태그에서 .flash-messages-container-fixed 관련 CSS를 제거합니다. ul.flash-messages와 그 안의 li (success, error 등)에 대한 스타일은 그대로 유지합니다.

HTML

<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}SControl Web{% endblock %}</title>
    <style>
        body { font-family: sans-serif; margin: 20px; background-color: #f4f4f4; color: #333; }
        nav { background-color: #333; padding: 10px 0; text-align: center; margin-bottom: 20px; }
        nav a { color: white; margin: 0 15px; text-decoration: none; font-weight: bold; }
        nav a:hover { text-decoration: underline; }
        .container { background-color: white; padding: 20px; border-radius: 5px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
        h1, h2 { color: #333; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
        th { background-color: #f0f0f0; }
        
        /* Flash 메시지 리스트 스타일 (li 태그용) - 유지 */
        ul.flash-messages { /* ul 태그에 직접 적용될 스타일 */
            list-style-type: none; /* 기본 list-style 제거 */
            padding-left: 0;       /* 기본 ul 패딩 제거 */
            margin-top: 20px;      /* 위쪽 여백 */
        }
        .flash-messages li { 
            list-style: none; /* 혹시 모르니 li에도 적용 */
            padding: 10px; 
            margin-bottom: 10px; 
            border-radius: 3px; 
        }
        .flash-messages .success { background-color: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
        .flash-messages .error { background-color: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }
        .flash-messages .warning { background-color: #fff3cd; color: #856404; border: 1px solid #ffeeba; }
        .flash-messages .info { background-color: #d1ecf1; color: #0c5460; border: 1px solid #bee5eb; }

        /* --- .flash-messages-container-fixed 관련 CSS 제거 --- */
        /* .flash-messages-container-fixed { ... } */
        /* .flash-messages-container-fixed ul.flash-messages { ... } */
        /* .flash-messages-container-fixed ul.flash-messages li:first-child { ... } */


        .form-group { margin-bottom: 15px; }
        .form-group label { display: block; margin-bottom: 5px; font-weight: bold; }
        .form-group input[type="text"], .form-group input[type="number"], .form-group input[type="password"], .form-group textarea {
            width: calc(100% - 22px); padding: 10px; border: 1px solid #ddd; border-radius: 3px;
        }
        .form-group textarea { resize: vertical; min-height: 80px; }
        .btn { padding: 10px 15px; color: white; border: none; border-radius: 3px; cursor: pointer; text-decoration: none; display: inline-block; font-size: 1em; }
        .btn-primary { background-color: #007bff; }
        .btn-primary:hover { background-color: #0056b3; }
        .btn-danger { background-color: #dc3545; }
        .btn-danger:hover { background-color: #c82333; }
        .btn-secondary { background-color: #6c757d; }
        .btn-secondary:hover { background-color: #545b62; }
        .btn-sm { padding: 5px 10px; font-size: 0.875em;}
        .action-links a, .action-links input[type="submit"] { margin-right: 5px; margin-bottom: 5px;}
        .pagination { margin-top: 20px; text-align: center; }
        .pagination a, .pagination span { margin: 0 5px; padding: 5px 10px; border: 1px solid #ddd; text-decoration: none; color: #007bff; }
        .pagination span.disabled { color: #ccc; border-color: #eee; }
        .pagination strong { font-weight: bold; padding: 5px 10px; border: 1px solid #007bff; background-color: #007bff; color: white; }
    </style>
</head>
<body>
    <nav>
        <a href="{{ url_for('main.index') }}">홈</a>
        {% if current_user_role == 'admin' %}
            <a href="{{ url_for('admin.manage_target_pcs') }}">PC 관리</a>
            <a href="{{ url_for('admin.manage_user_ips') }}">사용자 IP 관리</a>
            <a href="{{ url_for('admin.manage_admin_ips') }}">관리자 IP 관리</a>
        {% endif %}
        {% if current_user_role in ['admin', 'user'] %}
             <a href="{{ url_for('user.control_panel') }}">원격 제어판</a>
        {% endif %}
        <span style="color: #ccc;">(접속 IP: {{ current_user_ip }} | 역할: {{ current_user_role }})</span>
    </nav>

    <div class="container">
        {# layout.html에서는 직접 flash 메시지를 표시하지 않음. 각 content 페이지에서 처리. #}
        {% block content %}{% endblock %}
    </div>

    <footer>
        <p style="text-align: center; margin-top: 20px; color: #777;">&copy; {{ now.year if now else "" }} SControl System</p>
    </footer>
    {% block scripts %}{% endblock %}
</body>
</html>
layout.html 변경 사항:

.flash-messages-container-fixed 관련 CSS 규칙을 모두 삭제했습니다.
<ul class="flash-messages">에 대한 기본 스타일(list-style-type, padding-left, margin-top)을 추가하거나 조정하여 일반적인 목록 형태로 보이도록 했습니다.
div.container 내에서 이전에 flash 메시지를 표시하던 부분을 완전히 제거했습니다. 각 페이지 템플릿이 flash 메시지 표시 여부와 위치를 결정합니다.
2. 수정: app/templates/user/control_panel.html
PC 목록 테이블과 페이지네이션 아래에 flash 메시지를 직접 표시하도록 수정합니다. 고정된 높이의 컨테이너(div class="flash-messages-container-fixed")를 제거하고, ul.flash-messages를 바로 사용합니다.

HTML

{% extends "layout.html" %}

{% block title %}{{ title }}{% endblock %}

{% block content %}
    <h1>{{ title }}</h1>
    <p>제어할 PC를 선택하고 하단의 명령 버튼을 클릭하세요.</p>

    {# --- PC 목록 테이블 및 폼 (이전과 동일) --- #}
    {% if pcs %}
    <form action="{{ url_for('user.send_batch_command') }}" method="POST">
        <table style="margin-bottom: 20px;">
            <thead>
                <tr>
                    <th><input type="checkbox" id="selectAllPcs" onclick="toggleAllCheckBoxes(this, 'selected_pcs')"></th>
                    <th>ID</th>
                    <th>PC 이름</th>
                    <th>주소1 (릴레이 IP)</th>
                    <th>주소2 (최종 IP)</th>
                    <th>설명</th>
                </tr>
            </thead>
            <tbody>
                {% for pc in pcs %}
                <tr>
                    <td><input type="checkbox" name="selected_pcs" value="{{ pc.id }}"></td>
                    <td>{{ pc.id }}</td>
                    <td>{{ pc.pc_name }}</td>
                    <td>{{ pc.address1 }}</td>
                    <td>{{ pc.address2 if pc.address2 else '-' }}</td>
                    <td>{{ pc.description if pc.description else '-' }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>

        <div class="command-buttons">
            <button type="submit" name="command_action" value="켜기" class="btn btn-primary" onclick="return confirmAction('선택된 PC들의 디스플레이 타임아웃을 [사용 안 함]으로 설정합니다. 계속하시겠습니까?');">선택 PC 일괄 켜기 (타임아웃 해제)</button>
            <button type="submit" name="command_action" value="끄기" class="btn btn-danger" onclick="return confirmAction('선택된 PC들의 디스플레이 타임아웃을 [1분 후 끄기]로 설정합니다. 계속하시겠습니까?');">선택 PC 일괄 끄기 (1분 후)</button>
        </div>
    </form>
    
    {% if pagination and pagination.total_pages > 1 %}
    <div class="pagination">
        {% if pagination.has_prev %}
            <a href="{{ url_for(request.endpoint, page=pagination.prev_num) }}">&laquo; 이전</a>
        {% else %}
            <span class="disabled">&laquo; 이전</span>
        {% endif %}
        <span style="margin: 0 10px;">페이지 {{ pagination.page }} / {{ pagination.total_pages }}</span>
        {% if pagination.has_next %}
            <a href="{{ url_for(request.endpoint, page=pagination.next_num) }}">다음 &raquo;</a>
        {% else %}
            <span class="disabled">다음 &raquo;</span>
        {% endif %}
        <span style="margin-left: 15px;">(총 {{ pagination.total_items }}개)</span>
    </div>
    {% endif %}

    {% else %}
    <p>제어 가능한 PC가 등록되어 있지 않습니다. 관리자에게 문의하세요.</p>
    {% endif %}
    {# --- PC 목록 테이블 및 폼 끝 --- #}


    {# --- ▼▼▼ 수정된 Flash 메시지 표시 영역 ▼▼▼ --- #}
    {# 고정된 컨테이너 div 제거, h2 제거 또는 유지 (선택) #}
    <div style="margin-top: 30px;"> {# 간단한 상단 여백 추가 #}
        {# <h2 style="font-size: 1.2em; border-bottom: 1px solid #eee; padding-bottom: 5px;">알림 메시지</h2> #}
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                <ul class="flash-messages"> {# layout.html에 정의된 스타일 적용됨 #}
                {% for category, message in messages %}
                    <li class="{{ category }}">{{ message }}</li>
                {% endfor %}
                </ul>
            {% else %}
                {# 메시지 없을 때 아무것도 표시 안 함 (또는 필요시 "알림 없음" 메시지 표시) #}
                {# <p style="color: #777; font-style: italic;">표시할 알림이 없습니다.</p> #}
            {% endif %}
        {% endwith %}
    </div>
    {# --- ▲▲▲ 수정된 Flash 메시지 표시 영역 ▲▲▲ --- #}

{% endblock %}

{% block scripts %}
{{ super() }} {# layout.html의 scripts 블록 내용을 유지하고 싶다면 #}
<script>
    function toggleAllCheckBoxes(source, name) {
        var checkboxes = document.getElementsByName(name);
        for(var i=0, n=checkboxes.length; i<n; i++) {
            checkboxes[i].checked = source.checked;
        }
    }
    function confirmAction(message) {
        return confirm(message);
    }
</script>
{% endblock %}
control_panel.html 변경 사항:

flash-messages-container-fixed 클래스를 가진 div를 제거했습니다.
선택적으로 "알림 메시지"라는 h2 헤더도 제거하거나 유지할 수 있습니다.
get_flashed_messages 로직을 담고 있는 {% with ... %} 블록과 그 안의 <ul class="flash-messages">는 그대로 유지하되, 이제 일반적인 문서 흐름에 따라 표시됩니다.
메시지가 없을 때 "표시할 알림이 없습니다."라는 텍스트는 주석 처리했습니다 (보통 메시지가 없을 때는 아무것도 표시하지 않는 것이 깔끔합니다).
전체 flash 메시지 영역에 간단한 상단 여백 (<div style="margin-top: 30px;">)을 추가했습니다.
적용 및 테스트:

위 수정된 layout.html과 control_panel.html (또는 유사하게 수정할 다른 관리자 페이지들)을 프로젝트에 적용합니다.
Flask 개발 서버를 재시작합니다.