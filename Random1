using System;
using System.Data;
using System.Windows.Forms;
using DevExpress.XtraEditors.Controls;
using DevExpress.XtraGrid.Views.Grid;

namespace GridViewExample
{
    public partial class Form1 : Form
    {
        private DataTable dataTable;

        public Form1()
        {
            InitializeComponent();

            // DataTable 생성 및 컬럼 추가
            dataTable = new DataTable();
            dataTable.Columns.Add("품목코드", typeof(string));
            dataTable.Columns.Add("품목명", typeof(string));
            dataTable.Columns.Add("수량", typeof(int));

            // 임의의 데이터 추가
            dataTable.Rows.Add("P001", "상품 1", 10);
            dataTable.Rows.Add("P002", "상품 2", 20);
            dataTable.Rows.Add("P003", "상품 3", 30);

            // GridControl에 DataTable 바인딩
            gridControl1.DataSource = dataTable;

            // 신청 처리 버튼 컬럼 추가
            GridColumn applyColumn = gridView1.Columns.AddVisible("신청 처리", "신청 처리");
            applyColumn.ColumnEdit = CreateButtonEdit();
            applyColumn.VisibleIndex = gridView1.Columns.Count - 1;

            // 입고 버튼 컬럼 추가
            GridColumn importColumn = gridView1.Columns.AddVisible("입고", "입고");
            importColumn.ColumnEdit = CreateButtonEdit();
            importColumn.VisibleIndex = gridView1.Columns.Count - 1;

            // 출고 버튼 컬럼 추가
            GridColumn exportColumn = gridView1.Columns.AddVisible("출고", "출고");
            exportColumn.ColumnEdit = CreateButtonEdit();
            exportColumn.VisibleIndex = gridView1.Columns.Count - 1;

            // 컬럼 클릭 이벤트 핸들러 등록
            gridView1.RowCellClick += gridView1_RowCellClick;
        }

        private RepositoryItemButtonEdit CreateButtonEdit()
        {
            var buttonEdit = new RepositoryItemButtonEdit();
            buttonEdit.TextEditStyle = TextEditStyles.HideTextEditor;
            buttonEdit.Buttons.Clear();
            buttonEdit.ButtonsStyle = BorderStyles.Default;
            buttonEdit.Buttons.Add(new EditorButton(ButtonPredefines.Glyph));
            buttonEdit.ButtonClick += ButtonEdit_ButtonClick;
            return buttonEdit;
        }

        private void ButtonEdit_ButtonClick(object sender, ButtonPressedEventArgs e)
        {
            GridView view = gridView1;
            int rowHandle = view.FocusedRowHandle;
            string columnName = view.FocusedColumn.FieldName;

            if (columnName == "신청 처리")
            {
                string 품목코드 = view.GetRowCellValue(rowHandle, "품목코드").ToString();

                // 신청 처리를 위한 코드 추가
                MessageBox.Show("신청 처리하시겠습니까? 품목코드: " + 품목코드);
            }
            else if (columnName == "입고")
            {
                string 품목코드 = view.GetRowCellValue(rowHandle, "품목코드").ToString();

                // 입고 처리를 위한 코드 추가
                MessageBox.Show("입고 처리하시겠습니까? 품목코드: " + 품목코드);
            }
            else if (columnName == "출고")
            {
                string 품목코드 = view.GetRowCellValue(rowHandle, "품목
