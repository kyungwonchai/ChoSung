, 맞습니다. 외부에서 접속하고 항상 실행되도록 하려면 비밀번호 설정과 서비스 등록, 두 가지 작업이 필요합니다.

우분투의 systemd를 사용하여 Jupyter Notebook을 시스템 서비스로 등록하고, 외부에서 안전하게 접속할 수 있도록 설정하는 방법을 단계별로 알려드릴게요.

1단계: Jupyter Notebook 설정 파일 생성 및 비밀번호 설정
먼저 외부 접속에 필요한 설정을 구성합니다. 반드시 이전에 생성했던 가상 환경을 활성화하고 진행하세요.

Bash

# 이전에 만든 가상 환경 활성화
source my-jupyter/bin/activate
설정 파일 생성
다음 명령어를 실행하면 홈 디렉토리 아래에 .jupyter라는 숨김 폴더와 그 안에 jupyter_notebook_config.py 파일이 생성됩니다.

Bash

jupyter notebook --generate-config
비밀번호 설정
Jupyter Notebook에 접속할 때 사용할 비밀번호를 설정합니다. 명령어를 실행하면 비밀번호를 두 번 입력하라는 메시지가 나옵니다.

Bash

jupyter notebook password
입력이 완료되면, 방금 생성된 설정 파일(jupyter_notebook_config.py)에 암호화된 비밀번호가 자동으로 저장됩니다.

설정 파일 수정
이제 외부 접속을 허용하도록 설정 파일을 수정해야 합니다. nano나 vim 같은 텍스트 편집기로 파일을 열어주세요.

Bash

nano ~/.jupyter/jupyter_notebook_config.py
파일 내용 중에서 아래 항목들을 찾아 주석(#)을 제거하고 다음과 같이 수정합니다. (파일의 맨 윗부분에 추가해도 괜찮습니다.)

Python

## 모든 IP에서의 접속을 허용합니다.
c.NotebookApp.ip = '0.0.0.0'

## 브라우저를 자동으로 열지 않도록 설정합니다.
c.NotebookApp.open_browser = False

## 접속할 포트 번호를 지정합니다. (기본값은 8888)
c.NotebookApp.port = 8888

## 노트북 파일이 저장될 작업 디렉토리를 지정합니다. (예: /home/사용자명/notebooks)
# 이 디렉토리는 미리 만들어 두어야 합니다.
# mkdir ~/notebooks
c.NotebookApp.notebook_dir = '/home/ubuntu/notebooks' # 'ubuntu'는 실제 사용자명으로 변경
※ 주의: c.NotebookApp.notebook_dir에 지정할 디렉토리는 미리 생성해두어야 합니다. (mkdir ~/notebooks)

2단계: Systemd 서비스로 등록하여 항상 실행되게 하기
이제 Jupyter Notebook을 시스템 부팅 시 자동으로 실행되고, 종료되어도 다시 시작되는 서비스로 만듭니다.

서비스 파일 생성
systemd 서비스 설정 파일을 생성합니다.

Bash

sudo nano /etc/systemd/system/jupyter.service
서비스 내용 작성
열린 파일에 아래 내용을 복사하여 붙여넣습니다. User와 ExecStart, WorkingDirectory는 반드시 자신의 환경에 맞게 수정해야 합니다.

Ini, TOML

[Unit]
Description=Jupyter Notebook Server
After=network.target

[Service]
Type=simple
# 이 서비스를 실행할 사용자 계정 (예: ubuntu)
User=ubuntu
# 가상 환경 내의 jupyter 실행 파일 경로와 옵션을 정확히 기재
# which jupyter 명령어로 경로 확인 가능 (예: /home/ubuntu/my-jupyter/bin/jupyter)
ExecStart=/home/ubuntu/my-jupyter/bin/jupyter notebook --config=/home/ubuntu/.jupyter/jupyter_notebook_config.py
# 위에서 설정한 작업 디렉토리
WorkingDirectory=/home/ubuntu/notebooks
Restart=always
RestartSec=10

[Install]
WantedBy=multi-user.target
🔥 중요:

User: 우분투에 로그인하는 사용자 계정명으로 변경하세요.

ExecStart: which jupyter 명령어를 (가상 환경이 활성화된 상태에서) 실행하여 나오는 jupyter의 전체 경로로 수정해야 합니다.

WorkingDirectory: 위 설정 파일에서 c.NotebookApp.notebook_dir에 지정한 경로와 동일하게 맞춰주세요.

서비스 활성화 및 시작
서비스 파일을 저장하고 나온 뒤, 아래 명령어들을 순서대로 실행하여 서비스를 시스템에 등록하고 시작합니다.

Bash

# systemd에 새로운 서비스 파일 인식시키기
sudo systemctl daemon-reload

# Jupyter 서비스 시작
sudo systemctl start jupyter

# 시스템 부팅 시 자동으로 서비스가 시작되도록 설정
sudo systemctl enable jupyter
3단계: 방화벽 설정 및 외부에서 접속하기
방화벽 포트 허용 (ufw 사용 시)
우분투의 방화벽(ufw)이 활성화되어 있다면, 위에서 설정한 포트(예: 8888)를 열어주어야 외부에서 접속할 수 있습니다.

Bash

sudo ufw allow 8888/tcp
서비스 상태 확인
아래 명령어로 서비스가 잘 실행되고 있는지 확인할 수 있습니다. active (running)이라는 녹색 글자가 보이면 성공입니다.

Bash

sudo systemctl status jupyter
외부에서 접속
이제 다른 PC의 웹 브라우저 주소창에 http://<우분투_서버_IP주소>:8888을 입력하여 접속합니다. 비밀번호를 묻는 화면이 나타나면 1단계에서 설정했던 비밀번호를 입력하고 로그인하면 됩니다.

이제 서버를 재부팅해도 Jupyter Notebook이 항상 실행되며, 언제든지 외부에서 접속하여 작업을 이어갈 수 있습니다.






동영상
