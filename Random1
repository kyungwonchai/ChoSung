ì„œ íƒ€ì´í‹€ë°” ë”ë¸” í´ë¦­ì„ ì œëŒ€ë¡œ ë™ì‘í•˜ë„ë¡ êµ¬í˜„í•˜ë ¤ë©´, íƒ€ì´í‹€ë°”ë¥¼ ë”ë¸” í´ë¦­í–ˆëŠ”ì§€ ê°ì§€í•´ì•¼ í•©ë‹ˆë‹¤. SkinableFormì€ ê¸°ë³¸ì ìœ¼ë¡œ Windowsì˜ íƒ€ì´í‹€ë°” ë©”ì‹œì§€ë¥¼ ì²˜ë¦¬í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì—, ì‚¬ìš©ì ì •ì˜ íƒ€ì´í‹€ë°”ë¥¼ êµ¬í˜„í•˜ë©´ì„œ WM_NCLBUTTONDBLCLK ë©”ì‹œì§€ë¥¼ ì§ì ‘ ì²˜ë¦¬í•´ì•¼ í•©ë‹ˆë‹¤.

ì•„ë˜ëŠ” íƒ€ì´í‹€ë°” ë”ë¸” í´ë¦­ìœ¼ë¡œ ìµœëŒ€í™”/ë³µì› ê¸°ëŠ¥ì„ í¬í•¨í•œ ì™„ì„±ëœ ì½”ë“œì…ë‹ˆë‹¤.

ì½”ë“œ êµ¬í˜„: íƒ€ì´í‹€ë°” ë”ë¸” í´ë¦­ ê°ì§€ ë° ë™ì‘ ì¶”ê°€
csharp
ì½”ë“œ ë³µì‚¬
using DevExpress.XtraEditors;
using System;
using System.Drawing;
using System.Runtime.InteropServices;
using System.Windows.Forms;

public partial class MySkinableForm : XtraForm
{
    private SimpleButton minimizeButton;
    private SimpleButton maximizeButton;
    private SimpleButton closeButton;

    // Windows ë©”ì‹œì§€ ìƒìˆ˜
    private const int WM_NCLBUTTONDBLCLK = 0xA3; // íƒ€ì´í‹€ë°” ë”ë¸” í´ë¦­ ë©”ì‹œì§€
    private const int WM_NCLBUTTONDOWN = 0xA1; // íƒ€ì´í‹€ë°” í´ë¦­ ë©”ì‹œì§€
    private const int HT_CAPTION = 0x2; // íƒ€ì´í‹€ë°” ì˜ì—­

    public MySkinableForm()
    {
        InitializeComponent();

        // ê¸°ë³¸ ì„¤ì •
        this.FormBorderStyle = FormBorderStyle.None; // ê¸°ë³¸ íƒ€ì´í‹€ë°” ì œê±°
        this.Padding = new Padding(0, 30, 0, 0); // ì‚¬ìš©ì ì •ì˜ íƒ€ì´í‹€ë°” ë†’ì´
        this.DoubleBuffered = true; // ê¹œë¹¡ì„ ë°©ì§€

        // ìµœì†Œí™” ë²„íŠ¼
        minimizeButton = CreateTitleBarButton("-", new Point(this.Width - 120, 5), MinimizeButton_Click);

        // ìµœëŒ€í™”/ë³µì› ë²„íŠ¼
        maximizeButton = CreateTitleBarButton("ğŸ—–", new Point(this.Width - 80, 5), MaximizeButton_Click);

        // ë‹«ê¸° ë²„íŠ¼
        closeButton = CreateTitleBarButton("X", new Point(this.Width - 40, 5), CloseButton_Click);

        // ë²„íŠ¼ ì¶”ê°€
        this.Controls.Add(minimizeButton);
        this.Controls.Add(maximizeButton);
        this.Controls.Add(closeButton);

        // í¼ í¬ê¸° ë³€ê²½ ì‹œ ë²„íŠ¼ ìœ„ì¹˜ ì¡°ì •
        this.SizeChanged += MySkinableForm_SizeChanged;
    }

    private void MySkinableForm_SizeChanged(object sender, EventArgs e)
    {
        // ë²„íŠ¼ ìœ„ì¹˜ ì—…ë°ì´íŠ¸
        minimizeButton.Location = new Point(this.Width - 120, 5);
        maximizeButton.Location = new Point(this.Width - 80, 5);
        closeButton.Location = new Point(this.Width - 40, 5);
    }

    protected override void OnPaint(PaintEventArgs e)
    {
        base.OnPaint(e);

        // íƒ€ì´í‹€ë°” ë°°ê²½
        var titleBarRect = new Rectangle(0, 0, this.Width, 30);
        using (var titleBarBrush = new SolidBrush(Color.SkyBlue)) // íƒ€ì´í‹€ë°” ìƒ‰ìƒ
        {
            e.Graphics.FillRectangle(titleBarBrush, titleBarRect);
        }

        // íƒ€ì´í‹€ í…ìŠ¤íŠ¸
        string titleText = this.Text;
        using (var font = new Font("Arial", 10, FontStyle.Bold))
        using (var textBrush = new SolidBrush(Color.White))
        {
            e.Graphics.DrawString(titleText, font, textBrush, new PointF(10, 7));
        }
    }

    protected override void WndProc(ref Message m)
    {
        base.WndProc(ref m);

        // íƒ€ì´í‹€ë°” ë”ë¸” í´ë¦­ ê°ì§€
        if (m.Msg == WM_NCLBUTTONDBLCLK)
        {
            ToggleWindowState(); // ìµœëŒ€í™”/ë³µì› ì²˜ë¦¬
        }
        else if (m.Msg == WM_NCLBUTTONDOWN && m.WParam.ToInt32() == HT_CAPTION)
        {
            // íƒ€ì´í‹€ë°” ë“œë˜ê·¸ë¡œ ì°½ ì´ë™
            this.Capture = false;
            var message = Message.Create(this.Handle, WM_NCLBUTTONDOWN, new IntPtr(HT_CAPTION), IntPtr.Zero);
            base.WndProc(ref message);
        }
    }

    private SimpleButton CreateTitleBarButton(string text, Point location, EventHandler clickHandler)
    {
        var button = new SimpleButton
        {
            Text = text,
            Appearance = { BackColor = Color.LightGray, ForeColor = Color.Black },
            Size = new Size(30, 20),
            Location = location,
            ButtonStyle = DevExpress.XtraEditors.Controls.BorderStyles.NoBorder,
            FlatStyle = FlatStyle.Flat,
        };
        button.Click += clickHandler;
        return button;
    }

    private void MinimizeButton_Click(object sender, EventArgs e)
    {
        this.WindowState = FormWindowState.Minimized; // ìµœì†Œí™”
    }

    private void MaximizeButton_Click(object sender, EventArgs e)
    {
        ToggleWindowState(); // ìµœëŒ€í™”/ë³µì›
    }

    private void CloseButton_Click(object sender, EventArgs e)
    {
        this.Close(); // ë‹«ê¸°
    }

    private void ToggleWindowState()
    {
        if (this.WindowState == FormWindowState.Maximized)
        {
            this.WindowState = FormWindowState.Normal;
            maximizeButton.Text = "ğŸ—–"; // ìµœëŒ€í™” ì•„ì´ì½˜
        }
        else
        {
            this.WindowState = FormWindowState.Maximized;
            maximizeButton.Text = "ğŸ——"; // ë³µì› ì•„ì´ì½˜
        }
    }
}
í•µì‹¬ êµ¬í˜„ ì‚¬í•­
íƒ€ì´í‹€ë°” ë”ë¸” í´ë¦­ ì²˜ë¦¬:

WndProc ë©”ì„œë“œì—ì„œ WM_NCLBUTTONDBLCLK ë©”ì‹œì§€ë¥¼ ê°ì§€í•˜ì—¬ ìµœëŒ€í™”/ë³µì› ë™ì‘ì„ ì‹¤í–‰í•©ë‹ˆë‹¤.
íƒ€ì´í‹€ë°” ë“œë˜ê·¸ë¡œ ì°½ ì´ë™:

WM_NCLBUTTONDOWN ë©”ì‹œì§€ë¥¼ ì²˜ë¦¬í•˜ì—¬ ì°½ì„ ì´ë™í•  ìˆ˜ ìˆë„ë¡ êµ¬í˜„.
íƒ€ì´í‹€ë°” ë²„íŠ¼:

SimpleButtonì„ ì‚¬ìš©í•˜ì—¬ ìµœì†Œí™”, ìµœëŒ€í™”/ë³µì›, ë‹«ê¸° ë²„íŠ¼ì„ ìƒì„±.
ë²„íŠ¼ì˜ ìœ„ì¹˜ëŠ” í¼ í¬ê¸°ì— ë”°ë¼ ë™ì ìœ¼ë¡œ ì—…ë°ì´íŠ¸(SizeChanged).
ìµœëŒ€í™”/ë³µì› ë™ì‘:

ToggleWindowState ë©”ì„œë“œë¥¼ í†µí•´ ìƒíƒœë¥¼ ì „í™˜.
ìƒíƒœì— ë”°ë¼ ë²„íŠ¼ì˜ í…ìŠ¤íŠ¸ë„ ë™ì ìœ¼ë¡œ ì—…ë°ì´íŠ¸(ğŸ—– ë˜ëŠ” ğŸ——).
ë””ìì¸ ë° ìŠ¤íƒ€ì¼: