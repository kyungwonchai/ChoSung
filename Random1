êµ¬ì‚¬í•­ ì •ë¦¬
íƒ­ ì•ˆì— ìµœìƒë‹¨ì— ë²„íŠ¼ 2ê°œ ì¶”ê°€ (t1, t2).

ë²„íŠ¼ì€ ìŠ¤í¬ë¡¤ì„ ë‚´ë ¤ë„ ê³ ì •ë˜ì–´ í‘œì‹œë˜ë„ë¡ ì„¤ì •.

ë²„íŠ¼ í´ë¦­ì— ë”°ë¼ ì‹¤í–‰ë˜ëŠ” í”„ë¡œì‹œì € ì´ë¦„ì´ ë³€ê²½ (t1, t2).

t1 í´ë¦­ ì‹œ Get_min_bestdifferent_t1 ì‹¤í–‰.

t2 í´ë¦­ ì‹œ Get_min_bestdifferent_t2 ì‹¤í–‰.

ë°ì´í„° ì¡°íšŒ í›„ í…Œì´ë¸”ë¡œ í‘œì‹œ.

âœ… Streamlit ì½”ë“œ (ë²„íŠ¼ ê³ ì • ë° í”„ë¡œì‹œì € ë³€ê²½)
python
ì½”ë“œ ë³µì‚¬
import streamlit as st
import pymssql
import pandas as pd

# MSSQL ì„œë²„ ì—°ê²° ì„¤ì • í•¨ìˆ˜
def get_connection():
    return pymssql.connect(
        server="YOUR_SERVER",
        user="YOUR_USER",
        password="YOUR_PASSWORD",
        database="YOUR_DATABASE"
    )

# Get_min_bestdifferent í”„ë¡œì‹œì € í˜¸ì¶œ í•¨ìˆ˜ (cursor.fetchall() ë°©ì‹)
def fetch_main_data(proc_name):
    conn = get_connection()
    cursor = conn.cursor()
    cursor.execute(f"EXEC {proc_name}")
    rows = cursor.fetchall()
    conn.close()
    return rows

# DataFrame ìƒì„± í•¨ìˆ˜ (ì „ì²´ ë†’ì´ ì‚¬ìš©)
def create_dataframe(rows):
    original_columns = [
        "group1", "line1", "model1", "type1", "ecn1", "edition1",
        "ACT2_1", "ACT2_2", "ACT2_3", "ACT2_4",
        "ACT2_5", "ACT2_6", "ACT2_7", "ACT2_8"
    ]

    new_columns = [
        "group1", "line1", "model1", "type1", "ecn1", "edition1",
        "MC1", "MC2", "MC3", "MC4", "MC5", "MC6", "MC7", "MC8"
    ]

    df = pd.DataFrame(rows, columns=original_columns)
    df.columns = new_columns

    mc_columns = [f"MC{i}" for i in range(1, 9)]
    df[mc_columns] = df[mc_columns].astype(float).round(2)

    return df

# Streamlit ì•± êµ¬ì„±
def main():
    st.set_page_config(page_title="MC1 ~ MC8 Data Table", layout="wide")
    st.title("MC1 ~ MC8 Data Table - Fullscreen Mode")

    # ì´ˆê¸° í”„ë¡œì‹œì € ì´ë¦„ ì„¤ì •
    proc_name = st.session_state.get("proc_name", "Get_min_bestdifferent_t1")

    # CSS ìŠ¤íƒ€ì¼ ì¶”ê°€ (ë²„íŠ¼ì„ ê³ ì •í•˜ê¸° ìœ„í•œ ìŠ¤íƒ€ì¼ ì„¤ì •)
    st.markdown("""
        <style>
            .css-1oe6wy4 {
                max-width: 100%;
            }
            .css-18e3th9 {
                padding-top: 0rem;
                padding-bottom: 0rem;
            }
            .block-container {
                padding: 0;
                margin: 0;
                height: 100vh;
                width: 100%;
            }
            .fixed-buttons {
                position: sticky;
                top: 0;
                background-color: white;
                z-index: 100;
                padding: 10px;
                display: flex;
                gap: 10px;
            }
        </style>
    """, unsafe_allow_html=True)

    # ë²„íŠ¼ ê³ ì • ë ˆì´ì•„ì›ƒ
    st.markdown('<div class="fixed-buttons">', unsafe_allow_html=True)
    col1, col2 = st.columns(2)

    with col1:
        if st.button("t1", key="t1"):
            st.session_state.proc_name = "Get_min_bestdifferent_t1"

    with col2:
        if st.button("t2", key="t2"):
            st.session_state.proc_name = "Get_min_bestdifferent_t2"

    st.markdown('</div>', unsafe_allow_html=True)

    # ì„ íƒëœ í”„ë¡œì‹œì € ì´ë¦„ ê°€ì ¸ì˜¤ê¸°
    proc_name = st.session_state.get("proc_name", "Get_min_bestdifferent_t1")
    rows = fetch_main_data(proc_name)
    
    if not rows:
        st.error("ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤. í”„ë¡œì‹œì € ë˜ëŠ” ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°ì„ í™•ì¸í•˜ì„¸ìš”.")
    else:
        df = create_dataframe(rows)

        tabs = st.tabs(["ë©”ì¸ í…Œì´ë¸”", "íƒ­2", "íƒ­3"])

        with tabs[0]:
            st.subheader(f"ë©”ì¸ í…Œì´ë¸” - ì¡°íšŒ í”„ë¡œì‹œì €: {proc_name}")
            st.dataframe(df, use_container_width=True, height=3000)

        with tabs[1]:
            st.subheader("íƒ­ 2 ë‚´ìš©")
            st.write("ì—¬ê¸°ëŠ” íƒ­ 2 ì…ë‹ˆë‹¤.")

        with tabs[2]:
            st.subheader("íƒ­ 3 ë‚´ìš©")
            st.write("ì—¬ê¸°ëŠ” íƒ­ 3 ì…ë‹ˆë‹¤.")

if __name__ == "__main__":
    main()
âœ… ì½”ë“œ ì„¤ëª…
ê³ ì • ë²„íŠ¼ êµ¬í˜„ (ìŠ¤í¬ë¡¤í•´ë„ í•­ìƒ ìƒë‹¨ì— ìœ„ì¹˜)

css
ì½”ë“œ ë³µì‚¬
.fixed-buttons {
    position: sticky;
    top: 0;
    background-color: white;
    z-index: 100;
    padding: 10px;
    display: flex;
    gap: 10px;
}
position: sticky; ë¥¼ ì‚¬ìš©í•˜ì—¬ ìŠ¤í¬ë¡¤í•´ë„ ë²„íŠ¼ì´ ìƒë‹¨ì— ê³ ì •ë©ë‹ˆë‹¤.

z-index: 100; ë¥¼ ì‚¬ìš©í•˜ì—¬ í…Œì´ë¸”ë³´ë‹¤ ë²„íŠ¼ì´ í•­ìƒ ìœ„ì— í‘œì‹œë©ë‹ˆë‹¤.

ë²„íŠ¼ì— ë”°ë¥¸ í”„ë¡œì‹œì € ë³€ê²½ (st.session_state í™œìš©)

python
ì½”ë“œ ë³µì‚¬
if st.button("t1", key="t1"):
    st.session_state.proc_name = "Get_min_bestdifferent_t1"
if st.button("t2", key="t2"):
    st.session_state.proc_name = "Get_min_bestdifferent_t2"
ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ st.session_state ì— ì €ì¥ëœ í”„ë¡œì‹œì € ì´ë¦„ì´ ë³€ê²½ë©ë‹ˆë‹¤.

ì´í›„ ë°ì´í„° ì¡°íšŒ ì‹œ ì‚¬ìš©ë˜ëŠ” í”„ë¡œì‹œì €ê°€ ë³€ê²½ë©ë‹ˆë‹¤.

ì¡°íšŒëœ ë°ì´í„°ë¥¼ í‘œì‹œ (st.dataframe())

python
ì½”ë“œ ë³µì‚¬
st.dataframe(df, use_container_width=True, height=3000)
ë°ì´í„°ê°€ í™”ë©´ ì „ì²´ë¡œ í‘œì‹œë˜ë„ë¡ ì„¤ì •.

height ê°’ì„ í¬ê²Œ ì„¤ì •í•˜ì—¬ ìŠ¤í¬ë¡¤ ì—†ì´ í‘œì‹œí•©ë‹ˆë‹¤.

ğŸ“Œ Streamlit ì‹¤í–‰ ë°©ë²•
bash
ì½”ë“œ ë³µì‚¬
streamlit run your_script_name.py
ğŸ”¥ ê²°ê³¼
ë²„íŠ¼ t1 ê³¼ t2 ê°€ í™”ë©´ì˜ ìµœìƒë‹¨ì— ê³ ì •ë˜ì–´ í‘œì‹œë©ë‹ˆë‹¤.

ë²„íŠ¼ í´ë¦­ ì‹œ ë‹¤ë¥¸ í”„ë¡œì‹œì €ë¥¼ í˜¸ì¶œí•˜ì—¬ ë°ì´í„°ë¥¼ ìƒˆë¡œ ì¡°íšŒí•©ë‹ˆë‹¤.

í…Œì´ë¸”ì€ ìµœëŒ€ í¬ê¸°ë¡œ í‘œì‹œë˜ë©° ìŠ¤í¬ë¡¤ ì—†ì´ í‘œì‹œë©ë‹ˆë‹¤.