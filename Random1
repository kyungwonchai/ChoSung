 PictureBoxì— OpenCvSharp ì´ë¯¸ì§€ í‘œì‹œí•˜ê¸°
WinFormsì—ì„œëŠ” PictureBoxë¥¼ ì‚¬ìš©í•˜ì—¬ OpenCvSharpì—ì„œ ì²˜ë¦¬í•œ ì´ë¯¸ì§€ë¥¼ í‘œì‹œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

1. í•µì‹¬ ê°œë…
í™”ë©´ ìº¡ì²˜ â†’ Bitmap ë³€í™˜
Bitmapì„ Matìœ¼ë¡œ ë³€í™˜
ì´ì§„í™” ì ìš© (Threshold)
ì´ì§„í™”ëœ Matì„ Bitmapìœ¼ë¡œ ë³€í™˜
WinForms PictureBoxì— ì´ë¯¸ì§€ í‘œì‹œ
2. WinForms UI ë””ìì¸
ğŸ“Œ í¼ (Form1.cs [Design])

Button (btnProcess) â†’ ì´ë¯¸ì§€ ì²˜ë¦¬ ì‹¤í–‰
PictureBox (pictureBox1) â†’ ê²°ê³¼ ì´ë¯¸ì§€ í‘œì‹œ
ğŸ“Œ ë””ìì´ë„ˆì—ì„œ ì§ì ‘ ì¶”ê°€ ê°€ëŠ¥

ë²„íŠ¼: btnProcess (í…ìŠ¤íŠ¸: "ì´ì§„í™” ì ìš©")
PictureBox: pictureBox1 (í¬ê¸° 600x400)
3. WinForms ì½”ë“œ (Form1.cs)
csharp
ì½”ë“œ ë³µì‚¬
using System;
using System.Drawing;
using System.IO;
using System.Windows.Forms;
using OpenCvSharp;
using OpenCvSharp.Extensions;

namespace WinFormsOpenCv
{
    public partial class Form1 : Form
    {
        public Form1()
        {
            InitializeComponent();
        }

        // ë²„íŠ¼ í´ë¦­ ì‹œ ì‹¤í–‰
        private void btnProcess_Click(object sender, EventArgs e)
        {
            // í™”ë©´ ìº¡ì²˜
            Bitmap screenshot = CaptureScreen();

            // OpenCV Mat ë³€í™˜ ë° ì´ì§„í™” ì ìš©
            Mat matImage = BitmapConverter.ToMat(screenshot);
            Mat gray = new Mat();
            Cv2.CvtColor(matImage, gray, ColorConversionCodes.BGR2GRAY);
            Mat binary = new Mat();
            Cv2.Threshold(gray, binary, 200, 255, ThresholdTypes.Binary);

            // PictureBoxì— í‘œì‹œ
            pictureBox1.Image = ConvertMatToBitmap(binary);
        }

        // í™”ë©´ ìº¡ì²˜ í•¨ìˆ˜
        private Bitmap CaptureScreen()
        {
            Rectangle bounds = Screen.PrimaryScreen.Bounds;
            Bitmap bitmap = new Bitmap(bounds.Width, bounds.Height);
            using (Graphics g = Graphics.FromImage(bitmap))
            {
                g.CopyFromScreen(Point.Empty, Point.Empty, bounds.Size);
            }
            return bitmap;
        }

        // Mat â†’ Bitmap ë³€í™˜
        private Bitmap ConvertMatToBitmap(Mat mat)
        {
            return mat.ToBitmap();
        }
    }
}
4. ì½”ë“œ ì„¤ëª…
âœ” ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸ (btnProcess_Click)
í™”ë©´ ìº¡ì²˜ â†’ Bitmapìœ¼ë¡œ ì €ì¥
csharp
ì½”ë“œ ë³µì‚¬
Bitmap screenshot = CaptureScreen();
OpenCvSharp Matìœ¼ë¡œ ë³€í™˜
csharp
ì½”ë“œ ë³µì‚¬
Mat matImage = BitmapConverter.ToMat(screenshot);
ê·¸ë ˆì´ìŠ¤ì¼€ì¼ ë³€í™˜
csharp
ì½”ë“œ ë³µì‚¬
Mat gray = new Mat();
Cv2.CvtColor(matImage, gray, ColorConversionCodes.BGR2GRAY);
ì´ì§„í™” ì ìš© (Threshold)
csharp
ì½”ë“œ ë³µì‚¬
Mat binary = new Mat();
Cv2.Threshold(gray, binary, 200, 255, ThresholdTypes.Binary);
ì´ì§„í™”ëœ Matì„ Bitmapìœ¼ë¡œ ë³€í™˜ í›„ PictureBoxì— í‘œì‹œ
csharp
ì½”ë“œ ë³µì‚¬
pictureBox1.Image = ConvertMatToBitmap(binary);
5. ì‹¤í–‰ ê²°ê³¼
WinForms ì•± ì‹¤í–‰
"ì´ì§„í™” ì ìš©" ë²„íŠ¼ í´ë¦­
í˜„ì¬ í™”ë©´ì„ ìº¡ì²˜í•˜ì—¬ í°ìƒ‰ ë°°ê²½ì„ ìœ ì§€í•œ ì±„ ë‚˜ë¨¸ì§€ëŠ” ê²€ì€ìƒ‰ìœ¼ë¡œ ë³€í™˜