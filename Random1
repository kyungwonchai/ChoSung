 현상은 Windows 11의 알림 팝업이 뜰 때 WPF의 TextBox가 자동으로 전체 선택되는 문제로 보입니다.
이는 특정 상황에서 Windows의 기본 동작(알림 포커스 처리)과 WPF의 입력 포커스 관리 방식이 충돌하면서 발생할 수 있습니다.

가능한 원인
알림이 포커스를 가로채고 복귀하면서 전체 선택됨

Windows 11에서 알림이 발생하면 현재 활성화된 창의 입력 포커스가 잠시 이동했다가 다시 돌아올 수 있습니다.
WPF의 TextBox는 GotFocus 이벤트 시 기본적으로 전체 선택(SelectAll()) 동작을 수행할 수 있습니다.
IME(입력기)와 연관된 문제

Windows 11에서 한글/영어 IME 전환 시 TextBox의 텍스트가 전체 선택될 수 있습니다.
한영 전환 중 TextBox가 포커스를 잃고 다시 얻으면 전체 선택될 가능성이 있습니다.
알림창과 UI 쓰레드 간의 상호작용

WPF에서는 UI 쓰레드가 알림을 처리하는 동안 잠시 포커스를 잃을 수 있으며, 포커스가 복구될 때 TextBox가 예상치 못한 동작을 수행할 수 있습니다.
해결 방법
1. TextBox의 자동 전체 선택 비활성화
TextBox가 포커스를 얻을 때 전체 선택되는 동작을 막는 방법입니다.

csharp
코드 복사
private void TextBox_GotFocus(object sender, RoutedEventArgs e)
{
    var textBox = sender as TextBox;
    if (textBox != null)
    {
        textBox.SelectionLength = 0; // 전체 선택 방지
        textBox.SelectionStart = textBox.Text.Length; // 커서를 마지막으로 이동
    }
}
XAML에서 적용:

xml
코드 복사
<TextBox GotFocus="TextBox_GotFocus" />
2. PreviewGotKeyboardFocus 이벤트 활용
알림이 뜰 때 포커스가 이동했다가 돌아오는 것을 감지하여 전체 선택을 방지하는 방법입니다.

csharp
코드 복사
private void TextBox_PreviewGotKeyboardFocus(object sender, KeyboardFocusChangedEventArgs e)
{
    var textBox = sender as TextBox;
    if (textBox != null)
    {
        e.Handled = true; // 기본 동작 차단
        textBox.CaretIndex = textBox.Text.Length; // 커서를 마지막 위치로 이동
    }
}
XAML에서 적용:

xml
코드 복사
<TextBox PreviewGotKeyboardFocus="TextBox_PreviewGotKeyboardFocus" />
3. Windows 11 알림 비활성화 (테스트용)
이 현상이 Windows 11 알림과 직접적으로 관련 있는지 확인하려면, 알림을 일시적으로 비활성화하고 테스트해볼 수 있습니다.

Windows 설정 → 시스템 → 알림
"Windows에서 제안하는 방법 표시" 끄기
특정 앱의 알림 비활성화 후 테스트
결론
Windows 11에서 알림이 발생하면 WPF TextBox가 자동으로 전체 선택되는 문제가 발생할 수 있음.
GotFocus나 PreviewGotKeyboardFocus 이벤트를 활용하여 전체 선택 방지 가능.