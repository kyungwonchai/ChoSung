<Grid>
    <Grid.ColumnDefinitions>
        <ColumnDefinition Width="9*"/>
        <ColumnDefinition Width="1*"/>
    </Grid.ColumnDefinitions>

    <Grid.RowDefinitions>
        <RowDefinition Height="1*"/>
        <RowDefinition Height="1*"/>
    </Grid.RowDefinitions>

    <!-- DataGrid for Command Queue -->
    <DataGrid Grid.Row="0" Grid.Column="0" ItemsSource="{Binding RemainingCommands}" AutoGenerateColumns="False" Margin="10">
        <DataGrid.Columns>
            <DataGridTextColumn Header="Command Text" Binding="{Binding CommandText}" Width="*"/>
            <DataGridTextColumn Header="Status" Binding="{Binding Status}" Width="*"/>
            <DataGridTextColumn Header="Retry Count" Binding="{Binding RetryCount}" Width="*"/>
            <DataGridTextColumn Header="Response Time" Binding="{Binding ResponseTime}" Width="*"/>
        </DataGrid.Columns>
        <!-- 에러 행의 배경색을 노랑으로 설정하는 부분 -->
        <DataGrid.RowStyle>
            <Style TargetType="DataGridRow">
                <Style.Triggers>
                    <DataTrigger Binding="{Binding Status}" Value="Failed">
                        <Setter Property="Background" Value="Yellow"/>
                    </DataTrigger>
                </Style.Triggers>
            </Style>
        </DataGrid.RowStyle>
    </DataGrid>

    <!-- ProgressBar -->
    <StackPanel Grid.Column="1" VerticalAlignment="Stretch" Margin="10">
        <TextBlock Text="Progress" HorizontalAlignment="Center"/>
        <ProgressBar VerticalAlignment="Top" Height="300" Width="30" Orientation="Vertical"
                     Value="{Binding Progress}" Maximum="{Binding MaximumQueueSize}" Margin="10"/>
        <TextBlock Text="{Binding Progress, StringFormat='Current Tasks: {0}'}" HorizontalAlignment="Center"/>
    </StackPanel>
</Grid>
