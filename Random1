using DevExpress.XtraEditors;
using System;
using System.Data;
using System.Data.SqlClient;
using System.Drawing;
using System.IO;
using System.Windows.Forms;

private void btnRegister_Click(object sender, EventArgs e)
{
    string connectionString = "Your_Connection_String"; // MSSQL 데이터베이스 연결 문자열

    string textValue = textEdit1.Text;
    Image image = pictureEdit1.Image;

    if (!string.IsNullOrEmpty(textValue) && image != null)
    {
        try
        {
            byte[] imageBytes = ImageToByteArray(image);

            using (SqlConnection connection = new SqlConnection(connectionString))
            {
                connection.Open();

                SqlCommand command = new SqlCommand("INSERT INTO Your_Table (TextValue, ImageValue) VALUES (@TextValue, @ImageValue)", connection);
                command.Parameters.Add("@TextValue", SqlDbType.NVarChar).Value = textValue;
                command.Parameters.Add("@ImageValue", SqlDbType.VarBinary).Value = imageBytes;

                command.ExecuteNonQuery();

                XtraMessageBox.Show("등록되었습니다.");
            }
        }
        catch (Exception ex)
        {
            XtraMessageBox.Show("등록 중 오류가 발생했습니다: " + ex.Message);
        }
    }
    else
    {
        XtraMessageBox.Show("텍스트와 이미지를 입력해주세요.");
    }
}

private byte[] ImageToByteArray(Image image)
{
    using (MemoryStream ms = new MemoryStream())
    {
        image.Save(ms, System.Drawing.Imaging.ImageFormat.Jpeg);
        return ms.ToArray();
    }
}
