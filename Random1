Windows 11에서 가상환경(C:\vkw\Scripts) 사용 중
PyTorch를 가상환경에 설치했으나 torch.cuda.is_available()이 False
torch.version.cuda를 확인하면 None으로 표시됨 → CUDA가 인식되지 않음
NVIDIA 드라이버 및 CUDA가 올바르게 설치되었는지 확인 필요
✅ 해결해야 할 것 (한 줄 요약)
👉 CUDA를 Windows에 "시스템 전체"로 설치한 후, 가상환경에서 사용할 수 있도록 설정하면 됨!

1. 현재 시스템에 CUDA 설치 여부 확인
가상환경에서 CUDA를 사용할 수 있으려면 Windows 전체에 CUDA가 설치되어 있어야 함.
아래 명령어를 "가상환경을 끄고" (base 환경에서) 실행하세요.

✅ (1) Windows에서 CUDA가 설치되었는지 확인
bash
코드 복사
where nvcc
정상 출력 예시 (nvcc가 있는 경우)
makefile
코드 복사
C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v12.1\bin\nvcc.exe
아무것도 출력되지 않으면 CUDA가 설치되지 않은 것이므로 CUDA를 새로 설치해야 함.
2. CUDA 설치 (설치되지 않았다면 진행)
CUDA가 설치되지 않았다면 아래 링크에서 Windows 버전을 다운로드하고 설치하세요.

✅ (1) CUDA 설치
▶ NVIDIA 공식 CUDA 다운로드

Windows 11 선택
설치 방법: "exe(local)" 다운로드
설치할 때 기본 경로 유지 (C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\12.1)
❗ 중요: "Driver 설치"는 체크 해제 (이미 최신 드라이버가 있다면 다시 설치할 필요 없음)

✅ (2) CUDA 설치 확인
설치가 끝나면 명령 프롬프트(cmd)에서 확인:

bash
코드 복사
nvcc --version
✅ 출력 예시 (설치 성공)

arduino
코드 복사
nvcc: NVIDIA (R) Cuda compiler
release 12.1, V12.1.105
❌ 아무것도 출력되지 않으면 CUDA가 설치되지 않은 것! → 다시 설치 필요

3. 가상환경에서 CUDA를 인식하도록 설정
CUDA는 Windows 시스템 전체에 설치되므로, 가상환경에서도 사용할 수 있도록 환경 변수를 추가해야 함.

✅ (1) 가상환경에 CUDA 경로 설정
가상환경을 활성화한 후 환경 변수를 추가합니다.

bash
코드 복사
C:\vkw\Scripts\activate
set PATH=C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v12.1\bin;%PATH%
set CUDA_HOME=C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v12.1
4. PyTorch를 다시 설치 (GPU 버전)
가상환경에서 PyTorch를 "GPU 지원 버전"으로 설치해야 함.
(기존 설치된 CPU 전용 버전은 삭제)

bash
코드 복사
pip uninstall torch torchvision torchaudio -y
pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu121
설치 후 다시 가상환경에서 CUDA를 확인하세요.

5. 최종 확인
아래 명령어를 실행하여 CUDA와 GPU가 정상적으로 인식되는지 확인하세요.

python
코드 복사
import torch
print("CUDA 사용 가능 여부:", torch.cuda.is_available())  # True가 나와야 함
print("CUDA 버전:", torch.version.cuda)  # CUDA 버전 표시
print("GPU 이름:", torch.cuda.get_device_name(0) if torch.cuda.is_available() else "GPU 없음")
✅ 정상적인 출력 예시

yaml
코드 복사
CUDA 사용 가능 여부: True
CUDA 버전: 12.1
GPU 이름: NVIDIA GeForce RTX 3060
❌ 만약 여전히 False가 나오면

nvcc --version이 제대로 출력되는지 다시 확인.
환경 변수가 제대로 설정되었는지 다시 확인.
pip install을 정확하게 GPU 버전으로 했는지 확인.
🚀 최종 요약
Windows에 CUDA가 설치되어 있는지 확인 (nvcc --version)
없으면 CUDA 다운로드 후 설치.
가상환경에서 CUDA 환경 변수 설정
bash
코드 복사
C:\vkw\Scripts\activate
set PATH=C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v12.1\bin;%PATH%
set CUDA_HOME=C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v12.1
PyTorch GPU 버전 재설치
bash
코드 복사
pip uninstall torch torchvision torchaudio -y
pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu121
CUDA가 인식되는지 확인 (torch.cuda.is_available())