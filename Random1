ê² ìŠµë‹ˆë‹¤. ì´ì „ì— ì œê³µí•œ WPF ì‚¬ë¬¼í•¨ ê´€ë¦¬ í”„ë¡œê·¸ë¨ì˜ ì „ì²´ ì†ŒìŠ¤ ì½”ë“œë¥¼ ìƒì„¸í•œ í•œê¸€ ì£¼ì„ê³¼ í•¨ê»˜ ë‹¤ì‹œ ì œê³µí•´ ë“œë¦½ë‹ˆë‹¤. MVVM íŒ¨í„´, DevExpress 22.2 ì»¨íŠ¸ë¡¤, MS SQL Server ë‹¨ì¼ í…Œì´ë¸” ì—°ë™, CRUD ê¸°ëŠ¥, í•„í„°ë§, ê·¸ë¦¬ê³  ì‚¬ìš©ì ì´ë™ í¸ì˜ì„±ì„ ìœ„í•œ ê¸°ëŠ¥ë“¤ì´ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

1. ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì • (MS SQL Server)

ë¨¼ì €, SQL Server Management Studio (SSMS) ë“±ì„ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë² ì´ìŠ¤ì™€ í…Œì´ë¸”ì„ ìƒì„±í•©ë‹ˆë‹¤.

SQL

-- ë°ì´í„°ë² ì´ìŠ¤ê°€ ì¡´ì¬í•˜ì§€ ì•Šìœ¼ë©´ ìƒˆë¡œ ìƒì„±í•©ë‹ˆë‹¤.
IF NOT EXISTS (SELECT * FROM sys.databases WHERE name = 'LockerManagementDB')
BEGIN
    CREATE DATABASE LockerManagementDB;
END
GO

-- ìƒì„±ëœ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
USE LockerManagementDB;
GO

-- í…Œì´ë¸”ì´ ì´ë¯¸ ì¡´ì¬í•˜ë©´ ì‚­ì œí•©ë‹ˆë‹¤ (ìŠ¤í¬ë¦½íŠ¸ ì¬ì‹¤í–‰ ìš©ì´ì„±ì„ ìœ„í•´).
IF OBJECT_ID('dbo.LockerAssignments', 'U') IS NOT NULL
    DROP TABLE dbo.LockerAssignments;
GO

-- ê¸°ë³¸ ì‚¬ë¬¼í•¨ ë°°ì • ì •ë³´ë¥¼ ì €ì¥í•  í…Œì´ë¸”ì„ ìƒì„±í•©ë‹ˆë‹¤.
CREATE TABLE LockerAssignments (
    Id INT PRIMARY KEY IDENTITY(1,1),             -- ê° ë ˆì½”ë“œì˜ ê³ ìœ  ì‹ë³„ì (ìë™ ì¦ê°€)
    LockerType NVARCHAR(50) NOT NULL,            -- ì‚¬ë¬¼í•¨ ì¢…ë¥˜ ('ê°œì¸ì‚¬ë¬¼í•¨', 'ë½ì»¤', 'ì‹ ë°œì¥')
    Floor NVARCHAR(10) NOT NULL,                 -- ì¸µ ('B1', '1', '2', '3', '4')
    Zone NVARCHAR(50) NOT NULL,                  -- êµ¬ì—­ ('A'~'H', 'B1'~'B4', 'ê¸°íƒ€' ë“±)
    SpecificLocation NVARCHAR(100) NOT NULL,     -- ì„¸ë¶€ ìœ„ì¹˜ (ìˆ˜ê¸°ì…ë ¥ - ë¬¼ë¦¬ì  ì‚¬ë¬¼í•¨ì„ ì‹ë³„í•˜ëŠ” ê³ ìœ ê°’)
    UserName NVARCHAR(100) NULL,                -- ì‚¬ìš©ì ì´ë¦„ (ìˆ˜ê¸°ì…ë ¥ - ë¹„ì–´ìˆìœ¼ë©´ NULL)
    KnoxId NVARCHAR(100) NULL,                   -- Knox ID (ìˆ˜ê¸°ì…ë ¥ - ë¹„ì–´ìˆìœ¼ë©´ NULL)
    SubPart NVARCHAR(50) NULL,                   -- ì†Œì† íŒŒíŠ¸ ('Main(ì‹œìƒì‚°)', 'MainA'~'Z' - ë¹„ì–´ìˆìœ¼ë©´ NULL)
    Administrator NVARCHAR(100) NULL,           -- ê´€ë¦¬ì ('í™ê¸¸ë™A'~'X' - ì´ ë ˆì½”ë“œ/ë°°ì •ì„ ê´€ë¦¬í•˜ëŠ” ì‚¬ëŒ)
    LastUpdated DATETIME2 NOT NULL DEFAULT GETDATE() -- ë§ˆì§€ë§‰ ìˆ˜ì •ì¼ì‹œ (ë³€ê²½ ì¶”ì ìš©)
);
GO

-- ì˜µì…˜: ì´ˆê¸° ë°ì´í„°ë¡œ ë¹ˆ ì‚¬ë¬¼í•¨ ëª‡ ê°œë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.
INSERT INTO LockerAssignments (LockerType, Floor, Zone, SpecificLocation, Administrator, LastUpdated)
VALUES
('ê°œì¸ì‚¬ë¬¼í•¨', '1', 'A', 'A-01', 'System', GETDATE()),
('ê°œì¸ì‚¬ë¬¼í•¨', '1', 'A', 'A-02', 'System', GETDATE()),
('ë½ì»¤', 'B1', 'B1', 'R-B1-01', 'System', GETDATE()),
('ì‹ ë°œì¥', '2', '2F', 'S-2F-01', 'System', GETDATE());

-- ì˜µì…˜: ì‚¬ìš©ì ë°°ì • ì˜ˆì‹œ ë°ì´í„°ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.
INSERT INTO LockerAssignments (LockerType, Floor, Zone, SpecificLocation, UserName, KnoxId, SubPart, Administrator, LastUpdated)
VALUES
('ê°œì¸ì‚¬ë¬¼í•¨', '1', 'B', 'B-15', 'ê¹€ì² ìˆ˜', 'kimcs', 'MainA', 'í™ê¸¸ë™A', GETDATE());
GO

-- ì˜µì…˜: ê²€ìƒ‰ ì„±ëŠ¥ í–¥ìƒì„ ìœ„í•´ ì¸ë±ìŠ¤ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤. (íŠ¹íˆ ì‚¬ë¬¼í•¨ ê°œìˆ˜ê°€ ë§ì„ ê²½ìš° ìœ ìš©)
CREATE INDEX IX_LockerAssignments_Location ON dbo.LockerAssignments (Floor, Zone, SpecificLocation);
CREATE INDEX IX_LockerAssignments_User ON dbo.LockerAssignments (UserName);
GO

PRINT 'ë°ì´í„°ë² ì´ìŠ¤ ë° í…Œì´ë¸” ìƒì„±ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.';

2. WPF í”„ë¡œì íŠ¸ ì„¤ì • (Visual Studio)

Visual Studioì—ì„œ ìƒˆ "WPF ì•± (.NET Framework)" ë˜ëŠ” "WPF ì• í”Œë¦¬ì¼€ì´ì…˜" í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•©ë‹ˆë‹¤. (.NET Framework 4.7.2 ì´ìƒ ë˜ëŠ” .NET 6/7/8 ê¶Œì¥).
NuGet íŒ¨í‚¤ì§€ ì„¤ì¹˜:
Microsoft.EntityFrameworkCore.SqlServer
Microsoft.EntityFrameworkCore.Tools
DevExpress WPF ê´€ë ¨ íŒ¨í‚¤ì§€ (ìµœì†Œ DevExpress.Wpf.Core, DevExpress.Wpf.Grid, ì„ í˜¸í•˜ëŠ” í…Œë§ˆ ì˜ˆ: DevExpress.Wpf.Themes.Office2019Colorful)
í´ë” ìƒì„±: í”„ë¡œì íŠ¸ êµ¬ì¡°í™”ë¥¼ ìœ„í•´ Models, ViewModels, Views, Data, Infrastructure (ë˜ëŠ” Helpers) í´ë”ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
3. ëª¨ë¸ (Models/LockerAssignment.cs)

ë°ì´í„°ë² ì´ìŠ¤ LockerAssignments í…Œì´ë¸”ì˜ í•œ í–‰ì„ ë‚˜íƒ€ë‚´ëŠ” C# í´ë˜ìŠ¤ì…ë‹ˆë‹¤.

C#

using System;
using System.ComponentModel; // INotifyPropertyChangedë¥¼ ìœ„í•´ ì¶”ê°€
using System.ComponentModel.DataAnnotations;
using System.ComponentModel.DataAnnotations.Schema;
using System.Runtime.CompilerServices; // CallerMemberNameì„ ìœ„í•´ ì¶”ê°€

namespace LockerManagementApp.Models
{
    /// <summary>
    /// ì‚¬ë¬¼í•¨ ë°°ì • ì •ë³´ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ë°ì´í„° ëª¨ë¸ í´ë˜ìŠ¤ì…ë‹ˆë‹¤.
    /// INotifyPropertyChangedë¥¼ êµ¬í˜„í•˜ì—¬ ì†ì„± ë³€ê²½ ì‹œ UIê°€ ì—…ë°ì´íŠ¸ë˜ë„ë¡ í•©ë‹ˆë‹¤.
    /// </summary>
    [Table("LockerAssignments")] // ë°ì´í„°ë² ì´ìŠ¤ì˜ 'LockerAssignments' í…Œì´ë¸”ê³¼ ë§¤í•‘
    public class LockerAssignment : INotifyPropertyChanged // ì†ì„± ë³€ê²½ ì•Œë¦¼ ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„
    {
        private int _id;
        private string _lockerType = string.Empty;
        private string _floor = string.Empty;
        private string _zone = string.Empty;
        private string _specificLocation = string.Empty;
        private string? _userName;
        private string? _knoxId;
        private string? _subPart;
        private string? _administrator;
        private DateTime _lastUpdated = DateTime.Now;


        [Key] // ê¸°ë³¸ í‚¤ ì†ì„±ì„ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.
        [DatabaseGenerated(DatabaseGeneratedOption.Identity)] // ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ê°’ì´ ìë™ìœ¼ë¡œ ìƒì„±ë¨ (ìë™ ì¦ê°€)
        public int Id
        {
            get => _id;
            set => SetProperty(ref _id, value); // ë³€ê²½ ì‹œ ì•Œë¦¼
        }

        [Required(ErrorMessage = "ì‚¬ë¬¼í•¨ ì¢…ë¥˜ëŠ” í•„ìˆ˜ í•­ëª©ì…ë‹ˆë‹¤.")] // í•„ìˆ˜ ì…ë ¥ ê°’ ê²€ì¦
        [StringLength(50)] // ë¬¸ìì—´ ìµœëŒ€ ê¸¸ì´ ì œí•œ
        public string LockerType
        {
            get => _lockerType;
            set => SetProperty(ref _lockerType, value);
        }

        [Required(ErrorMessage = "ì¸µ ì •ë³´ëŠ” í•„ìˆ˜ í•­ëª©ì…ë‹ˆë‹¤.")]
        [StringLength(10)]
        public string Floor
        {
            get => _floor;
            set => SetProperty(ref _floor, value);
        }

        [Required(ErrorMessage = "êµ¬ì—­ ì •ë³´ëŠ” í•„ìˆ˜ í•­ëª©ì…ë‹ˆë‹¤.")]
        [StringLength(50)]
        public string Zone
        {
            get => _zone;
            set => SetProperty(ref _zone, value);
        }

        [Required(ErrorMessage = "ì„¸ë¶€ ìœ„ì¹˜ëŠ” í•„ìˆ˜ í•­ëª©ì…ë‹ˆë‹¤.")]
        [StringLength(100)]
        public string SpecificLocation // ë¬¼ë¦¬ì  ì‚¬ë¬¼í•¨ì„ ê³ ìœ í•˜ê²Œ ì‹ë³„í•˜ëŠ” ê°’
        {
            get => _specificLocation;
            set => SetProperty(ref _specificLocation, value);
        }

        [StringLength(100)]
        public string? UserName // ì‚¬ìš©ì ì´ë¦„ (Nullable: ë¹„ì–´ìˆì„ ìˆ˜ ìˆìŒ)
        {
            get => _userName;
            set
            {
                if (SetProperty(ref _userName, value))
                {
                    OnPropertyChanged(nameof(IsAssigned)); // UserName ë³€ê²½ ì‹œ IsAssigned ìƒíƒœë„ ë³€ê²½ë¨ì„ ì•Œë¦¼
                }
            }
        }

        [StringLength(100)]
        public string? KnoxId // Knox ID (Nullable)
        {
            get => _knoxId;
            set => SetProperty(ref _knoxId, value);
        }

        [StringLength(50)]
        public string? SubPart // ì†Œì† íŒŒíŠ¸ (Nullable)
        {
            get => _subPart;
            set => SetProperty(ref _subPart, value);
        }

        [StringLength(100)]
        public string? Administrator // ê´€ë¦¬ì (Nullable)
        {
            get => _administrator;
            set => SetProperty(ref _administrator, value);
        }

        // ë§ˆì§€ë§‰ ìˆ˜ì •ì¼ì‹œëŠ” ì¼ë°˜ì ìœ¼ë¡œ UIì—ì„œ ì§ì ‘ ìˆ˜ì •í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ setterì— ì•Œë¦¼ì´ í•„ìˆ˜ëŠ” ì•„ë‹˜
        public DateTime LastUpdated
        {
            get => _lastUpdated;
            set => SetProperty(ref _lastUpdated, value);
        }

        /// <summary>
        /// í˜„ì¬ ì‚¬ë¬¼í•¨ì´ ì‚¬ìš©ìì—ê²Œ ë°°ì •ë˜ì—ˆëŠ”ì§€ ì—¬ë¶€ë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. (ë°ì´í„°ë² ì´ìŠ¤ì—ëŠ” ë§¤í•‘ë˜ì§€ ì•ŠìŒ)
        /// </summary>
        [NotMapped] // ì´ ì†ì„±ì€ ë°ì´í„°ë² ì´ìŠ¤ ì»¬ëŸ¼ì´ ì•„ë‹˜
        public bool IsAssigned => !string.IsNullOrWhiteSpace(UserName);

        /// <summary>
        /// ë””ë²„ê¹…ì´ë‚˜ ê°„ë‹¨í•œ í‘œì‹œ ëª©ì ìœ¼ë¡œ ê°ì²´ë¥¼ ë¬¸ìì—´ë¡œ í‘œí˜„í•©ë‹ˆë‹¤.
        /// </summary>
        public override string ToString()
        {
            return $"{Floor}-{Zone}-{SpecificLocation}: {(IsAssigned ? UserName : "(ë¹„ì–´ ìˆìŒ)")}";
        }

        // --- INotifyPropertyChanged êµ¬í˜„ ---
        public event PropertyChangedEventHandler? PropertyChanged;

        /// <summary>
        /// ì†ì„± ë³€ê²½ì„ ì•Œë¦½ë‹ˆë‹¤.
        /// </summary>
        /// <param name="propertyName">ë³€ê²½ëœ ì†ì„±ì˜ ì´ë¦„ (CallerMemberNameìœ¼ë¡œ ìë™ ì œê³µë¨)</param>
        protected virtual void OnPropertyChanged([CallerMemberName] string? propertyName = null)
        {
            PropertyChanged?.Invoke(this, new PropertyChangedEventArgs(propertyName));
        }

        /// <summary>
        /// ì†ì„± ê°’ì„ ì„¤ì •í•˜ê³  ë³€ê²½ë˜ì—ˆì„ ê²½ìš° PropertyChanged ì´ë²¤íŠ¸ë¥¼ ë°œìƒì‹œí‚µë‹ˆë‹¤.
        /// </summary>
        /// <typeparam name="T">ì†ì„±ì˜ íƒ€ì…</typeparam>
        /// <param name="storage">ì†ì„±ì˜ backing field</param>
        /// <param name="value">ìƒˆë¡œìš´ ê°’</param>
        /// <param name="propertyName">ë³€ê²½ëœ ì†ì„±ì˜ ì´ë¦„</param>
        /// <returns>ê°’ì´ ë³€ê²½ë˜ì—ˆìœ¼ë©´ true, ì•„ë‹ˆë©´ false</returns>
        protected bool SetProperty<T>(ref T storage, T value, [CallerMemberName] string? propertyName = null)
        {
            if (EqualityComparer<T>.Default.Equals(storage, value)) return false; // ê°’ì´ ê°™ìœ¼ë©´ ë³€ê²½ ì•ˆ í•¨
            storage = value;
            OnPropertyChanged(propertyName); // ê°’ì´ ë³€ê²½ë˜ì—ˆìœ¼ë¯€ë¡œ ì•Œë¦¼ ë°œìƒ
            return true;
        }
        // --- INotifyPropertyChanged êµ¬í˜„ ë ---
    }
}
ì£¼ìš” ë³€ê²½: LockerAssignment ëª¨ë¸ì´ INotifyPropertyChangedë¥¼ ì§ì ‘ êµ¬í˜„í•˜ë„ë¡ ìˆ˜ì •í–ˆìŠµë‹ˆë‹¤. ì´ë ‡ê²Œ í•˜ë©´ GridControlì—ì„œ ê°œë³„ ì…€ ìˆ˜ì • ì‹œ UIê°€ ì¦‰ê°ì ìœ¼ë¡œ ë°˜ì‘í•˜ê³ , IsAssigned ê°™ì€ ê³„ì‚°ëœ ì†ì„±ë„ ì˜¬ë°”ë¥´ê²Œ ì—…ë°ì´íŠ¸ë©ë‹ˆë‹¤.

4. ë°ì´í„° ì»¨í…ìŠ¤íŠ¸ (Data/LockerDbContext.cs)

Entity Framework Coreë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë² ì´ìŠ¤ì™€ ìƒí˜¸ì‘ìš©í•˜ëŠ” í´ë˜ìŠ¤ì…ë‹ˆë‹¤.

C#

using LockerManagementApp.Models;
using Microsoft.EntityFrameworkCore;
using System.Configuration; // App.config ì‚¬ìš©ì„ ìœ„í•´ System.Configuration ì°¸ì¡° ì¶”ê°€ í•„ìš”

namespace LockerManagementApp.Data
{
    /// <summary>
    /// Entity Framework Core DbContext í´ë˜ìŠ¤. ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ë° í…Œì´ë¸” ì ‘ê·¼ì„ ê´€ë¦¬í•©ë‹ˆë‹¤.
    /// </summary>
    public class LockerDbContext : DbContext
    {
        /// <summary>
        /// LockerAssignments í…Œì´ë¸”ì— ì ‘ê·¼í•˜ê¸° ìœ„í•œ DbSetì…ë‹ˆë‹¤.
        /// </summary>
        public DbSet<LockerAssignment> LockerAssignments { get; set; }

        /// <summary>
        /// ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ë°©ë²•ì„ ì„¤ì •í•©ë‹ˆë‹¤.
        /// </summary>
        protected override void OnConfiguring(DbContextOptionsBuilder optionsBuilder)
        {
            if (!optionsBuilder.IsConfigured) // ì´ë¯¸ ì„¤ì •ë˜ì§€ ì•Šì•˜ì„ ê²½ìš°ì—ë§Œ ì‹¤í–‰
            {
                // App.config íŒŒì¼ì—ì„œ "LockerDbConnection" ì´ë¦„ì˜ ì—°ê²° ë¬¸ìì—´ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.
                string connectionString = ConfigurationManager.ConnectionStrings["LockerDbConnection"]?.ConnectionString
                                            // App.configì— ì—°ê²° ë¬¸ìì—´ì´ ì—†ê±°ë‚˜ ì½ê¸° ì‹¤íŒ¨ ì‹œ ì‚¬ìš©í•  ê¸°ë³¸(í´ë°±) ì—°ê²° ë¬¸ìì—´
                                            ?? "Server=YOUR_SERVER_NAME;Database=LockerManagementDB;Trusted_Connection=True;Encrypt=False;";

                // ì¤‘ìš”: "YOUR_SERVER_NAME" ë¶€ë¶„ì„ ì‹¤ì œ SQL Server ì¸ìŠ¤í„´ìŠ¤ ì´ë¦„ìœ¼ë¡œ ë³€ê²½í•´ì•¼ í•©ë‹ˆë‹¤.
                // ì˜ˆ: (localdb)\MSSQLLocalDB, localhost, .\SQLEXPRESS, ì„œë²„ì£¼ì†Œ ë“±
                // Trusted_Connection=True ëŠ” Windows ì¸ì¦ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.
                // SQL Server ì¸ì¦ì„ ì‚¬ìš©í•˜ë ¤ë©´ User ID=your_user;Password=your_password; í˜•íƒœë¡œ ë³€ê²½í•©ë‹ˆë‹¤.
                // Encrypt=False ëŠ” ê°œë°œ í¸ì˜ë¥¼ ìœ„í•œ ì„¤ì •ì´ë©°, í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œëŠ” True ì‚¬ìš© ë° SQL Server SSL êµ¬ì„± ê³ ë ¤ê°€ í•„ìš”í•©ë‹ˆë‹¤.

                optionsBuilder.UseSqlServer(connectionString); // SQL Server ì‚¬ìš© ì„¤ì •
            }
        }

        /// <summary>
        /// ëª¨ë¸(í…Œì´ë¸”) êµ¬ì„±ì„ ìœ„í•œ ë©”ì„œë“œì…ë‹ˆë‹¤. Fluent APIë¥¼ ì‚¬ìš©í•˜ì—¬ ì¶”ê°€ ì„¤ì •ì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
        /// </summary>
        protected override void OnModelCreating(ModelBuilder modelBuilder)
        {
            // ì˜ˆì‹œ: ë¬¼ë¦¬ì  ìœ„ì¹˜(ì¸µ, êµ¬ì—­, ì„¸ë¶€ìœ„ì¹˜)ì— ëŒ€í•´ ê³ ìœ  ì œì•½ ì¡°ê±´ì„ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
            // ì´ë ‡ê²Œ í•˜ë©´ ë™ì¼í•œ ì‹¤ì œ ì‚¬ë¬¼í•¨ì— ëŒ€í•´ ì¤‘ë³µëœ ë°ì´í„° í–‰ ìƒì„±ì„ ë°©ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
            // modelBuilder.Entity<LockerAssignment>()
            //    .HasIndex(l => new { l.Floor, l.Zone, l.SpecificLocation }) // ì´ ì»¬ëŸ¼ ì¡°í•©ìœ¼ë¡œ ì¸ë±ìŠ¤ ìƒì„±
            //    .IsUnique(); // ê³ ìœ  ê°’ë§Œ í—ˆìš©

            // SQL DEFAULT ì œì•½ ì¡°ê±´ì´ ì´ë¯¸ ì²˜ë¦¬í•˜ì§€ë§Œ, ì—¬ê¸°ì„œ ê¸°ë³¸ê°’ ì„¤ì •ì„ ëª…ì‹œí•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.
            // modelBuilder.Entity<LockerAssignment>()
            //     .Property(l => l.LastUpdated)
            //     .HasDefaultValueSql("GETDATE()"); // SQL Serverì˜ GETDATE() í•¨ìˆ˜ë¥¼ ê¸°ë³¸ê°’ìœ¼ë¡œ ì‚¬ìš©

            base.OnModelCreating(modelBuilder); // ê¸°ë³¸ ëª¨ë¸ êµ¬ì„± ë¡œì§ í˜¸ì¶œ
        }

        /// <summary>
        /// ë°ì´í„°ë² ì´ìŠ¤ ë³€ê²½ ì‚¬í•­ì„ ì €ì¥í•˜ê¸° ì „ì— LastUpdated íƒ€ì„ìŠ¤íƒ¬í”„ë¥¼ ìë™ìœ¼ë¡œ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤.
        /// </summary>
        public override int SaveChanges()
        {
            UpdateTimestamps(); // íƒ€ì„ìŠ¤íƒ¬í”„ ì—…ë°ì´íŠ¸ ë¡œì§ í˜¸ì¶œ
            return base.SaveChanges(); // ê¸°ë³¸ ì €ì¥ ë¡œì§ ì‹¤í–‰
        }

        /// <summary>
        /// ë¹„ë™ê¸° ë°©ì‹ìœ¼ë¡œ ë°ì´í„°ë² ì´ìŠ¤ ë³€ê²½ ì‚¬í•­ì„ ì €ì¥í•˜ê¸° ì „ì— LastUpdated íƒ€ì„ìŠ¤íƒ¬í”„ë¥¼ ìë™ìœ¼ë¡œ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤.
        /// </summary>
        public override Task<int> SaveChangesAsync(CancellationToken cancellationToken = default)
        {
            UpdateTimestamps(); // íƒ€ì„ìŠ¤íƒ¬í”„ ì—…ë°ì´íŠ¸ ë¡œì§ í˜¸ì¶œ
            return base.SaveChangesAsync(cancellationToken); // ê¸°ë³¸ ë¹„ë™ê¸° ì €ì¥ ë¡œì§ ì‹¤í–‰
        }

        /// <summary>
        /// ì¶”ê°€(Added)ë˜ê±°ë‚˜ ìˆ˜ì •(Modified)ëœ LockerAssignment ì—”í‹°í‹°ì˜ LastUpdated ì†ì„±ì„ í˜„ì¬ ì‹œê°„ìœ¼ë¡œ ì„¤ì •í•©ë‹ˆë‹¤.
        /// </summary>
        private void UpdateTimestamps()
        {
            // ë³€ê²½ ì¶”ì ê¸°(ChangeTracker)ì—ì„œ LockerAssignment íƒ€ì…ì´ë©´ì„œ ìƒíƒœê°€ Added ë˜ëŠ” Modifiedì¸ ì—”í‹°í‹°ë“¤ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.
            var entries = ChangeTracker
                .Entries()
                .Where(e => e.Entity is LockerAssignment && (
                        e.State == EntityState.Added ||
                        e.State == EntityState.Modified));

            // ê° ì—”í‹°í‹°ì— ëŒ€í•´ LastUpdated ì†ì„±ì„ í˜„ì¬ ì‹œê°„ìœ¼ë¡œ ì„¤ì •í•©ë‹ˆë‹¤.
            foreach (var entityEntry in entries)
            {
                ((LockerAssignment)entityEntry.Entity).LastUpdated = DateTime.Now;

                // ì˜µì…˜: ì—¬ê¸°ì„œ í˜„ì¬ ë¡œê·¸ì¸í•œ ê´€ë¦¬ì ì •ë³´ë¥¼ Administrator ì†ì„±ì— ì„¤ì •í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.
                // if (entityEntry.State == EntityState.Modified || entityEntry.State == EntityState.Added)
                // {
                //     ((LockerAssignment)entityEntry.Entity).Administrator = GetCurrentAdminUser(); // í˜„ì¬ ê´€ë¦¬ì ì •ë³´ ê°€ì ¸ì˜¤ëŠ” í•¨ìˆ˜ í•„ìš”
                // }
            }
        }
    }
}
App.config íŒŒì¼ ì„¤ì •: í”„ë¡œì íŠ¸ ë£¨íŠ¸ì— ìˆëŠ” App.config íŒŒì¼ì„ ì—´ê³  <configuration> ì„¹ì…˜ ì•ˆì— <connectionStrings>ë¥¼ ì¶”ê°€í•˜ê±°ë‚˜ ìˆ˜ì •í•©ë‹ˆë‹¤.

XML

<?xml version="1.0" encoding="utf-8"?>
<configuration>
  <connectionStrings>
    <add name="LockerDbConnection"
         connectionString="Server=YOUR_SERVER_NAME;Database=LockerManagementDB;Trusted_Connection=True;Encrypt=False;"
         providerName="System.Data.SqlClient"/>
  </connectionStrings>
  <startup>
    <supportedRuntime version="v4.0" sku=".NETFramework,Version=v4.7.2"/> </startup>
</configuration>
 1 5. ViewModel ë² ì´ìŠ¤ ë° RelayCommand (Infrastructure) Â  
1.
stackoverflow.com
stackoverflow.com

MVVM íŒ¨í„´ êµ¬í˜„ì„ ìœ„í•œ í‘œì¤€ í—¬í¼ í´ë˜ìŠ¤ì…ë‹ˆë‹¤.

(Infrastructure/ViewModelBase.cs)

C#

using System.ComponentModel;
using System.Runtime.CompilerServices;

namespace LockerManagementApp.Infrastructure
{
    /// <summary>
    /// ëª¨ë“  ViewModel í´ë˜ìŠ¤ê°€ ìƒì†ë°›ëŠ” ê¸°ë³¸ í´ë˜ìŠ¤ì…ë‹ˆë‹¤.
    /// INotifyPropertyChanged ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„ì„ ì œê³µí•˜ì—¬ ì†ì„± ë³€ê²½ ì•Œë¦¼ì„ ë‹¨ìˆœí™”í•©ë‹ˆë‹¤.
    /// </summary>
    public abstract class ViewModelBase : INotifyPropertyChanged
    {
        /// <summary>
        /// ì†ì„± ê°’ì´ ë³€ê²½ë  ë•Œ ë°œìƒí•˜ëŠ” ì´ë²¤íŠ¸ì…ë‹ˆë‹¤.
        /// </summary>
        public event PropertyChangedEventHandler? PropertyChanged;

        /// <summary>
        /// PropertyChanged ì´ë²¤íŠ¸ë¥¼ ë°œìƒì‹œí‚¤ëŠ” ë³´í˜¸ëœ ë©”ì„œë“œì…ë‹ˆë‹¤.
        /// </summary>
        /// <param name="propertyName">ë³€ê²½ëœ ì†ì„±ì˜ ì´ë¦„ì…ë‹ˆë‹¤. [CallerMemberName] íŠ¹ì„± ë•ë¶„ì— ìë™ìœ¼ë¡œ ì±„ì›Œì§‘ë‹ˆë‹¤.</param>
        protected virtual void OnPropertyChanged([CallerMemberName] string? propertyName = null)
        {
            PropertyChanged?.Invoke(this, new PropertyChangedEventArgs(propertyName));
        }

        /// <summary>
        /// ì†ì„± ê°’ì„ ì„¤ì •í•˜ê³ , ê°’ì´ ì‹¤ì œë¡œ ë³€ê²½ëœ ê²½ìš°ì—ë§Œ PropertyChanged ì´ë²¤íŠ¸ë¥¼ ë°œìƒì‹œí‚µë‹ˆë‹¤.
        /// </summary>
        /// <typeparam name="T">ì†ì„±ì˜ íƒ€ì…ì…ë‹ˆë‹¤.</typeparam>
        /// <param name="storage">ì†ì„± ê°’ì„ ì €ì¥í•˜ëŠ” private í•„ë“œ (backing field)ì…ë‹ˆë‹¤.</param>
        /// <param name="value">ì„¤ì •í•˜ë ¤ëŠ” ìƒˆë¡œìš´ ê°’ì…ë‹ˆë‹¤.</param>
        /// <param name="propertyName">ë³€ê²½ëœ ì†ì„±ì˜ ì´ë¦„ì…ë‹ˆë‹¤.</param>
        /// <returns>ê°’ì´ ì„±ê³µì ìœ¼ë¡œ ë³€ê²½ë˜ì—ˆìœ¼ë©´ true, ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ falseë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.</returns>
        protected bool SetProperty<T>(ref T storage, T value, [CallerMemberName] string? propertyName = null)
        {
            // ê¸°ì¡´ ê°’ê³¼ ìƒˆ ê°’ì´ ë™ì¼í•˜ë©´ ì•„ë¬´ ì‘ì—…ë„ ìˆ˜í–‰í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
            if (EqualityComparer<T>.Default.Equals(storage, value)) return false;

            storage = value; // ìƒˆ ê°’ìœ¼ë¡œ í•„ë“œë¥¼ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤.
            OnPropertyChanged(propertyName); // ì†ì„± ë³€ê²½ ì•Œë¦¼ì„ ë°œìƒì‹œí‚µë‹ˆë‹¤.
            return true; // ê°’ ë³€ê²½ì´ ì„±ê³µí–ˆìŒì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.
        }
    }
}
(Infrastructure/RelayCommand.cs)

C#

using System;
using System.Windows.Input;

namespace LockerManagementApp.Infrastructure
{
    /// <summary>
    /// ICommand ì¸í„°í˜ì´ìŠ¤ì˜ ê°„ë‹¨í•œ êµ¬í˜„ì²´ì…ë‹ˆë‹¤. ViewModelì—ì„œ UI ì‘ì—…(ë²„íŠ¼ í´ë¦­ ë“±)ì„ ì²˜ë¦¬í•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.
    /// </summary>
    public class RelayCommand : ICommand
    {
        private readonly Action<object?> _execute; // ëª…ë ¹ì´ ì‹¤í–‰ë  ë•Œ í˜¸ì¶œë  ë©”ì„œë“œ (Action ë¸ë¦¬ê²Œì´íŠ¸)
        private readonly Predicate<object?>? _canExecute; // ëª…ë ¹ì„ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ”ì§€ ì—¬ë¶€ë¥¼ ê²°ì •í•˜ëŠ” ë©”ì„œë“œ (Predicate ë¸ë¦¬ê²Œì´íŠ¸, ì„ íƒ ì‚¬í•­)

        /// <summary>
        /// ëª…ë ¹ì˜ ì‹¤í–‰ ê°€ëŠ¥ ìƒíƒœê°€ ë³€ê²½ë  ìˆ˜ ìˆìŒì„ WPF CommandManagerì— ì•Œë¦¬ëŠ” ì´ë²¤íŠ¸ì…ë‹ˆë‹¤.
        /// </summary>
        public event EventHandler? CanExecuteChanged
        {
            add { CommandManager.RequerySuggested += value; } // WPFì˜ ì „ì—­ ì´ë²¤íŠ¸ì— í•¸ë“¤ëŸ¬ ì¶”ê°€
            remove { CommandManager.RequerySuggested -= value; } // í•¸ë“¤ëŸ¬ ì œê±°
        }

        /// <summary>
        /// ìƒˆë¡œìš´ RelayCommand ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
        /// </summary>
        /// <param name="execute">ëª…ë ¹ ì‹¤í–‰ ì‹œ í˜¸ì¶œë  Actionì…ë‹ˆë‹¤. nullì¼ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</param>
        /// <param name="canExecute">ëª…ë ¹ ì‹¤í–‰ ê°€ëŠ¥ ì—¬ë¶€ë¥¼ ë°˜í™˜í•˜ëŠ” Predicateì…ë‹ˆë‹¤. nullì´ë©´ í•­ìƒ ì‹¤í–‰ ê°€ëŠ¥í•œ ê²ƒìœ¼ë¡œ ê°„ì£¼ë©ë‹ˆë‹¤.</param>
        public RelayCommand(Action<object?> execute, Predicate<object?>? canExecute = null)
        {
            _execute = execute ?? throw new ArgumentNullException(nameof(execute)); // executeëŠ” í•„ìˆ˜
            _canExecute = canExecute;
        }

        /// <summary>
        /// í˜„ì¬ ìƒíƒœì—ì„œ ëª…ë ¹ì„ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ”ì§€ ì—¬ë¶€ë¥¼ ê²°ì •í•©ë‹ˆë‹¤.
        /// </summary>
        /// <param name="parameter">ëª…ë ¹ì— ì „ë‹¬ë˜ëŠ” ë§¤ê°œ ë³€ìˆ˜ì…ë‹ˆë‹¤.</param>
        /// <returns>ì‹¤í–‰ ê°€ëŠ¥í•˜ë©´ true, ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ falseì…ë‹ˆë‹¤.</returns>
        public bool CanExecute(object? parameter)
        {
            // _canExecute ë¸ë¦¬ê²Œì´íŠ¸ê°€ nullì´ë©´ í•­ìƒ trueë¥¼ ë°˜í™˜í•˜ê³ , ì•„ë‹ˆë©´ í•´ë‹¹ ë¸ë¦¬ê²Œì´íŠ¸ì˜ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
            return _canExecute == null || _canExecute(parameter);
        }

        /// <summary>
        /// ëª…ë ¹ì„ ì‹¤í–‰í•©ë‹ˆë‹¤.
        /// </summary>
        /// <param name="parameter">ëª…ë ¹ì— ì „ë‹¬ë˜ëŠ” ë§¤ê°œ ë³€ìˆ˜ì…ë‹ˆë‹¤.</param>
        public void Execute(object? parameter)
        {
            _execute(parameter); // ë“±ë¡ëœ Actionì„ ì‹¤í–‰í•©ë‹ˆë‹¤.
        }

        /// <summary>
        /// CanExecuteChanged ì´ë²¤íŠ¸ë¥¼ ê°•ì œë¡œ ë°œìƒì‹œì¼œ ëª…ë ¹ì˜ ì‹¤í–‰ ê°€ëŠ¥ ìƒíƒœë¥¼ ë‹¤ì‹œ í‰ê°€í•˜ë„ë¡ ìš”ì²­í•©ë‹ˆë‹¤.
        /// (ViewModel ì†ì„± ë³€ê²½ ì‹œ ì´ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ì—¬ ë²„íŠ¼ í™œì„±í™”/ë¹„í™œì„±í™” ì—…ë°ì´íŠ¸ ê°€ëŠ¥)
        /// </summary>
        public void RaiseCanExecuteChanged()
        {
            CommandManager.InvalidateRequerySuggested();
        }
    }
}
6. ë©”ì¸ ViewModel (ViewModels/MainViewModel.cs)

ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì£¼ìš” ë¡œì§ê³¼ ë°ì´í„° ìƒíƒœë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤. Viewì™€ Model ì‚¬ì´ì˜ ì¤‘ê°œì ì—­í• ì„ í•©ë‹ˆë‹¤.

C#

using LockerManagementApp.Data;
using LockerManagementApp.Models;
using LockerManagementApp.Infrastructure;
using System.Collections.ObjectModel; // ObservableCollection ì‚¬ìš©
using System.Linq;
using System.Threading.Tasks;
using System.Windows.Input;
using Microsoft.EntityFrameworkCore; // ToListAsync(), DbUpdateException ë“± ì‚¬ìš©
using System.Windows; // MessageBox ì‚¬ìš©

namespace LockerManagementApp.ViewModels
{
    /// <summary>
    /// ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ë©”ì¸ ViewModel í´ë˜ìŠ¤ì…ë‹ˆë‹¤.
    /// ì‚¬ë¬¼í•¨ ë°ì´í„° ë¡œë”©, ì €ì¥, ì¶”ê°€, ì‚­ì œ, ë°°ì • í•´ì œ ë“±ì˜ ë¡œì§ì„ ì²˜ë¦¬í•˜ê³ 
    /// Viewì— í•„ìš”í•œ ë°ì´í„°ì™€ Commandë¥¼ ì œê³µí•©ë‹ˆë‹¤.
    /// </summary>
    public class MainViewModel : ViewModelBase
    {
        private LockerDbContext _context; // ë°ì´í„°ë² ì´ìŠ¤ ì»¨í…ìŠ¤íŠ¸ ì¸ìŠ¤í„´ìŠ¤
        private ObservableCollection<LockerAssignment> _lockerAssignments; // Viewì— ë°”ì¸ë”©ë  ì‚¬ë¬¼í•¨ ëª©ë¡ (UI ë³€ê²½ ìë™ ê°ì§€)
        private LockerAssignment? _selectedAssignment; // Viewì˜ GridControlì—ì„œ í˜„ì¬ ì„ íƒëœ í•­ëª©
        private string _statusBarText = "ì¤€ë¹„ ì™„ë£Œ"; // View í•˜ë‹¨ ìƒíƒœ í‘œì‹œì¤„ì— í‘œì‹œë  í…ìŠ¤íŠ¸
        private string _currentAdmin = "í™ê¸¸ë™A"; // ì˜ˆì‹œ: í˜„ì¬ ë¡œê·¸ì¸í•œ ê´€ë¦¬ì (ì‹¤ì œë¡œëŠ” ë¡œê·¸ì¸ ì •ë³´ë‚˜ ì„¤ì •ì—ì„œ ê°€ì ¸ì™€ì•¼ í•¨)

        /// <summary>
        /// Viewì˜ GridControlì— ë°”ì¸ë”©ë  ì‚¬ë¬¼í•¨ ë°°ì • ëª©ë¡ì…ë‹ˆë‹¤.
        /// ObservableCollectionì„ ì‚¬ìš©í•˜ì—¬ ëª©ë¡ ë³€ê²½(ì¶”ê°€/ì‚­ì œ) ì‹œ UIê°€ ìë™ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë©ë‹ˆë‹¤.
        /// </summary>
        public ObservableCollection<LockerAssignment> LockerAssignments
        {
            get => _lockerAssignments;
            set => SetProperty(ref _lockerAssignments, value); // ë³€ê²½ ì‹œ UI ì•Œë¦¼
        }

        /// <summary>
        /// Viewì˜ GridControlì—ì„œ ì‚¬ìš©ìê°€ ì„ íƒí•œ ì‚¬ë¬¼í•¨ ë°°ì • ì •ë³´ì…ë‹ˆë‹¤.
        /// ì–‘ë°©í–¥(TwoWay) ë°”ì¸ë”©ì„ í†µí•´ Viewì—ì„œì˜ ì„ íƒì´ ViewModelì— ë°˜ì˜ë˜ê³ , ViewModelì—ì„œì˜ ë³€ê²½ì´ Viewì— ë°˜ì˜ë©ë‹ˆë‹¤.
        /// </summary>
        public LockerAssignment? SelectedAssignment
        {
            get => _selectedAssignment;
            set
            {
                // SetPropertyëŠ” ê°’ì´ ì‹¤ì œë¡œ ë³€ê²½ë˜ì—ˆì„ ë•Œë§Œ trueë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
                if (SetProperty(ref _selectedAssignment, value))
                {
                    // ì„ íƒëœ í•­ëª©ì´ ë³€ê²½ë˜ì—ˆìœ¼ë¯€ë¡œ, ì„ íƒëœ í•­ëª©ì— ì˜ì¡´í•˜ëŠ” Commandë“¤ì˜ CanExecute ìƒíƒœë¥¼ ê°±ì‹ í•´ì•¼ í•©ë‹ˆë‹¤.
                    // ì˜ˆ: ì‚­ì œ ë²„íŠ¼, ë°°ì • í•´ì œ ë²„íŠ¼ì˜ í™œì„±í™”/ë¹„í™œì„±í™” ì—¬ë¶€
                    ((RelayCommand)DeleteCommand).RaiseCanExecuteChanged();
                    ((RelayCommand)ClearAssignmentCommand).RaiseCanExecuteChanged();
                }
            }
        }

        /// <summary>
        /// View í•˜ë‹¨ì˜ ìƒíƒœ í‘œì‹œì¤„ì— í‘œì‹œë  í…ìŠ¤íŠ¸ì…ë‹ˆë‹¤.
        /// </summary>
        public string StatusBarText
        {
            get => _statusBarText;
            set => SetProperty(ref _statusBarText, value); // ë³€ê²½ ì‹œ UI ì•Œë¦¼
        }

        // --- Commands (Viewì—ì„œ ë²„íŠ¼ ë“±ì— ë°”ì¸ë”©ë  ëª…ë ¹) ---
        public ICommand LoadDataCommand { get; }       // ë°ì´í„° ë¡œë“œ ëª…ë ¹
        public ICommand SaveChangesCommand { get; }    // ë³€ê²½ ì‚¬í•­ ì €ì¥ ëª…ë ¹
        public ICommand AddNewCommand { get; }         // ìƒˆ ì‚¬ë¬¼í•¨ ì¶”ê°€ ëª…ë ¹ (í–‰ ì¶”ê°€)
        public ICommand DeleteCommand { get; }         // ì„ íƒëœ ì‚¬ë¬¼í•¨ ì‚­ì œ ëª…ë ¹
        public ICommand ClearAssignmentCommand { get; } // ì„ íƒëœ ì‚¬ë¬¼í•¨ì˜ ì‚¬ìš©ì ë°°ì • ì •ë³´ í•´ì œ ëª…ë ¹

        // --- Viewì˜ ComboBox ë“±ì— ì‚¬ìš©í•  ë¯¸ë¦¬ ì •ì˜ëœ ëª©ë¡ ---
        // ì‹¤ì œ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œëŠ” ì„¤ì • íŒŒì¼ì´ë‚˜ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ë¡œë“œí•˜ëŠ” ê²ƒì´ ë” ì¢‹ìŠµë‹ˆë‹¤.
        public List<string> LockerTypes { get; } = new List<string> { "ê°œì¸ì‚¬ë¬¼í•¨", "ë½ì»¤", "ì‹ ë°œì¥" };
        public List<string> Floors { get; } = new List<string> { "B1", "1", "2", "3", "4" };
        public List<string> Zones { get; } = new List<string> { "A", "B", "C", "D", "E", "F", "G", "H", "B1", "B2", "B3", "B4", "1F", "2F", "3F", "4F", "ê¸°íƒ€" };
        public List<string> SubParts { get; } = new List<string> { "Main(ì‹œìƒì‚°)", "MainA", "MainB", "MainC", /* ... MainZê¹Œì§€ ì¶”ê°€ */ "MainD", "MainE", "MainF", "MainG", "MainH", "MainI", "MainJ", "MainK", "MainL", "MainM", "MainN", "MainO", "MainP", "MainQ", "MainR", "MainS", "MainT", "MainU", "MainV", "MainW", "MainX", "MainY", "MainZ" };
        public List<string> Administrators { get; } = new List<string> { "í™ê¸¸ë™A", "í™ê¸¸ë™B", "í™ê¸¸ë™C", /* ... í™ê¸¸ë™Xê¹Œì§€ ì¶”ê°€ */ "í™ê¸¸ë™D", "í™ê¸¸ë™E", "í™ê¸¸ë™F", "í™ê¸¸ë™G", "í™ê¸¸ë™H", "í™ê¸¸ë™I", "í™ê¸¸ë™J", "í™ê¸¸ë™K", "í™ê¸¸ë™L", "í™ê¸¸ë™M", "í™ê¸¸ë™N", "í™ê¸¸ë™O", "í™ê¸¸ë™P", "í™ê¸¸ë™Q", "í™ê¸¸ë™R", "í™ê¸¸ë™S", "í™ê¸¸ë™T", "í™ê¸¸ë™U", "í™ê¸¸ë™V", "í™ê¸¸ë™W", "í™ê¸¸ë™X" };


        /// <summary>
        /// MainViewModel ìƒì„±ìì…ë‹ˆë‹¤.
        /// ë°ì´í„°ë² ì´ìŠ¤ ì»¨í…ìŠ¤íŠ¸ë¥¼ ì´ˆê¸°í™”í•˜ê³ , Commandë“¤ì„ RelayCommandë¡œ ìƒì„±í•˜ë©°, ì´ˆê¸° ë°ì´í„°ë¥¼ ë¡œë“œí•©ë‹ˆë‹¤.
        /// </summary>
        public MainViewModel()
        {
            _context = new LockerDbContext(); // ë°ì´í„°ë² ì´ìŠ¤ ì»¨í…ìŠ¤íŠ¸ ìƒì„±
            // ObservableCollection<LockerAssignment> ì´ˆê¸°í™” (ë¹ˆ ë¦¬ìŠ¤íŠ¸ë¡œ ì‹œì‘)
            _lockerAssignments = new ObservableCollection<LockerAssignment>();

            // Command ì´ˆê¸°í™”
            LoadDataCommand = new RelayCommand(async _ => await LoadDataAsync()); // ë°ì´í„° ë¡œë“œ (ë¹„ë™ê¸°)
            SaveChangesCommand = new RelayCommand(async _ => await SaveChangesAsync()); // ë³€ê²½ ì‚¬í•­ ì €ì¥ (ë¹„ë™ê¸°)
            AddNewCommand = new RelayCommand(AddNewLocker); // ìƒˆ ì‚¬ë¬¼í•¨ ì¶”ê°€ (ë™ê¸°: UIì— í–‰ë§Œ ì¶”ê°€)
            // ì‚­ì œ ëª…ë ¹: SelectedAssignmentê°€ nullì´ ì•„ë‹ ë•Œë§Œ ì‹¤í–‰ ê°€ëŠ¥ (CanExecute ëŒë‹¤ì‹)
            DeleteCommand = new RelayCommand(async _ => await DeleteSelectedAsync(), _ => SelectedAssignment != null);
            // ë°°ì • í•´ì œ ëª…ë ¹: SelectedAssignmentê°€ nullì´ ì•„ë‹ˆê³ , IsAssignedê°€ trueì¼ ë•Œë§Œ ì‹¤í–‰ ê°€ëŠ¥
            ClearAssignmentCommand = new RelayCommand(ClearSelectedAssignment, _ => SelectedAssignment != null && SelectedAssignment.IsAssigned);

            // ViewModel ìƒì„± ì‹œ ìë™ìœ¼ë¡œ ë°ì´í„° ë¡œë“œ ì‹œì‘ (ë¹„ë™ê¸° í˜¸ì¶œì´ë¯€ë¡œ await í•˜ì§€ ì•ŠìŒ)
            _ = LoadDataAsync();
        }

        /// <summary>
        /// ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì‚¬ë¬¼í•¨ ëª©ë¡ì„ ë¹„ë™ê¸°ì ìœ¼ë¡œ ë¡œë“œí•˜ì—¬ LockerAssignments ì»¬ë ‰ì…˜ì— ì±„ì›ë‹ˆë‹¤.
        /// </summary>
        private async Task LoadDataAsync()
        {
            StatusBarText = "ë°ì´í„° ë¡œë”© ì¤‘...";
            try
            {
                // Entity Framework Coreë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ëª¨ë“  LockerAssignmentsë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.
                // ì„±ëŠ¥ì„ ìœ„í•´ AsNoTracking()ì„ ì‚¬ìš©í•  ìˆ˜ ìˆì§€ë§Œ, í¸ì§‘ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë¯€ë¡œ ì¶”ì  ìƒíƒœë¡œ ë‘¡ë‹ˆë‹¤.
                // OrderByë¥¼ ì‚¬ìš©í•˜ì—¬ ì •ë ¬ ìˆœì„œë¥¼ ì§€ì •í•©ë‹ˆë‹¤.
                var assignments = await _context.LockerAssignments
                                               .OrderBy(l => l.Floor)       // ì¸µ ì˜¤ë¦„ì°¨ìˆœ
                                               .ThenBy(l => l.Zone)       // êµ¬ì—­ ì˜¤ë¦„ì°¨ìˆœ
                                               .ThenBy(l => l.SpecificLocation) // ì„¸ë¶€ìœ„ì¹˜ ì˜¤ë¦„ì°¨ìˆœ
                                               .ToListAsync(); // ë¹„ë™ê¸°ì ìœ¼ë¡œ ë¦¬ìŠ¤íŠ¸ë¡œ ë³€í™˜

                // ê¸°ì¡´ ì»¬ë ‰ì…˜ì„ ìƒˆë¡œ ë¡œë“œëœ ë°ì´í„°ë¡œ êµì²´í•©ë‹ˆë‹¤.
                // ì´ë ‡ê²Œ í•˜ë©´ UI(GridControl)ê°€ ìë™ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë©ë‹ˆë‹¤.
                LockerAssignments = new ObservableCollection<LockerAssignment>(assignments);
                StatusBarText = $"ì´ {LockerAssignments.Count}ê°œì˜ ë ˆì½”ë“œë¥¼ ë¡œë“œí–ˆìŠµë‹ˆë‹¤.";
            }
            catch (Exception ex) // ì˜ˆì™¸ ì²˜ë¦¬
            {
                StatusBarText = $"ë°ì´í„° ë¡œë”© ì˜¤ë¥˜: {ex.Message}";
                // ì‚¬ìš©ìì—ê²Œ ì˜¤ë¥˜ ë©”ì‹œì§€ í‘œì‹œ
                MessageBox.Show($"ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ë˜ëŠ” ì¿¼ë¦¬ ì‹¤í–‰ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤:\n{ex.Message}\n\nApp.configì˜ ì—°ê²° ë¬¸ìì—´ì„ í™•ì¸í•˜ê³  ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ê°€ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸í•˜ì„¸ìš”.", "ë¡œë“œ ì˜¤ë¥˜", MessageBoxButton.OK, MessageBoxImage.Error);
            }
        }

        /// <summary>
        /// UIì—ì„œ ë°œìƒí•œ ë³€ê²½ ì‚¬í•­(ì¶”ê°€, ìˆ˜ì •, ì‚­ì œ)ì„ ë°ì´í„°ë² ì´ìŠ¤ì— ë¹„ë™ê¸°ì ìœ¼ë¡œ ì €ì¥í•©ë‹ˆë‹¤.
        /// </summary>
        private async Task SaveChangesAsync()
        {
            StatusBarText = "ë³€ê²½ ì‚¬í•­ ì €ì¥ ì¤‘...";
            try
            {
                // ê¸°ë³¸ì ì¸ ìœ íš¨ì„± ê²€ì‚¬ ì˜ˆì‹œ: ìƒˆ í•­ëª© ë˜ëŠ” ìˆ˜ì •ëœ í•­ëª© ì¤‘ ë¬¼ë¦¬ì  ìœ„ì¹˜ê°€ ì¤‘ë³µë˜ëŠ”ì§€ í™•ì¸
                var duplicates = LockerAssignments
                    // í˜„ì¬ ì»¨í…ìŠ¤íŠ¸ì—ì„œ ì¶”ê°€(Added) ë˜ëŠ” ìˆ˜ì •(Modified) ìƒíƒœì¸ ì—”í‹°í‹°ë§Œ í•„í„°ë§
                    .Where(l => _context.Entry(l).State == EntityState.Added || _context.Entry(l).State == EntityState.Modified)
                    // ì¸µ, êµ¬ì—­, ì„¸ë¶€ìœ„ì¹˜ë¡œ ê·¸ë£¹í™”
                    .GroupBy(l => new { l.Floor, l.Zone, l.SpecificLocation })
                    // ê·¸ë£¹ ë‚´ í•­ëª© ìˆ˜ê°€ 1ê°œë¥¼ ì´ˆê³¼í•˜ëŠ” ê²½ìš° (ì¤‘ë³µ)
                    .Where(g => g.Count() > 1)
                    // ì¤‘ë³µëœ í‚¤(ìœ„ì¹˜ ì •ë³´) ì„ íƒ
                    .Select(g => g.Key);

                // ì¤‘ë³µì´ ë°œê²¬ë˜ë©´
                if (duplicates.Any())
                {
                     MessageBox.Show($"ì €ì¥í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì¤‘ë³µëœ ë¬¼ë¦¬ì  ì‚¬ë¬¼í•¨ ìœ„ì¹˜ê°€ ë°œê²¬ë˜ì—ˆìŠµë‹ˆë‹¤: {string.Join(", ", duplicates.Select(d => $"{d.Floor}-{d.Zone}-{d.SpecificLocation}"))}", "ìœ íš¨ì„± ê²€ì‚¬ ì˜¤ë¥˜", MessageBoxButton.OK, MessageBoxImage.Warning);
                     StatusBarText = "ì¤‘ë³µ ìœ„ì¹˜ë¡œ ì¸í•´ ì €ì¥ ì‹¤íŒ¨.";
                     return; // ì €ì¥ ì‘ì—… ì¤‘ë‹¨
                }


                // ë³€ê²½ëœ ì—”í‹°í‹°ë“¤ì— ëŒ€í•´ í˜„ì¬ ê´€ë¦¬ì ì •ë³´ ì„¤ì • (DbContextì˜ SaveChanges ì˜¤ë²„ë¼ì´ë“œì—ì„œë„ ê°€ëŠ¥)
                var changedEntries = _context.ChangeTracker.Entries<LockerAssignment>()
                    .Where(e => e.State == EntityState.Added || e.State == EntityState.Modified);

                foreach(var entry in changedEntries)
                {
                    // LastUpdatedëŠ” DbContextì˜ SaveChanges ì˜¤ë²„ë¼ì´ë“œì—ì„œ ìë™ìœ¼ë¡œ ì²˜ë¦¬ë©ë‹ˆë‹¤.
                    entry.Entity.Administrator = _currentAdmin; // ë³€ê²½ì„ ìˆ˜í–‰í•œ ê´€ë¦¬ì ì •ë³´ ê¸°ë¡
                }


                // DbContextë¥¼ í†µí•´ ë³€ê²½ ì‚¬í•­ì„ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥í•©ë‹ˆë‹¤.
                int changedCount = await _context.SaveChangesAsync(); // ë¹„ë™ê¸° ì €ì¥
                StatusBarText = $"ì„±ê³µì ìœ¼ë¡œ {changedCount}ê°œì˜ ë³€ê²½ ì‚¬í•­ì„ ì €ì¥í–ˆìŠµë‹ˆë‹¤.";

                // ì˜µì…˜: ì €ì¥ í›„ ë°ì´í„°ë¥¼ ë‹¤ì‹œ ë¡œë“œí•˜ì—¬ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ê³„ì‚°ëœ ê°’ ë“±ì„ ë°˜ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                // await LoadDataAsync();
            }
            catch (DbUpdateException dbEx) // ë°ì´í„°ë² ì´ìŠ¤ ì—…ë°ì´íŠ¸ ê´€ë ¨ ì˜ˆì™¸ ì²˜ë¦¬
            {
                 // InnerExceptionì— ë” êµ¬ì²´ì ì¸ ì˜¤ë¥˜ ì •ë³´(ì˜ˆ: ì œì•½ ì¡°ê±´ ìœ„ë°˜)ê°€ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                var innerExceptionMessage = dbEx.InnerException?.Message ?? dbEx.Message;
                StatusBarText = $"ë°ì´í„° ì €ì¥ ì˜¤ë¥˜: {innerExceptionMessage}";
                MessageBox.Show($"ë°ì´í„°ë² ì´ìŠ¤ì— ë³€ê²½ ì‚¬í•­ì„ ì €ì¥í•˜ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤:\n{innerExceptionMessage}", "ì €ì¥ ì˜¤ë¥˜", MessageBoxButton.OK, MessageBoxImage.Error);
                 // ì €ì¥ ì‹¤íŒ¨ ì‹œ ë³€ê²½ ì‚¬í•­ ë¡¤ë°± ê³ ë ¤ (ë” ë³µì¡í•œ ë¡œì§ í•„ìš”)
                 // await RollbackChangesAsync();
            }
            catch (Exception ex) // ê¸°íƒ€ ì¼ë°˜ì ì¸ ì˜ˆì™¸ ì²˜ë¦¬
            {
                StatusBarText = $"ë°ì´í„° ì €ì¥ ì˜¤ë¥˜: {ex.Message}";
                MessageBox.Show($"ì €ì¥ ì¤‘ ì˜ˆê¸°ì¹˜ ì•Šì€ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤:\n{ex.Message}", "ì €ì¥ ì˜¤ë¥˜", MessageBoxButton.OK, MessageBoxImage.Error);
            }
        }

        /// <summary>
        /// GridControlì— ìƒˆë¡œìš´ ë¹ˆ ì‚¬ë¬¼í•¨ í–‰ì„ ì¶”ê°€í•©ë‹ˆë‹¤. (ì•„ì§ ë°ì´í„°ë² ì´ìŠ¤ì—ëŠ” ì €ì¥ë˜ì§€ ì•ŠìŒ)
        /// </summary>
        private void AddNewLocker(object? parameter) // parameterëŠ” ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©ë˜ì§€ ì•ŠìŒ
        {
            // ìƒˆ LockerAssignment ê°ì²´ ìƒì„±
            var newAssignment = new LockerAssignment
            {
                // ê¸°ë³¸ê°’ ì„¤ì • (ComboBox ëª©ë¡ì˜ ì²« ë²ˆì§¸ í•­ëª© ë“±)
                LockerType = LockerTypes.FirstOrDefault() ?? "ê°œì¸ì‚¬ë¬¼í•¨",
                Floor = Floors.FirstOrDefault() ?? "1",
                Zone = Zones.FirstOrDefault() ?? "A",
                // ì„¸ë¶€ ìœ„ì¹˜ëŠ” ì‚¬ìš©ìê°€ ì…ë ¥í•´ì•¼ í•˜ë¯€ë¡œ ì„ì‹œ ê³ ìœ ê°’ ì„¤ì •
                SpecificLocation = "ìƒˆ ìœ„ì¹˜-" + Guid.NewGuid().ToString().Substring(0, 4),
                Administrator = _currentAdmin, // ìƒì„± ì‹œ ê´€ë¦¬ì ì •ë³´ ì„¤ì •
                LastUpdated = DateTime.Now // ìƒì„± ì‹œê° ì„¤ì • (ì €ì¥ ì‹œ ë®ì–´ì“°ì—¬ì§)
            };

            // ObservableCollectionì— ì¶”ê°€í•˜ì—¬ UI(GridControl)ì— ìƒˆ í–‰ í‘œì‹œ
            LockerAssignments.Add(newAssignment);
            // EF Coreì˜ DbContextì—ë„ ì¶”ê°€í•˜ì—¬ ë³€ê²½ ì‚¬í•­ ì¶”ì  ì‹œì‘
            _context.LockerAssignments.Add(newAssignment);

            // ìƒˆë¡œ ì¶”ê°€ëœ í–‰ì„ GridControlì—ì„œ ì„ íƒ ìƒíƒœë¡œ ë§Œë“¤ì–´ ì‚¬ìš©ì í¸ì§‘ ìœ ë„
            SelectedAssignment = newAssignment;
            StatusBarText = "ìƒˆ ì‚¬ë¬¼í•¨ì´ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤. ì„¸ë¶€ ì •ë³´ë¥¼ ì…ë ¥í•˜ê³  'ë³€ê²½ ì‚¬í•­ ì €ì¥'ì„ í´ë¦­í•˜ì„¸ìš”.";
        }

        /// <summary>
        /// GridControlì—ì„œ ì„ íƒëœ ì‚¬ë¬¼í•¨ ì •ë³´ë¥¼ ë°ì´í„°ë² ì´ìŠ¤ì™€ UIì—ì„œ ì‚­ì œí•©ë‹ˆë‹¤.
        /// </summary>
        private async Task DeleteSelectedAsync()
        {
            if (SelectedAssignment == null) return; // ì„ íƒëœ í•­ëª©ì´ ì—†ìœ¼ë©´ ì•„ë¬´ ì‘ì—… ì•ˆ í•¨

            // ì‚¬ìš©ìì—ê²Œ ì‚­ì œ í™•ì¸ ë©”ì‹œì§€ í‘œì‹œ
            if (MessageBox.Show($"'{SelectedAssignment.Floor}-{SelectedAssignment.Zone}-{SelectedAssignment.SpecificLocation}' ì‚¬ë¬¼í•¨ ì •ë³´ë¥¼ ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?",
                                "ì‚­ì œ í™•ì¸", MessageBoxButton.YesNo, MessageBoxImage.Warning) == MessageBoxResult.Yes)
            {
                StatusBarText = "ë ˆì½”ë“œ ì‚­ì œ ì¤‘...";
                try
                {
                    var assignmentToDelete = SelectedAssignment; // ì‚­ì œí•  ê°ì²´ ì°¸ì¡° ì €ì¥

                    // DbContextì—ì„œ í•´ë‹¹ ì—”í‹°í‹°ë¥¼ ì œê±° ëŒ€ìƒìœ¼ë¡œ í‘œì‹œ
                    _context.LockerAssignments.Remove(assignmentToDelete);
                    // ë³€ê²½ ì‚¬í•­(ì‚­ì œ)ì„ ì¦‰ì‹œ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥
                    int changedCount = await _context.SaveChangesAsync();

                    // ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì„±ê³µì ìœ¼ë¡œ ì‚­ì œëœ ê²½ìš°ì—ë§Œ UI(ObservableCollection)ì—ì„œë„ ì œê±°
                    LockerAssignments.Remove(assignmentToDelete);
                    SelectedAssignment = null; // ì„ íƒ í•´ì œ
                    StatusBarText = $"ì„±ê³µì ìœ¼ë¡œ {changedCount}ê°œì˜ ë ˆì½”ë“œë¥¼ ì‚­ì œí–ˆìŠµë‹ˆë‹¤.";
                }
                 catch (DbUpdateException dbEx) // ë°ì´í„°ë² ì´ìŠ¤ ì—…ë°ì´íŠ¸ ê´€ë ¨ ì˜ˆì™¸ ì²˜ë¦¬
                {
                    // ì™¸ë˜ í‚¤ ì œì•½ ì¡°ê±´ ë“± ì‚­ì œ ì‹¤íŒ¨ ì›ì¸ í™•ì¸
                    var innerExceptionMessage = dbEx.InnerException?.Message ?? dbEx.Message;
                    StatusBarText = $"ë°ì´í„° ì‚­ì œ ì˜¤ë¥˜: {innerExceptionMessage}";
                    MessageBox.Show($"ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ë ˆì½”ë“œë¥¼ ì‚­ì œí•˜ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤:\n{innerExceptionMessage}", "ì‚­ì œ ì˜¤ë¥˜", MessageBoxButton.OK, MessageBoxImage.Error);
                    // ì˜¤ë¥˜ ë°œìƒ ì‹œ ë°ì´í„° ì¼ê´€ì„±ì„ ìœ„í•´ ë‹¤ì‹œ ë¡œë“œí•˜ëŠ” ê²ƒì´ ì¢‹ì„ ìˆ˜ ìˆìŒ
                     await LoadDataAsync();
                }
                catch (Exception ex) // ê¸°íƒ€ ì˜ˆì™¸ ì²˜ë¦¬
                {
                    StatusBarText = $"ë°ì´í„° ì‚­ì œ ì˜¤ë¥˜: {ex.Message}";
                     MessageBox.Show($"ì‚­ì œ ì¤‘ ì˜ˆê¸°ì¹˜ ì•Šì€ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤:\n{ex.Message}", "ì‚­ì œ ì˜¤ë¥˜", MessageBoxButton.OK, MessageBoxImage.Error);
                     await LoadDataAsync(); // ì˜¤ë¥˜ ë°œìƒ ì‹œ ë°ì´í„° ì¼ê´€ì„±ì„ ìœ„í•´ ë‹¤ì‹œ ë¡œë“œ
                }
            }
        }

         /// <summary>
         /// ì„ íƒëœ ì‚¬ë¬¼í•¨ì˜ ì‚¬ìš©ì ë°°ì • ì •ë³´(UserName, KnoxId, SubPart ë“±)ë¥¼ ì§€ì›ë‹ˆë‹¤.
         /// ì‚¬ìš©ì ì´ë™(í‡´ì‚¬, ë¶€ì„œ ë³€ê²½ ë“±) ì‹œ ë¹ˆ ì‚¬ë¬¼í•¨ìœ¼ë¡œ ë§Œë“œëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.
         /// </summary>
        private void ClearSelectedAssignment(object? parameter) // parameterëŠ” ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©ë˜ì§€ ì•ŠìŒ
        {
             if (SelectedAssignment != null)
            {
                // ì‚¬ìš©ì ê´€ë ¨ í•„ë“œë¥¼ null ë˜ëŠ” ë¹ˆ ë¬¸ìì—´ë¡œ ì„¤ì •
                SelectedAssignment.UserName = null;
                SelectedAssignment.KnoxId = null;
                SelectedAssignment.SubPart = null;
                // ê´€ë¦¬ì ì •ë³´ëŠ” ìœ ì§€í•˜ê±°ë‚˜ ê·œì¹™ì— ë”°ë¼ ì§€ìš¸ ìˆ˜ ìˆìŒ
                // SelectedAssignment.Administrator = null;

                // ì¤‘ìš”: LockerAssignmentê°€ INotifyPropertyChangedë¥¼ êµ¬í˜„í–ˆìœ¼ë¯€ë¡œ,
                // ì†ì„± ë³€ê²½ ì‹œ ìë™ìœ¼ë¡œ UIê°€ ì—…ë°ì´íŠ¸ë©ë‹ˆë‹¤.
                // OnPropertyChanged(nameof(SelectedAssignment.IsAssigned)); // IsAssignedë„ ì—…ë°ì´íŠ¸ ì•Œë¦¼

                // EF Core ì»¨í…ìŠ¤íŠ¸ì—ì„œ í•´ë‹¹ ì—”í‹°í‹°ì˜ ìƒíƒœë¥¼ 'ìˆ˜ì •ë¨(Modified)'ìœ¼ë¡œ ëª…ì‹œì ìœ¼ë¡œ ì„¤ì •í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.
                // (ì¼ë°˜ì ìœ¼ë¡œ ì†ì„± ë³€ê²½ ì‹œ ìë™ìœ¼ë¡œ ê°ì§€í•˜ì§€ë§Œ ëª…í™•ì„±ì„ ìœ„í•´ ì¶”ê°€ ê°€ëŠ¥)
                 _context.Entry(SelectedAssignment).State = EntityState.Modified;
                 // ëˆ„ê°€ ë°°ì •ì„ í•´ì œí–ˆëŠ”ì§€ ê´€ë¦¬ì ì •ë³´ ì—…ë°ì´íŠ¸
                 SelectedAssignment.Administrator = _currentAdmin;
                 // LastUpdatedëŠ” SaveChanges ì‹œ ìë™ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë˜ì§€ë§Œ, ì—¬ê¸°ì„œ ëª…ì‹œì ìœ¼ë¡œ ì„¤ì •í•´ë„ ë¬´ë°©
                 // SelectedAssignment.LastUpdated = DateTime.Now;

                StatusBarText = $"'{SelectedAssignment.Floor}-{SelectedAssignment.Zone}-{SelectedAssignment.SpecificLocation}' ì‚¬ë¬¼í•¨ì˜ ë°°ì •ì„ í•´ì œí–ˆìŠµë‹ˆë‹¤. ë³€ê²½ ì‚¬í•­ì„ ì €ì¥í•˜ì„¸ìš”.";

                 // ì˜µì…˜: ë°°ì • í•´ì œ ì‘ì—…ì„ ì¦‰ì‹œ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥í•˜ë ¤ë©´ ì•„ë˜ ì£¼ì„ í•´ì œ
                 // _ = SaveChangesAsync();
            }
        }

        /// <summary>
        /// ViewModelì´ ì†Œë©¸ë  ë•Œ (ì˜ˆ: ì°½ì´ ë‹«í ë•Œ) í˜¸ì¶œë˜ì–´ DbContext ê°™ì€ ë¦¬ì†ŒìŠ¤ë¥¼ ì •ë¦¬í•©ë‹ˆë‹¤.
        /// </summary>
        public void Cleanup()
        {
            // DbContextê°€ ì‚¬ìš©í•˜ëŠ” ë¦¬ì†ŒìŠ¤ë¥¼ í•´ì œí•©ë‹ˆë‹¤.
            _context?.Dispose();
        }
    }
}
7. ë©”ì¸ View (Views/MainWindow.xaml)

ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ë¥¼ ì •ì˜í•˜ëŠ” XAML íŒŒì¼ì…ë‹ˆë‹¤. DevExpress GridControlì„ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë¥¼ í‘œì‹œí•˜ê³  í¸ì§‘í•©ë‹ˆë‹¤.

XML

<dx:ThemedWindow
    x:Class="LockerManagementApp.Views.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:dx="http://schemas.devexpress.com/winfx/2008/xaml/core"
    xmlns:dxg="http://schemas.devexpress.com/winfx/2008/xaml/grid"
    xmlns:dxe="http://schemas.devexpress.com/winfx/2008/xaml/editors"
    xmlns:local="clr-namespace:LockerManagementApp.Views"
    xmlns:viewmodels="clr-namespace:LockerManagementApp.ViewModels"
    xmlns:models="clr-namespace:LockerManagementApp.Models"
    Title="ì‚¬ë¬¼í•¨ ê´€ë¦¬ í”„ë¡œê·¸ë¨ (DevExpress MVVM)" Height="700" Width="1200"
    Loaded="ThemedWindow_Loaded"
    Closing="ThemedWindow_Closing">

    <dx:ThemedWindow.DataContext>
        <viewmodels:MainViewModel/>
    </dx:ThemedWindow.DataContext>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/> <RowDefinition Height="*"/>    <RowDefinition Height="Auto"/> </Grid.RowDefinitions>

        <Border Grid.Row="0" Background="{dx:ThemeResource ThemeBrush}" Padding="5">
             <StackPanel Orientation="Horizontal">
                <Button Content="ğŸ”„ ë¡œë“œ/ìƒˆë¡œê³ ì¹¨" Margin="3" Command="{Binding LoadDataCommand}" ToolTip="ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ìµœì‹  ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜µë‹ˆë‹¤."/>
                <Button Content="ğŸ’¾ ë³€ê²½ ì‚¬í•­ ì €ì¥" Margin="3" Command="{Binding SaveChangesCommand}" ToolTip="ê·¸ë¦¬ë“œì—ì„œ ë³€ê²½ëœ ë‚´ìš©ì„ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥í•©ë‹ˆë‹¤."/>
                <Button Content="â• ìƒˆ ì‚¬ë¬¼í•¨ ì¶”ê°€" Margin="3" Command="{Binding AddNewCommand}" ToolTip="ìƒˆë¡œìš´ ì‚¬ë¬¼í•¨ ì •ë³´ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤ (ìƒˆ í–‰ì´ ì¶”ê°€ë˜ë©° ì§ì ‘ í¸ì§‘)."/>
                <Button Content="âŒ ì„ íƒ í•­ëª© ì‚­ì œ" Margin="3" Command="{Binding DeleteCommand}" ToolTip="ì„ íƒëœ ì‚¬ë¬¼í•¨ ì •ë³´ë¥¼ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì‚­ì œí•©ë‹ˆë‹¤."/>
                <Button Content="ğŸ§¹ ë°°ì • í•´ì œ" Margin="3,3,15,3" Command="{Binding ClearAssignmentCommand}" ToolTip="ì„ íƒëœ ì‚¬ë¬¼í•¨ì˜ ì‚¬ìš©ì ë°°ì • ì •ë³´(ì´ë¦„, ID ë“±)ë¥¼ ì œê±°í•©ë‹ˆë‹¤."/>
            </StackPanel>
        </Border>

        <dxg:GridControl Grid.Row="1"
                         ItemsSource="{Binding LockerAssignments}"                 SelectedItem="{Binding SelectedAssignment, Mode=TwoWay}" AutoGenerateColumns="None"                             EnableSmartColumnsGeneration="False"                    SelectionMode="Row"                                   >

            <dxg:GridControl.View>
                <dxg:TableView AllowPerPixelScrolling="True"        ShowTotalSummary="False"             ShowGroupPanel="True"                AllowEditing="True"                  AllowAddingNewItems="False"          AllowDeletingItems="False"           NavigationStyle="Cell"               ShowAutoFilterRow="True"             NewItemRowPosition="None"            AlternateRowBackground="{dx:ThemeResource {dxgt:GridRowThemeKey ResourceKey=AlternateRowBackgroundBrush}}" ShowIndicator="True"                 >
                     <dxg:TableView.RowCellMenuCustomizations>
                         <dx:BarButtonItem Content="ì„ íƒ í•­ëª© ë°°ì • í•´ì œ"
                                           Command="{Binding View.DataContext.ClearAssignmentCommand}" Glyph="{dx:DXImage Svg/Actions/DeleteList.svg}"/> <dx:BarItemSeparator/>
                         <dx:BarButtonItem Content="ì„ íƒ í–‰ ì‚­ì œ"
                                           Command="{Binding View.DataContext.DeleteCommand}" Glyph="{dx:DXImage Svg/Actions/Delete.svg}"/> </dxg:TableView.RowCellMenuCustomizations>
                </dxg:TableView>
            </dxg:GridControl.View>

            <dxg:GridControl.Columns>
                <dxg:GridColumn FieldName="LockerType" Header="ì¢…ë¥˜" Width="100" Fixed="Left"> <dxg:GridColumn.EditSettings>
                        <dxe:ComboBoxEditSettings ItemsSource="{Binding DataContext.LockerTypes, RelativeSource={RelativeSource AncestorType={x:Type dx:ThemedWindow}}}" IsTextEditable="False"/> </dxg:GridColumn.EditSettings>
                </dxg:GridColumn>

                 <dxg:GridColumn FieldName="Floor" Header="ì¸µ" Width="60">
                     <dxg:GridColumn.EditSettings>
                        <dxe:ComboBoxEditSettings ItemsSource="{Binding DataContext.Floors, RelativeSource={RelativeSource AncestorType={x:Type dx:ThemedWindow}}}" IsTextEditable="False"/>
                    </dxg:GridColumn.EditSettings>
                 </dxg:GridColumn>

                <dxg:GridColumn FieldName="Zone" Header="êµ¬ì—­" Width="80">
                     <dxg:GridColumn.EditSettings>
                        <dxe:ComboBoxEditSettings ItemsSource="{Binding DataContext.Zones, RelativeSource={RelativeSource AncestorType={x:Type dx:ThemedWindow}}}" IsTextEditable="True"/> </dxg:GridColumn.EditSettings>
                </dxg:GridColumn>

                <dxg:GridColumn FieldName="SpecificLocation" Header="ì„¸ë¶€ ìœ„ì¹˜" Width="120"/>

                <dxg:GridColumn FieldName="UserName" Header="ì„±ëª…" Width="100"/>
                <dxg:GridColumn FieldName="KnoxId" Header="Knox ID" Width="100"/>

                <dxg:GridColumn FieldName="SubPart" Header="ì†ŒíŒŒíŠ¸" Width="120">
                     <dxg:GridColumn.EditSettings>
                        <dxe:ComboBoxEditSettings ItemsSource="{Binding DataContext.SubParts, RelativeSource={RelativeSource AncestorType={x:Type dx:ThemedWindow}}}"
                                                  IsTextEditable="True"/>
                    </dxg:GridColumn.EditSettings>
                </dxg:GridColumn>

                 <dxg:GridColumn FieldName="Administrator" Header="ê´€ë¦¬ ë‹´ë‹¹ì" Width="120">
                      <dxg:GridColumn.EditSettings>
                        <dxe:ComboBoxEditSettings ItemsSource="{Binding DataContext.Administrators, RelativeSource={RelativeSource AncestorType={x:Type dx:ThemedWindow}}}"
                                                  IsTextEditable="True"/>
                    </dxg:GridColumn.EditSettings>
                 </dxg:GridColumn>

                <dxg:GridColumn FieldName="LastUpdated" Header="ìµœì¢… ìˆ˜ì •ì¼ì‹œ" Width="150" AllowEditing="False" ReadOnly="True">
                     <dxg:GridColumn.EditSettings>
                        <dxe:DateEditSettings MaskType="DateTime" Mask="yyyy-MM-dd HH:mm:ss" MaskUseAsDisplayFormat="True"/>
                    </dxg:GridColumn.EditSettings>
                </dxg:GridColumn>

                <dxg:GridColumn FieldName="Id" Header="ID" Visible="False" ReadOnly="True"/>

            </dxg:GridControl.Columns>

            <dxg:GridControl.ViewSettings>
                <dxg:TableViewSettings ShowSearchPanelMode="Always" ShowSearchPanelFindButton="True" ShowSearchPanelCloseButton="True" SearchPanelHighlightResults="True"/>
            </dxg:GridControl.ViewSettings>

        </dxg:GridControl>

        <StatusBar Grid.Row="2" Background="{dx:ThemeResource EditorGroupBox.Background}">
            <StatusBarItem>
                <TextBlock Text="{Binding StatusBarText}" Margin="5,0"/>
            </StatusBarItem>
        </StatusBar>
    </Grid>
</dx:ThemedWindow>
(Views/MainWindow.xaml.cs) - MVVM íŒ¨í„´ì—ì„œëŠ” Code-behind íŒŒì¼ì˜ ì½”ë“œë¥¼ ìµœì†Œí™”í•©ë‹ˆë‹¤. ì£¼ë¡œ View ìì²´ì˜ ì´ë²¤íŠ¸ ì²˜ë¦¬ë‚˜ ViewModelì—ì„œ ì§ì ‘ ì²˜ë¦¬í•˜ê¸° ì–´ë ¤ìš´ UI ê´€ë ¨ ë¡œì§ë§Œ ë‚¨ê¹ë‹ˆë‹¤.

C#

using DevExpress.Xpf.Core; // ThemedWindow, ApplicationThemeHelper ë“± ì‚¬ìš©
using LockerManagementApp.ViewModels; // MainViewModel ì°¸ì¡°
using System.Windows; // RoutedEventArgs ë“± ì‚¬ìš©

namespace LockerManagementApp.Views
{
    /// <summary>
    /// MainWindow.xamlì— ëŒ€í•œ ìƒí˜¸ ì‘ìš© ë…¼ë¦¬
    /// MVVM íŒ¨í„´ì„ ë”°ë¥´ë¯€ë¡œ, ë³µì¡í•œ ë¡œì§ì€ ViewModelì— ìœ„ì¹˜í•´ì•¼ í•©ë‹ˆë‹¤.
    /// </summary>
    public partial class MainWindow : ThemedWindow // ê¸°ë³¸ Window ëŒ€ì‹  DevExpress ThemedWindow ìƒì†
    {
        public MainWindow()
        {
            InitializeComponent(); // XAML ë¡œë“œ ë° ì»¨íŠ¸ë¡¤ ì´ˆê¸°í™”

            // ì˜µì…˜: ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹œì‘ ì‹œ DevExpress í…Œë§ˆ ì„¤ì •
            // ì‚¬ìš© ê°€ëŠ¥í•œ í…Œë§ˆ ì´ë¦„ í™•ì¸ í•„ìš” (ì˜ˆ: Office2019Colorful, VS2017Dark ë“±)
            ApplicationThemeHelper.ApplicationThemeName = Theme.Office2019ColorfulName;
        }

        /// <summary>
        /// í˜„ì¬ Windowì˜ DataContextë¥¼ MainViewModel íƒ€ì…ìœ¼ë¡œ ì•ˆì „í•˜ê²Œ ìºìŠ¤íŒ…í•˜ì—¬ ë°˜í™˜í•˜ëŠ” í¸ì˜ ì†ì„±ì…ë‹ˆë‹¤.
        /// </summary>
        private MainViewModel? ViewModel => DataContext as MainViewModel;

        /// <summary>
        /// Windowê°€ ë¡œë“œë˜ì—ˆì„ ë•Œ í˜¸ì¶œë˜ëŠ” ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ì…ë‹ˆë‹¤.
        /// </summary>
        private void ThemedWindow_Loaded(object sender, RoutedEventArgs e)
        {
            // ViewModel ìƒì„±ìì—ì„œ ì´ë¯¸ ë°ì´í„° ë¡œë“œë¥¼ ì‹œì‘í•˜ì§€ë§Œ,
            // ëª…ì‹œì ìœ¼ë¡œ ì—¬ê¸°ì„œ ë¡œë“œ ëª…ë ¹ì„ ì‹¤í–‰í•˜ê³  ì‹¶ë‹¤ë©´ ì•„ë˜ ì£¼ì„ í•´ì œ
            // ViewModel?.LoadDataCommand.Execute(null);
        }

        /// <summary>
        /// Windowê°€ ë‹«íˆê¸° ì „ì— í˜¸ì¶œë˜ëŠ” ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ì…ë‹ˆë‹¤.
        /// </summary>
        private void ThemedWindow_Closing(object sender, System.ComponentModel.CancelEventArgs e)
        {
             // ì˜µì…˜: ì €ì¥ë˜ì§€ ì•Šì€ ë³€ê²½ ì‚¬í•­ì´ ìˆì„ ê²½ìš° ì‚¬ìš©ìì—ê²Œ ì €ì¥ ì—¬ë¶€ í™•ì¸ ë¡œì§ ì¶”ê°€ ê°€ëŠ¥
             // if (ViewModel != null && ViewModel.HasUnsavedChanges) // HasUnsavedChanges ì†ì„± êµ¬í˜„ í•„ìš”
             // {
             //     var result = MessageBox.Show("ì €ì¥ë˜ì§€ ì•Šì€ ë³€ê²½ ì‚¬í•­ì´ ìˆìŠµë‹ˆë‹¤. ì €ì¥í•˜ì‹œê² ìŠµë‹ˆê¹Œ?", "í™•ì¸", MessageBoxButton.YesNoCancel, MessageBoxImage.Question);
             //     if (result == MessageBoxResult.Yes)
             //     {
             //         ViewModel.SaveChangesCommand.Execute(null);
             //         // ì €ì¥ ì™„ë£Œë¥¼ ê¸°ë‹¤ë ¤ì•¼ í•  ìˆ˜ë„ ìˆìŒ (ë¹„ë™ê¸° ì²˜ë¦¬ ì‹œ)
             //     }
             //     else if (result == MessageBoxResult.Cancel)
             //     {
             //         e.Cancel = true; // ì°½ ë‹«ê¸° ì·¨ì†Œ
             //     }
             // }

            // ViewModelì˜ Cleanup ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ì—¬ ì‚¬ìš©í•œ ë¦¬ì†ŒìŠ¤(ì˜ˆ: DbContext)ë¥¼ ì •ë¦¬í•©ë‹ˆë‹¤.
            ViewModel?.Cleanup();
        }
    }
}
8. ì• í”Œë¦¬ì¼€ì´ì…˜ ì§„ì…ì  (App.xaml / App.xaml.cs)

ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹œì‘ ì‹œ ì‹¤í–‰ë˜ëŠ” ë¶€ë¶„ì…ë‹ˆë‹¤.

(App.xaml) - StartupUriê°€ MainWindow.xamlì„ ê°€ë¦¬í‚¤ë„ë¡ í•©ë‹ˆë‹¤.

XML

<Application x:Class="LockerManagementApp.App"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:local="clr-namespace:LockerManagementApp"
             StartupUri="Views/MainWindow.xaml"> <Application.Resources>
        </Application.Resources>
</Application>
(App.xaml.cs) - ì¼ë°˜ì ìœ¼ë¡œ ê°„ë‹¨í•œ ì•±ì—ì„œëŠ” ì½”ë“œê°€ ê±°ì˜ ì—†ì§€ë§Œ, ì „ì—­ ì„¤ì •ì´ë‚˜ ì˜ˆì™¸ ì²˜ë¦¬ ë¡œì§ì„ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

C#

using System;
using System.Threading.Tasks;
using System.Windows;
using System.Windows.Threading; // DispatcherUnhandledException ì‚¬ìš©

namespace LockerManagementApp
{
    /// <summary>
    /// App.xamlì— ëŒ€í•œ ìƒí˜¸ ì‘ìš© ë…¼ë¦¬
    /// ì• í”Œë¦¬ì¼€ì´ì…˜ ìˆ˜ì¤€ì˜ ì´ë²¤íŠ¸ ì²˜ë¦¬ ë° ì´ˆê¸° ì„¤ì •ì„ ë‹´ë‹¹í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    /// </summary>
    public partial class App : Application
    {
        /// <summary>
        /// ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹œì‘ ì‹œ í˜¸ì¶œë©ë‹ˆë‹¤.
        /// </summary>
        protected override void OnStartup(StartupEventArgs e)
        {
            base.OnStartup(e);
            // ì „ì—­ ì˜ˆì™¸ ì²˜ë¦¬ ì„¤ì • (ì• í”Œë¦¬ì¼€ì´ì…˜ ì•ˆì •ì„± í–¥ìƒ)
            SetupGlobalExceptionHandling();
        }

        /// <summary>
        /// ì²˜ë¦¬ë˜ì§€ ì•Šì€ ì˜ˆì™¸ë¥¼ ì²˜ë¦¬í•˜ê¸° ìœ„í•œ í•¸ë“¤ëŸ¬ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.
        /// </summary>
        private void SetupGlobalExceptionHandling()
        {
            // UI ìŠ¤ë ˆë“œì—ì„œ ì²˜ë¦¬ë˜ì§€ ì•Šì€ ì˜ˆì™¸
            DispatcherUnhandledException += (s, e) =>
            {
                LogAndShowException(e.Exception, "UI Thread Exception");
                e.Handled = true; // trueë¡œ ì„¤ì •í•˜ë©´ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ë¹„ì •ìƒ ì¢…ë£Œë˜ì§€ ì•ŠìŒ
            };

            // ë°±ê·¸ë¼ìš´ë“œ ìŠ¤ë ˆë“œ(Task)ì—ì„œ ì²˜ë¦¬ë˜ì§€ ì•Šì€ ì˜ˆì™¸
            TaskScheduler.UnobservedTaskException += (s, e) =>
            {
                LogAndShowException(e.Exception, "Background Task Exception");
                e.SetObserved(); // ì˜ˆì™¸ê°€ ê´€ì°°ë˜ì—ˆìŒì„ í‘œì‹œ
            };

            // AppDomain ìˆ˜ì¤€ì˜ ì˜ˆì™¸ (ì¼ë°˜ì ìœ¼ë¡œ ë§ˆì§€ë§‰ ë°©ì–´ì„ )
            AppDomain.CurrentDomain.UnhandledException += (s, e) =>
            {
                LogAndShowException((Exception)e.ExceptionObject, "AppDomain Exception");
                // ì—¬ê¸°ì„œëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ ì¢…ë£Œë¥¼ ë§‰ê¸° ì–´ë ¤ìš¸ ìˆ˜ ìˆìŒ
            };
        }

        /// <summary>
        /// ì˜ˆì™¸ ì •ë³´ë¥¼ ë¡œê·¸(ì—¬ê¸°ì„œëŠ” MessageBoxë¡œ ë‹¨ìˆœí™”)í•˜ê³  ì‚¬ìš©ìì—ê²Œ ì•Œë¦½ë‹ˆë‹¤.
        /// </summary>
        /// <param name="exception">ë°œìƒí•œ ì˜ˆì™¸ ê°ì²´</param>
        /// <param name="source">ì˜ˆì™¸ ë°œìƒ ì¶œì²˜</param>
        private void LogAndShowException(Exception exception, string source)
        {
            // ì‹¤ì œ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œëŠ” íŒŒì¼, ë°ì´í„°ë² ì´ìŠ¤, ì´ë²¤íŠ¸ ë¡œê·¸ ë“±ì— ê¸°ë¡í•´ì•¼ í•©ë‹ˆë‹¤.
            string errorMessage = $"ì˜ˆê¸°ì¹˜ ì•Šì€ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤ ({source}):\n\n{exception.Message}\n\nStack Trace:\n{exception.StackTrace}";
            MessageBox.Show(errorMessage, "ì• í”Œë¦¬ì¼€ì´ì…˜ ì˜¤ë¥˜", MessageBoxButton.OK, MessageBoxImage.Error);

            // í•„ìš”í•˜ë‹¤ë©´ ì¶”ê°€ì ì¸ ì •ë¦¬ ì‘ì—… ìˆ˜í–‰
            // Environment.Exit(1); // ì‹¬ê°í•œ ì˜¤ë¥˜ ì‹œ ê°•ì œ ì¢…ë£Œ ê³ ë ¤
        }
    }
}

ì½”ë“œ ì‹¤í–‰ ë°©ë²•:

ì œê³µëœ SQL ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ SQL Serverì— ë°ì´í„°ë² ì´ìŠ¤ì™€ í…Œì´ë¸”ì„ ìƒì„±í•©ë‹ˆë‹¤.
Visual Studioì—ì„œ WPF í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
í•„ìš”í•œ NuGet íŒ¨í‚¤ì§€(EF Core, DevExpress)ë¥¼ ì„¤ì¹˜í•©ë‹ˆë‹¤.
í”„ë¡œì íŠ¸ì— Models, ViewModels, Views, Data, Infrastructure í´ë”ë¥¼ ë§Œë“¤ê³  ê° í´ë”ì— ì œê³µëœ C# ë° XAML íŒŒì¼ì„ ì¶”ê°€í•©ë‹ˆë‹¤.
ë§¤ìš° ì¤‘ìš”: App.config íŒŒì¼ê³¼ Data/LockerDbContext.cs íŒŒì¼ ë‚´ì˜ **ì—°ê²° ë¬¸ìì—´ (connectionString)**ì„ ì‹¤ì œ ì‚¬ìš©í•˜ëŠ” SQL Server ì¸ìŠ¤í„´ìŠ¤ ì •ë³´ì— ë§ê²Œ ìˆ˜ì •í•©ë‹ˆë‹¤.