투 서버에서 Xrdp를 사용하여 원격 데스크톱 접속을 하고 있고, 방화벽을 비활성화하여 모든 포트가 열려 있는 상태입니다. 하지만 보안을 위해 원격 포트와 플라스크가 사용 중인 8000 포트를 제외한 나머지 포트를 차단하고 싶다고 말씀하셨습니다.

우분투 서버에서 방화벽 설정을 관리하기 위해 "ufw" (Uncomplicated Firewall)를 사용할 수 있습니다. 먼저 방화벽을 활성화하고, 필요한 포트를 개방하고, 나머지 포트를 차단하는 단계를 수행해야 합니다.

    방화벽 활성화:

    shell

sudo ufw enable

필요한 포트 개방:
예를 들어, 원격 데스크톱 접속에 사용되는 Xrdp 포트인 3389번과 플라스크가 사용 중인 8000번 포트를 열어줍니다.

shell

sudo ufw allow 3389
sudo ufw allow 8000

나머지 포트 차단:
모든 포트를 차단한 다음 필요한 포트를 제외한 나머지 포트를 차단합니다.

shell

    sudo ufw default deny incoming
    sudo ufw deny <포트 번호>

    이때, <포트 번호>에 차단하고 싶은 포트 번호를 입력하면 됩니다.

포트 확인을 위해 다음 명령을 사용할 수 있습니다:

shell

sudo ufw status verbose

이 명령은 현재 활성화된 방화벽 규칙과 열린 포트의 상태를 자세히 보여줍니다.