, 그 파일들 중에서 "Plan Selected" 문구를 포함하는 파일을 찾고, 그 파일들의 마지막 쓰기 시간이 가장 최근 파일의 마지막 쓰기 시간보다 큰 파일들을 필터링하는 C# 코드입니다.

csharp
코드 복사
using System;
using System.IO;
using System.Linq;

class Program
{
    static void Main(string[] args)
    {
        string folderPath = @"C:\Your\Log\Folder"; // 로그 파일이 있는 폴더 경로
        string searchKeyword = "Plan Selected"; // 찾고자 하는 키워드

        // 1. 모든 *.log 파일을 가져오기
        var logFiles = Directory.GetFiles(folderPath, "*.log", SearchOption.TopDirectoryOnly);

        // 2. "Plan Selected" 문구가 있는 파일 필터링
        var filesWithKeyword = logFiles.Where(file => File.ReadAllText(file).Contains(searchKeyword)).ToList();

        if (!filesWithKeyword.Any())
        {
            Console.WriteLine("문구를 포함한 파일이 없습니다.");
            return;
        }

        // 3. 문구를 포함한 파일 중 가장 마지막 쓰기 시간이 큰 파일 찾기
        var latestFile = filesWithKeyword.OrderByDescending(file => File.GetLastWriteTime(file)).FirstOrDefault();
        DateTime latestWriteTime = File.GetLastWriteTime(latestFile);

        // 4. 가장 마지막 쓰기 시간보다 큰 모든 *.log 파일 찾기
        var newerFiles = logFiles.Where(file => File.GetLastWriteTime(file) > latestWriteTime).ToList();

        // 5. 결과 출력
        if (newerFiles.Any())
        {
            Console.WriteLine("가장 최근 Plan Selected 로그 파일보다 나중에 수정된 파일들:");
            foreach (var file in newerFiles)
            {
                Console.WriteLine(file);
            }
        }
        else
        {
            Console.WriteLine("가장 최근 Plan Selected 로그 파일보다 나중에 수정된 파일이 없습니다.");
        }
    }
}
코드 설명:
Directory.GetFiles 메서드를 사용해 특정 폴더 내의 *.log 파일을 모두 가져옵니다.
각 파일에 대해 **File.ReadAllText**를 사용하여 "Plan Selected"라는 문구가 있는 파일들을 필터링합니다.
필터링된 파일들 중 가장 마지막으로 수정된 파일을 찾고, 그 파일의 마지막 쓰기 시간을 기록합니다.
*.log 파일들 중 이 기록된 마지막 쓰기 시간보다 더 최근에 수정된 파일들을 찾습니다.
최종적으로 수정된 시간이 더 큰 파일들을 출력합니다.
폴더 경로를 변경하여 사용하면 됩니다.