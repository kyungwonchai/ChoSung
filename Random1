def ask(self, context, user_question):
        if not self.url_cycle:
            return "오류: .env 파일에 LLM URL이 설정되지 않았습니다."

        # ---------------------------------------------------------------
        # [수정 1] 여기에 컬럼 정의서를 작성하세요. (사용자가 직접 작성)
        # 엑셀 순서대로 1열부터 설명을 적으세요.
        # ---------------------------------------------------------------
        col_desc = """
        [데이터 컬럼 설명]
        - 1열: 부품코드 (Part Number)
        - 2열: 스펙/용량 (Spec)
        - 3열: 제조사 (Vendor)
        - 4열: 부품 두께 (T-Value, 단위 mm)
        - 5열: 사이즈 코드 (Size)
        - 6열: 비고 (Comment)
        """

        # ---------------------------------------------------------------
        # [수정 2] 프롬프트(final_input)를 더 똑똑하게 구성합니다.
        # ---------------------------------------------------------------
        # LLM에게 "위의 컬럼 설명을 참고해서 데이터를 해석해라"고 시킵니다.
        final_input = f"""
### Role
너는 SMD 제조 공정의 전문 엔지니어다.

### Schema (데이터 구조)
{col_desc}

### Context (검색된 부품 데이터)
{context}

### User Question (사용자 질문)
{user_question}

### Instruction (지시사항)
1. 위 'Context'는 'Schema'의 순서대로 나열된 데이터다.
2. 사용자의 질문에 필요한 정보만 정확하게 추출해서 답변해라.
3. 불필요한 서술은 줄이고, 질문한 값(예: 두께, 제조사 등)을 명확히 제시해라.
"""

        # 아래는 기존 코드와 동일
        payload = {
            "input_type": "chat",
            "output_type": "chat",
            "input_value": final_input
        }
        
        # ... (이하 생략: 헤더 설정 및 요청 보내는 부분) ...