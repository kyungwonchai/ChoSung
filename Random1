using DevExpress.XtraEditors.Repository;
using DevExpress.XtraGrid.Columns;
using DevExpress.XtraGrid.Views.Grid;
using System;
using System.Windows.Forms;

namespace DevExpressWinFormsApp
{
    public partial class Form1 : Form
    {
        public Form1()
        {
            InitializeComponent();
            ConfigureGrid();
        }

        private void ConfigureGrid()
        {
            // Create a RepositoryItemButtonEdit with a "신청" button
            RepositoryItemButtonEdit buttonEdit = new RepositoryItemButtonEdit();
            buttonEdit.Buttons.Clear(); // Clear default buttons
            buttonEdit.Buttons.Add(new DevExpress.XtraEditors.Controls.EditorButton { Caption = "신청" }); // Add "신청" button
            buttonEdit.TextEditStyle = DevExpress.XtraEditors.Controls.TextEditStyles.Standard; // Change this line

            // Handle the button click event
            buttonEdit.ButtonClick += ButtonEdit_ButtonClick;

            // Add a column with the button editor to the grid view
            GridColumn buttonColumn = gridView1.Columns.AddVisible("Apply");
            buttonColumn.Caption = "신청";
            buttonColumn.ColumnEdit = buttonEdit;
            buttonColumn.Width = 60;
        }

        private void ButtonEdit_ButtonClick(object sender, DevExpress.XtraEditors.Controls.ButtonPressedEventArgs e)
        {
            // Get the current grid view
            GridView view = gridView1;

            // Get the current row
            int rowHandle = view.FocusedRowHandle;

            // Get the 품목코드 value from the current row
            object productCode = view.GetRowCellValue(rowHandle, "품목코드");

            // Process the 품목코드 value
            ProcessProductCode(productCode);
        }

        private void ProcessProductCode(object productCode)
        {
            // Add your code to process the 품목코드 value
            MessageBox.Show($"품목코드 처리: {productCode}");
        }
    }
}
