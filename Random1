파일 확장자가 .cs인 파일만을 대상으로 특정 문자열을 포함하고 있는 파일을 찾고 싶다면, .cs 확장자를 가진 파일만 선택하여 검색하도록 코드를 수정해야 합니다. 아래는 그에 맞게 수정된 코드입니다.

python
코드 복사
import os

# 특정 폴더 경로와 찾을 문자열 정의
target_folder = 'your_directory_path_here'  # 여기에 확인할 폴더 경로 입력
search_string = 'your_search_string_here'  # 여기에 찾을 문자열 입력

# 파일 목록을 검색하기 위한 함수 정의
def find_files_containing_string(folder_path, search_str):
    # 결과를 저장할 리스트
    matching_files = []
    
    # 폴더와 그 하위 폴더의 모든 파일을 순회
    for root, _, files in os.walk(folder_path):
        for file in files:
            # .cs 파일만 선택
            if file.endswith('.cs'):
                file_path = os.path.join(root, file)
                try:
                    # 파일을 읽고, 해당 문자열이 포함되어 있는지 확인
                    with open(file_path, 'r', encoding='utf-8') as f:
                        for line in f:
                            if search_str in line:
                                # 문자열이 포함된 파일 경로를 결과 리스트에 추가
                                matching_files.append(file_path)
                                break
                except:
                    # 읽기 불가능한 파일의 경우 무시하고 넘어갑니다.
                    continue

    return matching_files

# 찾을 문자열이 포함된 파일 목록 출력
result_files = find_files_containing_string(target_folder, search_string)

# 결과 출력
if result_files:
    print("다음 .cs 파일에서 문자열을 찾았습니다:")
    for result in result_files:
        print(result)
else:
    print("해당 문자열을 포함하는 .cs 파일을 찾지 못했습니다.")
코드 변경 내용
파일 확장자 필터링:
if file.endswith('.cs'): 조건문을 추가하여 .cs 확장자로 끝나는 파일만 검색하도록 하였습니다.
나머지 코드 로직은 이전과 동일하며, 지정한 폴더와 그 하위 폴더에서 .cs 파일만 열어 특정 문자열을 포함하는지 확인합니다.
주의사항
폴더 경로와 검색할 문자열은 사용자가 직접 지정해야 합니다 (target_folder, search_string).
.cs 파일에만 접근하기 때문에 C# 소스 파일을 대상으로 작업할 때 적합합니다.