using DevExpress.Xpf.Core; // For ThemedWindow and ApplicationThemeHelper
using LockerManagementApp.ViewModels;
using System.Windows;

namespace LockerManagementApp.Views
{
    public partial class MainWindow : ThemedWindow // Use ThemedWindow
    {
        public MainWindow()
        {
            InitializeComponent();
            // Optional: Set a DevExpress Theme
            ApplicationThemeHelper.ApplicationThemeName = Theme.Office2019ColorfulName; // Or another theme
        }

        private MainViewModel? ViewModel => DataContext as MainViewModel;

        // Optional: Load data when the window is loaded
        private void ThemedWindow_Loaded(object sender, RoutedEventArgs e)
        {
            // ViewModel constructor already calls LoadDataAsync, but if you prefer explicit call:
            // ViewModel?.LoadDataCommand.Execute(null);
        }

        // Optional: Clean up resources like DbContext when closing
        private void ThemedWindow_Closing(object sender, System.ComponentModel.CancelEventArgs e)
        {
             // Ask user to save unsaved changes if necessary (more advanced)
             // ...

            ViewModel?.Cleanup(); // Dispose DbContext
        }
    }