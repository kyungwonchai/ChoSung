가상환경에서 CUDA 12.8 환경 변수 삭제하려면, 현재 세션에서 등록된 CUDA 경로를 삭제해야 합니다.

1. 현재 가상환경에서 CUDA 12.8 경로 확인
먼저, echo %PATH%를 실행해서 현재 어떤 CUDA 버전이 등록되어 있는지 확인합니다.

sh
코드 복사
echo %PATH%
✅ 출력 예시 (CUDA 12.8과 CUDA 12.4가 함께 등록됨)

css
코드 복사
C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v12.8\bin;
C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v12.4\bin;
...
🚨 이 경우, CUDA 12.8이 먼저 적용되고 있기 때문에 CUDA 12.4를 우선하도록 변경해야 합니다.

2. 현재 가상환경에서 CUDA 12.8 환경 변수 삭제 (임시)
가상환경을 실행한 후, 다음 명령어를 입력하여 현재 세션에서만 CUDA 12.8을 삭제합니다.

sh
코드 복사
set PATH=C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v12.4\bin;%PATH:;C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v12.8\bin=%
set CUDA_HOME=C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v12.4
✅ 위 명령어는 현재 실행된 터미널에서만 적용됩니다.
❌ 터미널을 닫으면 다시 CUDA 12.8이 적용될 수 있음.

🚀 확인:
이제 다시 nvcc --version을 실행하여 CUDA 12.4만 출력되는지 확인하세요.

3. 가상환경을 종료할 때 CUDA 12.8 경로를 자동 삭제하는 방법 (영구 적용)
가상환경을 실행할 때마다 CUDA 12.8을 자동으로 삭제하려면 가상환경 활성화 스크립트를 수정해야 합니다.

(1) Conda 가상환경을 사용하는 경우
✅ Conda 가상환경 내에서 CUDA 12.8을 삭제하고 CUDA 12.4만 사용하려면, 다음을 실행합니다.

sh
코드 복사
echo set PATH=C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v12.4\bin;%PATH:;C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v12.8\bin=% >> %CONDA_PREFIX%\etc\conda\activate.d\cuda_activate.bat
echo set CUDA_HOME=C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v12.4 >> %CONDA_PREFIX%\etc\conda\activate.d\cuda_activate.bat
이제 conda activate myenv를 실행할 때마다 CUDA 12.8이 자동으로 삭제됩니다.

(2) Virtualenv (venv) 가상환경을 사용하는 경우
✅ 가상환경을 실행할 때마다 CUDA 12.8이 자동으로 제거되도록 하려면, 다음 명령어를 실행합니다.

sh
코드 복사
echo set PATH=C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v12.4\bin;%PATH:;C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v12.8\bin=% >> myenv\Scripts\activate.bat
echo set CUDA_HOME=C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v12.4 >> myenv\Scripts\activate.bat
이제 myenv\Scripts\activate를 실행할 때마다 CUDA 12.8이 자동으로 삭제됩니다.

4. 변경 후 확인
가상환경을 다시 실행한 후, CUDA 버전이 제대로 설정되었는지 확인합니다.

sh
코드 복사
nvcc --version
✅ 출력 예시 (이제 CUDA 12.4만 출력됨)

arduino
코드 복사
nvcc: NVIDIA (R) Cuda compiler