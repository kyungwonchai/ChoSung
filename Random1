using DevExpress.XtraEditors;
using System;
using System.IO;
using System.Windows.Forms;

namespace YourNamespace
{
    public partial class YourForm : Form
    {
        private string directoryPath = @"c:\agent\pyjukw";

        public YourForm()
        {
            InitializeComponent();
            RefreshFileList();
        }

        private void RefreshFileList()
        {
            listControl1.Items.Clear();
            string[] files = Directory.GetFiles(directoryPath, "*.txt");
            foreach (string file in files)
            {
                listControl1.Items.Add(Path.GetFileName(file));
            }
        }

        private void listControl1_DoubleClick(object sender, EventArgs e)
        {
            if (listControl1.SelectedItem != null)
            {
                string selectedFile = Path.Combine(directoryPath, listControl1.SelectedItem.ToString());
                textBox1.Text = File.ReadAllText(selectedFile);
                textBox2.Text = selectedFile;
            }
        }

        private void save1Button_Click(object sender, EventArgs e)
        {
            string selectedFile = textBox2.Text;
            if (!string.IsNullOrEmpty(selectedFile) && !string.IsNullOrEmpty(textBox1.Text))
            {
                File.WriteAllText(selectedFile, textBox1.Text);
                RefreshFileList();
            }
        }
    }
}
