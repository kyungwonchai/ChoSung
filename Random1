using System;
using System.Timers;

class Program
{
    private static Timer timer;
    private static int executionCount = 0;
    private const int maxExecutions = 10;

    static void Main(string[] args)
    {
        // 타이머 설정: 10분 간격 (10분 = 600,000밀리초)
        timer = new Timer(600000);
        timer.Elapsed += OnTimedEvent;
        timer.AutoReset = true;
        timer.Enabled = true;

        // 타이머가 멈출 때까지 대기
        Console.WriteLine("Press Enter to exit the program at any time...");
        Console.ReadLine();
    }

    private static void OnTimedEvent(Object source, ElapsedEventArgs e)
    {
        // A 함수 호출
        A();

        // 실행 횟수 증가
        executionCount++;

        // 실행 횟수가 최대 실행 횟수에 도달하면 프로그램 종료
        if (executionCount >= maxExecutions)
        {
            timer.Stop();
            timer.Dispose();
            Console.WriteLine("Execution complete. Press Enter to exit the program.");
        }
    }

    private static void A()
    {
        // A 함수의 실제 내용
        Console.WriteLine("A function executed at {0:HH:mm:ss.fff}", DateTime.Now);
    }
}
