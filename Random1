Gemini
Gemini와의 대화
은분투에서 samba받아서 인트라넷라즈배ㅣ리파이5에깔건데

네, 인트라넷 환경에 있는 라즈베리 파이 5에 Samba 서버를 설치하고 설정하는 방법을 안내해 드리겠습니다. 인트라넷 환경을 고려하여 인터넷이 될 경우와 안 될 경우 두 가지 방법으로 설치를 진행합니다.

사전 준비
먼저 라즈베리 파이에 SSH로 접속한 후, 패키지 목록을 최신 상태로 업데이트하는 것이 좋습니다.

Bash
sudo apt update
sudo apt upgrade -y
## 1. Samba 설치
방법 1: 라즈베리 파이가 잠시라도 인터넷에 연결될 수 있는 경우 (가장 간단)
가장 간단한 방법입니다. 아래 명령어로 Samba를 바로 설치합니다.

Bash
sudo apt install samba -y
방법 2: 라즈베리 파이가 완전히 폐쇄된 인트라넷에 있는 경우 (오프라인 설치)
인터넷이 가능한 다른 PC(우분투 또는 Debian 계열)에서 Samba 패키지와 의존성 파일들을 다운로드하여 라즈베리 파이로 옮겨야 합니다.

인터넷이 되는 PC에서 아래 명령어로 Samba 관련 .deb 파일들을 다운로드합니다.

Bash
# samba-packages 폴더를 만들고 이동합니다.
mkdir ~/samba-packages
cd ~/samba-packages

# samba와 주요 의존성 패키지를 다운로드합니다.
apt-get download samba samba-common-bin tdb-tools
만약 위 패키지 외에 추가 의존성이 필요하다고 나오면, 같은 방식으로 필요한 패키지를 모두 다운로드합니다.

다운로드한 .deb 파일들을 USB나 scp 등을 이용해 라즈베리 파이로 복사합니다. 예를 들어 scp를 사용한다면:

Bash
# 로컬 PC에서 라즈베리 파이로 파일 전송
scp ~/samba-packages/*.deb pi@<라즈베리파이_IP>:~/
라즈베리 파이에서 복사한 파일들을 dpkg 명령어로 설치합니다.

Bash
# 파일들이 복사된 폴더로 이동 (예: pi의 홈 디렉토리)
cd ~

# dpkg로 모든 .deb 파일 설치
sudo dpkg -i *.deb
## 2. Samba 설정
이제 공유할 폴더를 만들고, Samba 설정 파일을 수정합니다.

공유 폴더 생성 윈도우와 파일을 공유할 디렉토리를 만듭니다. 여기서는 pi 유저의 홈 디렉토리에 shared 라는 폴더를 만들겠습니다.

Bash
mkdir /home/pi/shared
폴더 권한 설정 누구나 쉽게 파일을 쓰고 읽을 수 있도록 권한을 변경합니다. (인트라넷이므로 보안상 위험이 적다고 가정)

Bash
sudo chmod 777 /home/pi/shared
Samba 설정 파일 백업 및 수정 만약을 위해 원본 설정 파일을 백업해두는 것이 좋습니다.

Bash
sudo cp /etc/samba/smb.conf /etc/samba/smb.conf.bak
이제 설정 파일을 열어 편집합니다.

Bash
sudo nano /etc/samba/smb.conf
파일의 맨 아래로 이동하여 아래 내용을 추가합니다.

Ini, TOML
[SharedFolder]
   comment = Raspberry Pi Share
   path = /home/pi/shared
   browseable = yes
   writable = yes
   guest ok = yes
   read only = no
   create mask = 0777
   directory mask = 0777
[SharedFolder]: 윈도우에서 보일 공유 폴더의 이름입니다.

path: 실제 라즈베리 파이의 공유 폴더 경로입니다.

guest ok = yes: 별도 비밀번호 없이 접속을 허용하는 설정입니다.

수정이 끝났으면 Ctrl + X 키를 누르고, Y를 입력한 뒤, Enter를 눌러 저장합니다.

Samba 서비스 재시작 변경된 설정을 적용하기 위해 Samba 서비스를 재시작합니다.

Bash
sudo systemctl restart smbd
## 3. (선택) 비밀번호로 접속 설정하기
guest 접속 대신 특정 사용자에게만 허용하고 싶다면 아래와 같이 설정합니다.

Samba 사용자 추가 라즈베리 파이의 기존 사용자(pi 계정)에게 Samba 접속용 비밀번호를 설정합니다. (시스템 계정 암호와 달라도 됩니다)

Bash
sudo smbpasswd -a pi
명령어를 실행하면 pi 계정에 사용할 Samba 비밀번호를 두 번 입력하라고 나옵니다.

설정 파일 수정 smb.conf 파일에서 guest ok = yes 부분을 guest ok = no로 변경하거나 해당 줄을 삭제하고 저장합니다.

Bash
sudo nano /etc/samba/smb.conf
Ini, TOML
[SharedFolder]
   comment = Raspberry Pi Share
   path = /home/pi/shared
   browseable = yes
   writable = yes
   read only = no
   valid users = pi  # 'pi' 사용자만 접속 허용
   guest ok = no     # 게스트 접속 비허용
서비스 재시작

Bash
sudo systemctl restart smbd
## 4. 윈도우 PC에서 접속하기
키보드에서 Win + R 키를 눌러 실행창을 엽니다.

아래와 같이 라즈베리 파이의 IP 주소와 공유 폴더 이름을 입력하고 확인을 누릅니다.

\\<라즈베리파이_IP_주소>\SharedFolder
(예: \\192.168.0.10\SharedFolder)

비밀번호를 설정했다면 사용자 이름(pi)과 설정한 Samba 비밀번호를 입력하라는 창이 나타납니다.

이제 윈도우 탐색기에서 라즈베리 파이의 공유 폴더를 네트워크 드라이브처럼 사용할 수 있습니다.




Gemini는 인물 등에 관한 정보 제공 시 실수를 할 수 있으니 다시 한번 확인하세요. 개인 정보 보호 및 Gemini새 창에서 열기