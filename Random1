SSQL에서 특정 조건을 만족하는 상위 1개의 행만 삭제하려면 TOP 1과 ORDER BY를 함께 사용해야 합니다.

방법 1: DELETE + TOP (1)
sql
코드 복사
DELETE TOP (1)
FROM 테이블명
WHERE 조건
하지만, DELETE TOP (1)은 특정 정렬 순서 없이 삭제되므로, 가장 먼저 나오는 행을 제어하고 싶다면 ORDER BY와 함께 WITH (ROWLOCK)을 사용하는 방법이 일반적입니다.

방법 2: DELETE + WITH CTE (Common Table Expression)
sql
코드 복사
WITH CTE AS (
    SELECT TOP (1) *
    FROM 테이블명
    WHERE 조건
    ORDER BY 정렬컬럼 ASC  -- 오름차순(ASC) 또는 내림차순(DESC)
)
DELETE FROM CTE;
ORDER BY로 원하는 행을 선택한 후 삭제할 수 있습니다.

방법 3: DELETE + SUBQUERY
sql
코드 복사
DELETE FROM 테이블명
WHERE 기본키컬럼 IN (
    SELECT TOP 1 기본키컬럼
    FROM 테이블명
    WHERE 조건
    ORDER BY 정렬컬럼 ASC
);
고유 번호(기본키)가 없으면 ROW_NUMBER()를 활용하는 방법도 있습니다.

방법 4: DELETE + ROW_NUMBER()
sql
코드 복사
WITH CTE AS (
    SELECT *, ROW_NUMBER() OVER (ORDER BY 정렬컬럼 ASC) AS RowNum
    FROM 테이블명
    WHERE 조건
)
DELETE FROM 테이블명
WHERE EXISTS (
    SELECT 1 FROM CTE WHERE CTE.RowNum = 1 AND 테이블명.컬럼명 = CTE.컬럼명
);
ROW_NUMBER()를 사용하면 정렬 기준을 정확히 지정할 수 있습니다.

⚠️ 주의사항
정렬(ORDER BY)을 반드시 지정해야 원하는 행을 삭제할 수 있습니다.
**기본키(PK)**가 없다면 삭제할 대상을 특정하기 어려우므로 ROW_NUMBER()를 활용하는 것이 좋습니다.