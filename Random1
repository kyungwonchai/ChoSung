트라넷 환경(오프라인)의 라즈베리파이 5에 pip 패키지를 설치하는 것은 "인터넷이 되는 PC"에서 모든 필요 파일을 다운로드한 후, USB로 옮겨서 오프라인 PC에 설치하는 2단계 작업이 필요합니다.

가장 좋은 방법은 인터넷이 연결된 **다른 라즈베리파이(혹은 동일한 OS/아키텍처의 Linux PC)**를 잠시 사용하는 것입니다.

1단계: [인터넷 PC] 패키지 및 모든 의존성 다운로드
SK6815를 제어하는 코드는 adafruit-circuitpython-neopixel 라이브러리와 그 성능 백엔드인 rpi_ws281x를 사용합니다. pip download 명령은 이 라이브러리뿐만 아니라 이에 필요한 모든 의존성 패키지(adafruit-blinka, gpiod, spidev 등)를 .whl 파일로 전부 받아줍니다.

(인터넷이 되는 PC에서) USB 드라이브를 연결합니다.

터미널을 열고 다운로드할 폴더를 만듭니다. (예: USB에 led_packages 폴더 생성)

Bash

# USB 경로가 /media/my_usb 라고 가정
mkdir /media/my_usb/led_packages
pip download 명령으로 해당 폴더에 모든 파일을 다운로드합니다.

Bash

pip download adafruit-circuitpython-neopixel rpi_ws281x -d /media/my_usb/led_packages
작업이 완료되면 USB를 안전하게 제거합니다. 이제 led_packages 폴더 안에는 설치에 필요한 모든 .whl 파일이 들어있습니다.

2단계: [오프라인 Pi 5] USB에서 패키지 설치
이제 인터넷이 안 되는 인트라넷의 라즈베리파이 5로 이동합니다.

파일이 담긴 USB를 오프라인 Pi 5에 연결합니다.

터미널을 열고 USB의 해당 폴더로 이동합니다.

Bash

# USB 경로가 /media/my_usb 라고 가정
cd /media/my_usb/led_packages
다음 명령어를 실행하여 로컬 파일로 설치합니다.

Bash

sudo pip3 install . --no-index --find-links .
위 명령어의 의미
sudo: GPIO 제어 라이브러리는 시스템에 설치되어야 하므로 관리자 권한이 필요합니다.

pip3 install .: "현재 폴더(.)"에 있는 패키지들을 설치하겠다. (pip가 알아서 순서를 정해줍니다)

--no-index: (가장 중요) "절대로 인터넷(PyPI)에 접속하지 마라." (인트라넷이므로 필수)

--find-links .: "설치 중 필요한 다른 의존성 패키지가 있다면, 인터넷 대신 이 현재 폴더(.)"에서 찾아서 설치해라."

이 과정을 거치면 인터넷 연결 없이도 neopixel 라이브러리와 구동에 필요한 모든 의존성 패키지가 오프라인 Pi 5에 성공적으로 설치됩니다.

⚠️ 중요: 시스템 라이브러리 문제
pip는 파이썬 라이브러리만 설치합니다. 만약 rpi_ws281x나 gpiod가 의존하는 시스템 라이브러리(예: libgpiod2)가 오프라인 Pi에 설치되어 있지 않다면 pip 설치가 실패할 수 있습니다.

이 경우, 1단계(인터넷 PC)에서 해당 .deb 파일도 미리 받아야 합니다.

[인터넷 Pi] 시스템 라이브러리 다운로드

Bash

apt-get download libgpiod2
[오프라인 Pi] 시스템 라이브러리 먼저 설치

Bash

# USB에서 .deb 파일이 있는 곳으로 이동