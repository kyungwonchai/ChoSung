폴더의 하위 폴더를 검사하여 각 폴더 내 파일들의 합계가 1GB 이상인 경우 그 폴더의 목록을 출력하는 C# 코드를 제공하겠습니다. 이 코드는 폴더 내 직접 포함된 파일들의 총 크기만 계산하여, 그 크기가 1GB 이상인 폴더의 경로를 출력합니다.

csharp
Copy code
using System;
using System.IO;

class Program
{
    static void Main(string[] args)
    {
        string rootPath = @"C:\Path\To\Start";  // 분석을 시작할 루트 디렉토리 경로
        Console.WriteLine("1GB 이상 파일을 포함하는 폴더:");
        ListLargeFolders(rootPath);
    }

    static void ListLargeFolders(string path)
    {
        DirectoryInfo rootDir = new DirectoryInfo(path);
        foreach (DirectoryInfo dir in rootDir.GetDirectories())
        {
            long size = CalculateFolderSize(dir);
            if (size >= 1073741824) // 1GB 이상
            {
                Console.WriteLine($"{dir.FullName} ({size} bytes)");
            }
            ListLargeFolders(dir.FullName);  // 하위 폴더도 검사
        }
    }

    static long CalculateFolderSize(DirectoryInfo directory)
    {
        long size = 0;
        FileInfo[] files = directory.GetFiles();  // 현재 폴더의 파일만 계산
        foreach (FileInfo file in files)
        {
            size += file.Length;
        }
        return size;
    }
}
설명
ListLargeFolders 함수: 지정된 경로의 모든 하위 디렉토리를 순회하며 각 폴더의 파일들만의 총 크기를 계산합니다. 각 폴더의 파일 총합이 1GB 이상인 경우, 그 폴더의 경로와 크기를 출력합니다. 또한, 이 함수는 재귀적으로 호출되어 모든 하위 폴더를 검사합니다.
CalculateFolderSize 함수: 주어진 디렉토리 내의 파일들의 크기만을 계산하여 반환합니다. 하위 폴더의 파일 크기는 포함하지 않습니다.
이 코드는 각 폴더를 독립적으로 검토하여 폴더 내 파일들의 총합이 1GB 이상인 경우에만 경로를 출력합니다. 이는 큰 파일들이 집중되