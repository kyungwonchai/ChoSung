이해했습니다. 이름으로 시스템의 알람 소리를 찾는 함수를 수정하여, 소리 이름을 파라미터로 받아 해당 소리를 재생할 수 있도록 하겠습니다. 아래는 수정된 함수 코드입니다.

수정된 함수 코드
kotlin
코드 복사
import android.content.ContentResolver
import android.database.Cursor
import android.media.AudioAttributes
import android.media.MediaPlayer
import android.net.Uri
import android.provider.MediaStore
import android.util.Log

private fun playAlarmSoundByName(soundName: String) {
    val soundUri = getRingtoneUriByName(soundName)

    if (soundUri == null) {
        Log.e("MainActivity", "소리를 찾을 수 없습니다: $soundName")
        return
    }

    try {
        mediaPlayer = MediaPlayer().apply {
            setAudioAttributes(
                AudioAttributes.Builder()
                    .setContentType(AudioAttributes.CONTENT_TYPE_SONIFICATION)
                    .setUsage(AudioAttributes.USAGE_ALARM)
                    .build()
            )
            setDataSource(this@MainActivity, soundUri)
            isLooping = true // 소리 반복 재생
            prepare()
            start()
        }
    } catch (e: Exception) {
        Log.e("MainActivity", "Failed to play alarm sound", e)
    }
}

private fun stopAlarmSound() {
    mediaPlayer?.let {
        if (it.isPlaying) {
            it.stop()
            it.release()
        }
    }
}

// 특정 이름의 알람 소리를 찾는 함수
private fun getRingtoneUriByName(ringtoneName: String): Uri? {
    val contentResolver: ContentResolver = contentResolver
    val uri = MediaStore.Audio.Media.INTERNAL_CONTENT_URI
    val projection = arrayOf(MediaStore.Audio.Media._ID, MediaStore.Audio.Media.TITLE)
    val selection = "${MediaStore.Audio.Media.TITLE}=?"
    val selectionArgs = arrayOf(ringtoneName)

    val cursor: Cursor? = contentResolver.query(uri, projection, selection, selectionArgs, null)
    cursor?.use {
        if (it.moveToFirst()) {
            val id = it.getLong(it.getColumnIndexOrThrow(MediaStore.Audio.Media._ID))
            return Uri.withAppendedPath(uri, id.toString())
        }
    }
    return null
}
설명
playAlarmSoundByName(soundName: String):

소리 이름을 파라미터로 받아 시스템에서 해당 이름의 소리를 찾고, MediaPlayer를 사용하여 재생합니다.
소리가 없으면 로그 메시지를 출력하고 재생을 중단합니다.
getRingtoneUriByName(ringtoneName: String): Uri?:

특정 이름의 소리를 찾기 위해 시스템의 오디오 파일 목록을 탐색합니다.
소리 이름과 일치하는 URI가 있으면 반환하고, 없으면 null을 반환합니다.
stopAlarmSound():

현재 재생 중인 소리를 중지하고 리소스를 해제합니다.
사용법
함수 호출: 재생하고자 하는 소리의 이름을 파라미터로 전달하여 호출합니다.
kotlin
코드 복사
playAlarmSoundByName("Signal")
소리 멈추기: 소리를 멈추고 싶을 때는 stopAlarmSound() 함수를 호출합니다.
kotlin
코드 복사
stopAlarmSound()