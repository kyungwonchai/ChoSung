로 새로고침하는 기능을 추가하려면, JavaScript를 사용하여 체크박스 상태를 감지하고, 체크되어 있을 경우 **setInterval**을 사용해 주기적으로 페이지를 새로고침하는 코드를 작성할 수 있습니다.

1. index.html 수정 (체크박스 추가 및 새로고침 로직 구현)
templates/index.html
html
코드 복사
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Command Log Table</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
        }

        /* 버튼 고정 */
        .fixed-button {
            position: fixed;
            top: 10px;
            left: 10px;
            z-index: 1000;
        }

        /* 테이블 스타일 */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            font-size: 18px;
            text-align: left;
        }
        th, td {
            padding: 12px 15px;
            border: 1px solid #ddd;
        }
        th {
            background-color: #f2f2f2;
        }

        /* 기본 배경색: 하늘색 */
        .bg-lightblue {
            background-color: lightblue;
        }

        /* RCC 포함시 배경색: 노란색 */
        .bg-yellow {
            background-color: yellow;
        }

        /* '-'만 포함된 경우 배경색: 주황색 */
        .bg-orange {
            background-color: orange;
        }

        /* 테이블이 스크롤될 수 있도록 설정 */
        .table-container {
            margin-top: 60px;
            overflow-y: auto;
            height: 80vh; /* 화면 높이의 80%로 설정 */
        }
    </style>

    <script>
        let refreshInterval = null;  // 자동 새로고침 간격을 관리할 변수

        // 체크박스 상태 변경 시 호출되는 함수
        function toggleAutoRefresh(checkbox) {
            if (checkbox.checked) {
                // 체크박스가 체크되면 5초마다 새로고침
                refreshInterval = setInterval(() => {
                    location.reload();
                }, 5000);  // 5000ms = 5초
            } else {
                // 체크박스가 체크 해제되면 자동 새로고침 중단
                clearInterval(refreshInterval);
            }
        }
    </script>
</head>
<body>

<h2>Command Log Table</h2>

<!-- 상단에 고정된 새로고침 버튼과 체크박스 -->
<div class="fixed-button">
    <button onclick="location.reload();">새로고침</button>
    <label>
        <input type="checkbox" id="auto-refresh-checkbox" onchange="toggleAutoRefresh(this)">
        5초마다 새로고침
    </label>
</div>

<!-- 테이블이 포함된 컨테이너 -->
<div class="table-container">
    <table>
        <thead>
            <tr>
                {% for column in columns %}
                <th>{{ column }}</th>
                {% endfor %}
            </tr>
        </thead>
        <tbody>
            {% for row in rows %}
            <tr class="
                {% if 'RCC' in row[2] %}
                    bg-yellow
                {% elif row[2] == '-' %}
                    bg-orange
                {% else %}
                    bg-lightblue
                {% endif %}
            ">
                {% for item in row %}
                <td>{{ item }}</td>
                {% endfor %}
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

</body>
</html>
2. 동작 설명:
체크박스와 자바스크립트 코드 추가:

상단에 새로고침 버튼 옆에 체크박스를 추가했습니다. 체크박스를 클릭하면 toggleAutoRefresh() 함수가 호출됩니다.
자동 새로고침 기능:

체크박스가 체크되면, **setInterval()**을 사용하여 5초마다 페이지를 새로고침합니다.
체크박스가 체크 해제되면, **clearInterval()**로 자동 새로고침을 중단합니다.
setInterval과 clearInterval:

**setInterval**은 5초(5000ms) 간격으로 **location.reload()**를 호출하여 페이지를 새로고침합니다.
**clearInterval**은 체크박스를 해제했을 때, 새로고침을 중단합니다.
3. 실행 후 결과:
새로고침 버튼을 수동으로 눌러 페이지를 새로고침할 수 있습니다.
체크박스를 클릭하여 체크하면 5초마다 자동으로 페이지가 새로고침됩니다.
체크박스를 해제하면 자동 새로고침이 중단됩니다.
요약:
체크박스가 체크된 상태에서 5초마다 페이지를 자동 새로고침하게 설정했습니다.
체크박스가 해제되면 자동 새로고침이 