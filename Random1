로 수정된 Python Flask 애플리케이션 코드와 HTML 템플릿 파일입니다.

Python Flask 애플리케이션 코드 (app.py):

python

from flask import Flask, render_template
import pyodbc
import base64

app = Flask(__name__)

# MSSQL 연결 설정
connection_string = "Driver={SQL Server};Server=your_server;Database=your_database;UID=your_username;PWD=your_password"

@app.route('/')
def index():
    # 데이터베이스에서 이미지 가져오기
    conn = pyodbc.connect(connection_string)
    cursor = conn.cursor()
    query = "SELECT Image1 FROM your_table"
    cursor.execute(query)
    results = cursor.fetchall()

    # 이미지 데이터를 Flask 템플릿에 전달하여 렌더링
    images = []
    for row in results:
        image_data = row[0]
        encoded_image = base64.b64encode(image_data).decode('utf-8')
        images.append(encoded_image)

    return render_template('index.html', images=images)

if __name__ == '__main__':
    app.run(port=5000)

위의 코드에서 your_table은 실제로 사용되는 테이블 이름으로 대체되어야 합니다. 또한, your_server, your_database, your_username, your_password은 실제 MSSQL 데이터베이스에 알맞게 설정되어야 합니다.

HTML 템플릿 파일 (templates/index.html):

html

<!DOCTYPE html>
<html>
<head>
    <title>Image Gallery</title>
</head>
<body>
    <h1>Image Gallery</h1>

    <div>
        {% for image in images %}
            <img src="data:image/png;base64,{{ image }}" width="300" height="200" alt="Image">
        {% endfor %}
    </div>
</body>
</html>

위의 코드는 templates 폴더에 index.html 파일로 저장되어야 합니다. 템플릿 파일은 Flask 애플리케이션에서 이미지 데이