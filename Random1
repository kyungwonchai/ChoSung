시저(Stored Procedure)를 작성하는 기본 형식은 다음과 같습니다:

sql

CREATE PROCEDURE 저장프로시저이름
    @파라미터1 타입1,
    @파라미터2 타입2,
    ...
AS
BEGIN
    -- 로직
END;

예시 1: 입력 파라미터만 있는 경우

sql

CREATE PROCEDURE GetEmployeeInfo
    @EmployeeID INT
AS
BEGIN
    SELECT * FROM Employees WHERE ID = @EmployeeID;
END;

예시 2: 출력 파라미터를 포함한 경우

sql

CREATE PROCEDURE GetEmployeeCount
    @DepartmentName NVARCHAR(50),
    @EmployeeCount INT OUTPUT
AS
BEGIN
    SELECT @EmployeeCount = COUNT(*) FROM Employees WHERE Department = @DepartmentName;
END;

예시 3: 입력과 출력 파라미터 모두 있는 경우

sql

CREATE PROCEDURE CalculateSalary
    @EmployeeID INT,
    @Bonus INT,
    @TotalSalary INT OUTPUT
AS
BEGIN
    DECLARE @BaseSalary INT;

    SELECT @BaseSalary = Salary FROM Employees WHERE ID = @EmployeeID;

    SET @TotalSalary = @BaseSalary + @Bonus;
END;

이렇게 작성한 저장 프로시저는 SQL Server의 관리 도구나 다른 API를 통해 호출할 수 있습니다. C#에서는 SqlCommand 객체를 사용하여 저장 프로시저를 실행할 수 있습니다.

기본적으로 저장 프로시저를 사용하면 코드의 재사용성이 높아지고, 데이터베이스와 애플리케이션 사이의 통신 성능이 개선될 수 있습니다.
